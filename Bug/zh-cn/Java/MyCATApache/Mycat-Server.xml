<?xml version="1.0" encoding="ISO-8859-1"?>

<bugs>
	<bug>
		<id>1569</id>
		<title>当插入的字符串中只含有一个英文状态的双引号的时候，mycat会进入假死状态。</title>
		<body>sql：INSERT INTO table(column) VALUES ('test"');   经调试代码应该是在io.mycat.route.util.RouterUtil类中的handleBatchInsert方法有问题。</body>
		<created>2017-07-14 09:35:09</created>
		<closed>2017-07-16 16:07:57</closed>
	</bug>
	<bug>
		<id>1524</id>
		<title>mycat-1.6出现异常同时mycat到mysql的连接数会超过maxCon</title>
		<body>出现异常的部分日志 `INFO   | jvm 1    | 2017/06/06 19:30:16 | } java.io.IOException: the max activeConnnections size can not be max than maxconnections INFO   | jvm 1    | 2017/06/06 19:30:16 |       at io.mycat.backend.datasource.PhysicalDatasource.getConnection(PhysicalDatasource.java:411) INFO   | jvm 1    | 2017/06/06 19:30:16 |       at io.mycat.backend.datasource.PhysicalDBNode.getConnection(PhysicalDBNode.java:134) INFO   | jvm 1    | 2017/06/06 19:30:16 |       at io.mycat.backend.mysql.nio.handler.MultiNodeQueryHandler.execute(MultiNodeQueryHandler.java:184) INFO   | jvm 1    | 2017/06/06 19:30:16 |       at io.mycat.server.NonBlockingSession.checkDistriTransaxAndExecute(NonBlockingSession.java:185) INFO   | jvm 1    | 2017/06/06 19:30:16 |       at io.mycat.server.NonBlockingSession.execute(NonBlockingSession.java:147) INFO   | jvm 1    | 2017/06/06 19:30:16 |       at io.mycat.server.ServerConnection.routeEndExecuteSQL(ServerConnection.java:288) INFO   | jvm 1    | 2017/06/06 19:30:16 |       at io.mycat.server.ServerConnection.execute(ServerConnection.java:222) INFO   | jvm 1    | 2017/06/06 19:30:16 |       at io.mycat.server.ServerQueryHandler.query(ServerQueryHandler.java:136) INFO   | jvm 1    | 2017/06/06 19:30:16 |       at io.mycat.net.FrontendConnection.query(FrontendConnection.java:317) INFO   | jvm 1    | 2017/06/06 19:30:16 |       at io.mycat.net.FrontendConnection.query(FrontendConnection.java:337) INFO   | jvm 1    | 2017/06/06 19:30:16 |       at io.mycat.net.handler.FrontendCommandHandler.handle(FrontendCommandHandler.java:71) INFO   | jvm 1    | 2017/06/06 19:30:16 |       at io.mycat.net.FrontendConnection.rawHandle(FrontendConnection.java:478) INFO   | jvm 1    | 2017/06/06 19:30:16 |       at io.mycat.net.FrontendConnection.handle(FrontendConnection.java:460) INFO   | jvm 1    | 2017/06/06 19:30:16 |       at io.mycat.net.AbstractConnection.onReadData(AbstractConnection.java:321) INFO   | jvm 1    | 2017/06/06 19:30:16 |       at io.mycat.net.NIOSocketWR.asynRead(NIOSocketWR.java:190) INFO   | jvm 1    | 2017/06/06 19:30:16 |       at io.mycat.net.AbstractConnection.asynRead(AbstractConnection.java:273) INFO   | jvm 1    | 2017/06/06 19:30:16 |       at io.mycat.net.NIOReactor$RW.run(NIOReactor.java:102) INFO   | jvm 1    | 2017/06/06 19:30:16 |       at java.lang.Thread.run(Thread.java:744) INFO   | jvm 1    | 2017/06/06 19:30:16 |  (io.mycat.server.NonBlockingSession:NonBlockingSession.java:153)  INFO   | jvm 1    | 2017/06/06 19:30:16 | 2017-06-06 19:30:16,385 [ERROR][$_NIOREACTOR-6-RW] the max activeConnnections size can not be max than maxconnections  (io.mycat.backend.datasource.PhysicalDatasource:PhysicalDatasource.java:410) `  同时连接数会超过配置的maxConn值 schema.xml部分配置如下： `&lt;mycat:schema xmlns:mycat="http://io.mycat/"&gt;         &lt;schema name="push_log" checkSQLschema="false" sqlMaxLimit="100"&gt;                 &lt;!-- t_message_info_xx --&gt;                 &lt;table name="t_message_info_01" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_02" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_03" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_04" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_05" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_06" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_07" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_08" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_09" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_10" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_11" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_12" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_13" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_14" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_15" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_16" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_17" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_18" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_19" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_20" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_21" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_22" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_23" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_24" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_25" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_26" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_27" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_28" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_29" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_30" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_info_31" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;!-- t_message_push_info_xx --&gt;                 &lt;table name="t_message_push_info_01" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_02" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_03" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_04" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_05" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_06" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_07" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_08" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_09" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_10" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_11" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_12" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_13" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_14" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_15" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_16" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_17" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_18" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_19" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_20" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_21" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_22" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_23" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_24" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_25" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_26" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_27" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_28" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_29" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_30" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;                 &lt;table name="t_message_push_info_31" primaryKey="ID" dataNode="dn1,dn2" rule="sharding-by-murmur" /&gt;         &lt;/schema&gt;         &lt;dataNode name="dn1" dataHost="dh1" database="push_log" /&gt;         &lt;dataNode name="dn2" dataHost="dh1" database="push_log2" /&gt;         &lt;!-- dh1 --&gt;         &lt;dataHost name="dh1" maxCon="200" minCon="10" balance="0"                           writeType="0" dbType="mysql" dbDriver="native" switchType="1"  slaveThreshold="100"&gt;                 &lt;heartbeat&gt;select user()&lt;/heartbeat&gt;                 &lt;writeHost host="hostM1" url="host1:3306" user="xxx" password="xxx"&gt;                 &lt;readHost host="hostS2" url="host2:3306" user="xxx" password="xxx" /&gt;                 &lt;/writeHost&gt;         &lt;/dataHost&gt; &lt;/mycat:schema&gt;`</body>
		<created>2017-06-07 12:49:19</created>
		<closed>2017-06-23 14:01:29</closed>
	</bug>
	<bug>
		<id>1435</id>
		<title>Avg 函数别名结果不对</title>
		<body>mycat1.6 Avg 函数别名结果不对：  mysql&gt; select avg(cust_id) GG from customer t;  +---------------+ | GG            | +---------------+ | 2001243655000 | +---------------+ 1 row in set 没有别名结果是正确的： mysql&gt; select avg(cust_id)  from customer t; +----------------+ | AVG0           | +----------------+ | 200124365.5000 | +----------------+ 1 row in set </body>
		<created>2017-04-10 06:50:52</created>
		<closed>2018-06-11 12:31:51</closed>
	</bug>
	<bug>
		<id>143</id>
		<title>mycat直接执行存储过程，一直处于执行中状态，无法显示结果</title>
		<body>在mycat中直接执行mysql中的存储过程，一直处于执行中状态，无法显示结果。 目前可以通过/_!mycat: sql=select \* from base_user where id_=1;_/CALL proc_test(); 这个注解的方式正常执行，但是需要把存储过程中的sql写到注解中，感觉有些不是很方便，不知道还有没有其他方式能正常执行！ </body>
		<created>2015-02-08 13:52:21</created>
		<closed>2015-02-17 13:24:32</closed>
	</bug>
	<bug>
		<id>127</id>
		<title>v1.3.2-druidparser解析，但报另外一个解析的org.opencloudb.parser.SQLParserDelegate.parse异常</title>
		<body>1.解析器：druidparser 2.SQL：insert into test01(name,descs) values('sdf','sdf'),values('sdfdf','sdfdsgfdf'） 3.备注：id使用db自增序列 5.异常信息： 01/29 16:48:40.105  DEBUG [$_NIOREACTOR-3-RW](ServerQueryHandler.java:64) -ServerConnection [id=1, schema=iems, host=192.168.1.208, user=root,txIsolation=3, autocommit=true, schema=tt]insert into test01(name,descs) values('sdf','sdf'),values('sdfdf','sdfdsgfdf') 01/29 16:48:40.107  ERROR [Thread-1](MyCATSequnceProcessor.java:84) -MyCATSequenceProcessor.executeSeq(SesionSQLPair) java.sql.SQLSyntaxErrorException: com.foundationdb.sql.StandardException: VALUES is empty     at org.opencloudb.parser.SQLParserDelegate.parse(SQLParserDelegate.java:70)     at org.opencloudb.route.MyCATSequnceProcessor.executeSeq(MyCATSequnceProcessor.java:74)     at org.opencloudb.route.MyCATSequnceProcessor.access$200(MyCATSequnceProcessor.java:22)     at org.opencloudb.route.MyCATSequnceProcessor$ExecuteThread.run(MyCATSequnceProcessor.java:101) Caused by: com.foundationdb.sql.StandardException: VALUES is empty     at com.foundationdb.sql.parser.SQLGrammar.rowValueConstructorElement(SQLGrammar.java:8583)     at com.foundationdb.sql.parser.SQLGrammar.rowValueConstructor(SQLGrammar.java:8521)     at com.foundationdb.sql.parser.SQLGrammar.tableValueConstructorList(SQLGrammar.java:9824)     at com.foundationdb.sql.parser.SQLGrammar.tableValueConstructor(SQLGrammar.java:9805)     at com.foundationdb.sql.parser.SQLGrammar.simpleTable(SQLGrammar.java:4598)     at com.foundationdb.sql.parser.SQLGrammar.nonJoinQueryPrimary(SQLGrammar.java:4573)     at com.foundationdb.sql.parser.SQLGrammar.nonJoinQueryTerm(SQLGrammar.java:4462)     at com.foundationdb.sql.parser.SQLGrammar.queryExpression(SQLGrammar.java:4367)     at com.foundationdb.sql.parser.SQLGrammar.insertColumnsAndSource(SQLGrammar.java:8384)     at com.foundationdb.sql.parser.SQLGrammar.insertStatement(SQLGrammar.java:2449)     at com.foundationdb.sql.parser.SQLGrammar.preparableSQLDataStatement(SQLGrammar.java:2208)     at com.foundationdb.sql.parser.SQLGrammar.StatementPart(SQLGrammar.java:1948)     at com.foundationdb.sql.parser.SQLGrammar.Statement(SQLGrammar.java:1846)     at com.foundationdb.sql.parser.SQLGrammar.parseStatement(SQLGrammar.java:1832)     at com.foundationdb.sql.parser.SQLParser.parseStatement(SQLParser.java:104)     at org.opencloudb.parser.SQLParserDelegate.parse(SQLParserDelegate.java:68)     ... 3 more </body>
		<created>2015-01-29 10:59:08</created>
		<closed>2015-08-24 05:19:43</closed>
	</bug>
	<bug>
		<id>124</id>
		<title>发现在管理端口9066手动切换数据源失效。</title>
		<body>望修复该问题。 </body>
		<created>2015-01-29 03:41:04</created>
		<closed>2015-10-09 01:43:13</closed>
	</bug>
	<bug>
		<id>120</id>
		<title>v1.3.2 数据少的时候查询排序结果正常，当数据量多时则异常：(DataMergeService.java:274) -data Merge error: java.lang.NullPointerException</title>
		<body>现象： （1）把时间范围条件缩得很短时，数据量少时可以查出来结果，时段很长数据量多时就报如下错误，数据量应该也不是很大，分片1有47行汇总数据，分片2有469行汇总数据，分片3~12汇总数据没有。 （2）SQL格式：       select sum(...) As s,date_format(....) As dt,name       from T1       inner join T2 on ......       inner join T3 on....       where .....       group by   dt       order by   dt         去掉order by   dt      后正常查出结果 （3）异常log： 01/27 18:42:42.383  DEBUG [$_NIOREACTOR-0-RW](ServerQueryHandler.java:64) -ServerConnection [id=2, schema=test01, host=192.168.1.18, user=root,txIsolation=3, autocommit=false, schema=test01]rollback 01/27 18:42:42.383  DEBUG [$_NIOREACTOR-0-RW](NonBlockingSession.java:191) -no session bound connections found ,no need send rollback cmd  01/27 18:42:42.384   WARN [BusinessExecutor0](DataMergeService.java:274) -data Merge error: java.lang.NullPointerException     at org.opencloudb.mpp.DataMergeService.handleRowData(DataMergeService.java:236)     at org.opencloudb.mpp.DataMergeService.access$200(DataMergeService.java:48)     at org.opencloudb.mpp.DataMergeService$2.run(DataMergeService.java:260)     at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)     at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)     at java.lang.Thread.run(Unknown Source) 01/27 18:42:42.384   WARN [BusinessExecutor4](DataMergeService.java:274) -data Merge error: java.lang.NullPointerException     at org.opencloudb.mpp.DataMergeService.handleRowData(DataMergeService.java:236)     at org.opencloudb.mpp.DataMergeService.access$200(DataMergeService.java:48)     at org.opencloudb.mpp.DataMergeService$2.run(DataMergeService.java:260)     at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)     at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)     at java.lang.Thread.run(Unknown Source)  。。。。  }, respHandler=org.opencloudb.mysql.nio.handler.MultiNodeQueryHandler@270f009c, host=localhost, port=3307, statusSync=null, writeQueue=0, modifiedSQLExecuted=false] 01/27 18:59:35.182  DEBUG [$_NIOREACTOR-3-RW](PhysicalDatasource.java:386) -release channel MySQLConnection [id=3, lastTime=1422356375078, schema=db02, borrowed=true, fromSlaveDB=false, threadId=116, charset=utf8, txIsolation=3, autocommit=true, attachment=null, respHandler=null, host=localhost, port=3310, statusSync=null, writeQueue=0, modifiedSQLExecuted=false] 01/27 18:59:35.185   WARN [BusinessExecutor3](MultiNodeQueryHandler.java:401) -caught exception  java.lang.ArrayIndexOutOfBoundsException: Array index out of range: 515     at java.util.Vector.get(Unknown Source)     at org.opencloudb.mpp.tmp.RowDataSorter.getSortedResult(RowDataSorter.java:78)     at org.opencloudb.mpp.DataMergeService.getResults(DataMergeService.java:125)     at org.opencloudb.mysql.nio.handler.MultiNodeQueryHandler.outputMergeResult(MultiNodeQueryHandler.java:284)     at org.opencloudb.mpp.DataMergeService$1.run(DataMergeService.java:93)     at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)     at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)     at java.lang.Thread.run(Unknown Source) 01/27 18:59:35.186  DEBUG [BusinessExecutor3](MultiNodeHandler.java:193) -error all end ,clear session resource  01/27 18:59:35.186  DEBUG [BusinessExecutor3](DataMergeService.java:312) -clear data  01/27 18:59:35.186  DEBUG [BusinessExecutor3](DataMergeService.java:312) -clear data  </body>
		<created>2015-01-27 13:48:34</created>
		<closed>2016-04-29 12:55:00</closed>
	</bug>
	<bug>
		<id>96</id>
		<title>limit() in the select SQL is not be supported by oracle.</title>
		<body>and DB2, SQL Server, etc. </body>
		<created>2015-01-15 07:45:42</created>
		<closed>2015-02-17 13:26:24</closed>
	</bug>
	<bug>
		<id>93</id>
		<title>Error happen when backend is jdbc connection.</title>
		<body>## Mysql jdbc driver at app side will send some packets like the following text, backend jdbc connection can not parse and execute it.   "/\* mysql-connector-java-5.1.34 ( revision: jess.balint@oracle.com-20141014163213-wqbwpf1ok2kvo1om ) */show variables where variable_name ='language' or variable_name = 'net_write_timeout' or variable_name = 'interactive_timeout' or variable_name = 'wait_timeout' or variable_name = 'character_set_client' or variable_name = 'character_set_connection' or variable_name = 'character_set' or variable_name = 'character_set_server' or variable_name = 'tx_isolation' or variable_name = 'transaction_isolation' or variable_name = 'character_set_results' or variable_name = 'timezone' or variable_name = 'time_zone' or variable_name = 'system_time_zone' or variable_name = 'lower_case_table_names' or variable_name = 'max_allowed_packet' or variable_name = 'net_buffer_length' or variable_name = 'sql_mode' or variable_name = 'query_cache_type' or variable_name = 'query_cache_size' or variable_name = 'license' or variable_name = 'init_connect'" </body>
		<created>2015-01-14 09:23:06</created>
		<closed>2015-06-12 12:35:54</closed>
	</bug>
	<bug>
		<id>87</id>
		<title>最近测试MyCat时发现的几个问题</title>
		<body>测试环境：  硬件：CPU E7500, 内存 4G 软件：WIN7 64位系统，JDK1.7.0_72 64位，MySQL Community 5.6.22.0单实例  测试使用的表按照《MyCat_In_Action_中文版》中快速上手部分使用的SQL进行创建，schema.xml使用默认设置，没有进行修改。  测试出现的问题：  一、普通表，以hotnews表为例  向hotnews表插入5条数据，其ID为1、2、3、4、5  1.1 查询SQL：SELECT \* from hotnews where id &gt; 1; 结果：只查到了ID为4的数据  同样，以id&gt;1为条件执行update和delete时也只影响ID为4的数据。  1.2 查询SQL：select \* from hotnews where id between 1 and 3; 结果： java.lang.ClassCastException: com.alibaba.druid.sql.ast.expr.SQLIdentifierExpr cannot be cast to com.alibaba.druid.sql.ast.expr.SQLPropertyExpr     at org.opencloudb.parser.druid.MycatSchemaStatVisitor.getColumn(MycatSchemaStatVisitor.java:111)     at org.opencloudb.parser.druid.MycatSchemaStatVisitor.visit(MycatSchemaStatVisitor.java:23)     at com.alibaba.druid.sql.ast.expr.SQLBetweenExpr.accept0(SQLBetweenExpr.java:48)     at com.alibaba.druid.sql.ast.SQLObjectImpl.accept(SQLObjectImpl.java:40)     at com.alibaba.druid.sql.ast.SQLObjectImpl.acceptChild(SQLObjectImpl.java:62)         ...  二、子表，以orders表为例  2.1 使用Insert语句向orders表中插入数据有一定概率5分钟后报ERROR 1064&lt;HY000&gt; can't find &lt;root&gt; parent sharding node for sql，这个已经有人反映过了。  2.2 以customer_id以外的列作为条件进行update delete或者select时会报错，比如执行SQL：select \* from orders where id = 1; 结果： java.lang.NullPointerException     at org.opencloudb.route.util.RouterUtil.ruleCalculate(RouterUtil.java:411)     at org.opencloudb.route.util.RouterUtil.findRouteWithcConditionsForTables(RouterUtil.java:703)     at org.opencloudb.route.util.RouterUtil.tryRouteForOneTable(RouterUtil.java:577)         ...  2.3 以customer_id为条件进行update delete或者select时会报错，比如执行SQL：update orders set note = "abc" where customer_id = 1; 结果： java.lang.IllegalArgumentException: can't find datanode for sharding column:SHARDING_ID val:1     at org.opencloudb.route.util.RouterUtil.ruleCalculate(RouterUtil.java:415)     at org.opencloudb.route.util.RouterUtil.findRouteWithcConditionsForTables(RouterUtil.java:703)     at org.opencloudb.route.util.RouterUtil.tryRouteForOneTable(RouterUtil.java:577) </body>
		<created>2015-01-08 03:00:58</created>
		<closed>2015-06-12 12:37:51</closed>
	</bug>
</bugs>
