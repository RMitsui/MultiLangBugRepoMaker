<?xml version="1.0" encoding="ISO-8859-1"?>

<bugs>
	<bug>
		<id>285</id>
		<title>最新版本不能正常推送</title>
		<body>**Describe the bug/** A clear and concise description of what the bug is.（解释一下出了什么问题） 之前正常推送的app，这一版本记录里面有通知，但是状态栏没提示 **To Reproduce** Steps to reproduce the behavior:（如何复现错误，也就是您的操作步骤） 1. 正常安装新版本 2. na 3. na  **Expected behavior** A clear and concise description of what you expected to happen.（您希望发生什么） 当然是像上一版本一样正常push **Screenshots**（截图） If applicable, add screenshots to help explain your problem.  **Logs** （日志） Logs are very important, this can help us solve the problem. Please upload your log file and paste the address here:（请上传您的日志文件，在这里粘贴地址：） [logs-2019-03-14-9-3-47.zip](https://github.com/MiPushFramework/MiPushFramework/files/3501685/logs-2019-03-14-9-3-47.zip) **ROM and version(manager):** （你的 ROM 和 manager 的版本）  - Name: [e.g. Lineage OS] Samsung One UI  - Android Version: [e.g. 8.1] 9.0  - Version [e.g. 0.3.4 stable] n/a  **Additional context** Add any other context about the problem here.（更多关于问题的内容写在这里）</body>
		<created>2019-08-14 14:01:12</created>
		<closed>2019-12-11 16:41:07</closed>
	</bug>
	<bug>
		<id>218</id>
		<title>Android 7.1.2 升级后打开闪退</title>
		<body>**Describe the bug/** A clear and concise description of what the bug is.（解释一下出了什么问题） 升级至1130版本后，小米推送服务打开闪退   **To Reproduce** Steps to reproduce the behavior:（如何复现错误，也就是您的操作步骤） 1. 正常打开小米推送服务 2. 弹出“小米推送服务已停止运行”  **Expected behavior** A clear and concise description of what you expected to happen.（您希望发生什么） 应当正常打开小米推送服务。  **Screenshots**（截图） If applicable, add screenshots to help explain your problem. [https://i.loli.net/2018/12/01/5c024fdea2c86.png](url)  **Logs** （日志） Logs are very important, this can help us solve the problem. Please upload your log file and paste the address here:（请上传您的日志文件，在这里粘贴地址：）  java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setEnabled(boolean)' on a null object reference at top.trumeet.mipushframework.MainFragment.refreshStatus(MainFragment.java:198) at top.trumeet.mipushframework.MainFragment.onChange(MainFragment.java:213) at top.trumeet.mipushframework.MainActivity$ConnectTask$1.onReady(MainActivity.java:171) at top.trumeet.common.push.ControllerImpl$$Lambda$0.run(Unknown Source) at android.os.Handler.handleCallback(Handler.java:751) at android.os.Handler.dispatchMessage(Handler.java:95) at android.os.Looper.loop(Looper.java:154) at android.app.ActivityThread.main(ActivityThread.java:6236) at java.lang.reflect.Method.invoke(Native Method) at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:891) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:781) at de.robv.android.xposed.XposedBridge.main(XposedBridge.java:107)   **ROM and version(manager):** （你的 ROM 和 manager 的版本）  - Name: Lineage OS  - Android Version: 7.1.2  - Version 0.3.6.20181130.7881203  **Additional context** Add any other context about the problem here.（更多关于问题的内容写在这里） </body>
		<created>2018-12-01 09:10:15</created>
		<closed>2018-12-23 19:11:04</closed>
	</bug>
	<bug>
		<id>212</id>
		<title>澎湃新闻推送通知丢失相应应用名</title>
		<body>如图，仅澎湃新闻出现该情况，其他App不会。 ![](https://i.imgur.com/k3BoHIX.jpg)</body>
		<created>2018-11-24 02:12:28</created>
		<closed>2018-11-30 05:54:10</closed>
	</bug>
	<bug>
		<id>170</id>
		<title>“ROM 支持”页面文字BUG</title>
		<body>![](https://i.imgur.com/Plv8eoF.png) 如图。 本人的ROM是Aokp，Android 8.1。 </body>
		<created>2018-08-05 23:39:44</created>
		<closed>2018-12-16 21:44:52</closed>
	</bug>
	<bug>
		<id>130</id>
		<title>点击通知后报错</title>
		<body>错误如下，Android 8.1 红米5p，版本 0787a97 - SNAPSHOT  android.util.AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want? at android.app.ContextImpl.startActivity(ContextImpl.java:881) at android.app.ContextImpl.startActivity(ContextImpl.java:855) at android.content.ContextWrapper.startActivity(ContextWrapper.java:372) at com.xiaomi.helper.impl.ActivityUsageStatsImpl.guideToEnable(ActivityUsageStatsImpl.java:42) at com.xiaomi.push.sdk.MyPushMessageHandler.onHandleIntent(MyPushMessageHandler.java:44) at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:76) at android.os.Handler.dispatchMessage(Handler.java:106) at android.os.Looper.loop(Looper.java:164) at android.os.HandlerThread.run(HandlerThread.java:65)   </body>
		<created>2018-06-02 05:26:15</created>
		<closed>2018-06-12 15:40:42</closed>
	</bug>
	<bug>
		<id>125</id>
		<title>[af16bab]记录的时间显示问题</title>
		<body>![screenshot_20180524-174522](https://user-images.githubusercontent.com/9050713/40478003-755499ce-5f7a-11e8-9366-e687ea68391c.jpg) 一直为24小时。</body>
		<created>2018-05-24 09:47:06</created>
		<closed>2018-06-03 14:01:54</closed>
	</bug>
	<bug>
		<id>84</id>
		<title>三星手机7.0系统推送正常但没声音</title>
		<body>三星手机7.0系统推送正常但推送时没有提示声音。 2月8日的预览版。</body>
		<created>2018-03-13 10:44:28</created>
		<closed>2018-04-17 11:50:37</closed>
	</bug>
	<bug>
		<id>83</id>
		<title>无法查看推送内容</title>
		<body>状态栏点击通知后显示push已停止运行</body>
		<created>2018-03-07 11:11:36</created>
		<closed>2018-03-16 13:27:17</closed>
	</bug>
	<bug>
		<id>82</id>
		<title>Buuuuuug</title>
		<body>有时候点击推送过来的通知没反应。。打开不了对应app。 还有最近一次的重大bug的log java.lang.NoSuchMethodError: No virtual method getPackageImportance(Ljava/lang/String;)I in class Landroid/app/ActivityManager; or its super classes (declaration of 'android.app.ActivityManager' appears in /system/framework/framework.jar) at top.trumeet.common.override.ActivityManagerOverride.getPackageImportance(ActivityManagerOverride.java:13) at com.xiaomi.push.sdk.MyPushMessageHandler.isAppForeground(MyPushMessageHandler.java:150) at com.xiaomi.push.sdk.MyPushMessageHandler.onHandleIntent(MyPushMessageHandler.java:72) at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65) at android.os.Handler.dispatchMessage(Handler.java:111) at android.os.Looper.loop(Looper.java:194) at android.os.HandlerThread.run(HandlerThread.java:61)  然后系统UI就豹炸了(</body>
		<created>2018-03-06 12:13:16</created>
		<closed>2018-06-04 15:40:43</closed>
	</bug>
	<bug>
		<id>81</id>
		<title>增加 MIUI 检测</title>
		<body>在 Manager 中增加 MIUI 检测，MIUI 会无法连接（无 ControlService） 判断途径： * 签名（判断 `com.xiaomi.xmsf` 签名） * 类加载</body>
		<created>2018-03-04 10:05:15</created>
		<closed>2018-04-22 12:18:57</closed>
	</bug>
	<bug>
		<id>77</id>
		<title>E/PushCore: get isMIUI failed</title>
		<body>``` E/PushCore: get isMIUI failed java.io.FileNotFoundException: /system/build.prop (Permission denied) at java.io.FileInputStream.open0(Native Method) at java.io.FileInputStream.open(FileInputStream.java:200) at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:150) at com.xiaomi.channel.commonutils.android.MIUIUtils.getIsMIUI(Unknown Source:28) at com.xiaomi.channel.commonutils.android.MIUIUtils.isMIUI(Unknown Source:4) at com.xiaomi.channel.commonutils.android.DeviceInfo.quicklyGetIMEI(Unknown Source:8) at com.xiaomi.mipush.sdk.MiPushClient.initialize(Unknown Source:642) at com.xiaomi.mipush.sdk.MiPushClient$1.run(Unknown Source:7) at java.lang.Thread.run(Thread.java:764) ```</body>
		<created>2018-02-25 05:06:52</created>
		<closed>2018-02-27 12:03:14</closed>
	</bug>
	<bug>
		<id>76</id>
		<title>卸载应用之后不停推送</title>
		<body>这个问题已知。 通过给mipush server 的AppNotInstall的ack可以解决 push\service\MyMIPushMessageProcessor.java  ``` if (!AppInfoUtils.isPkgInstalled(paramXMPushService, buildContainer.packageName)) {     sendAppNotInstallNotification(paramXMPushService, buildContainer); } ```</body>
		<created>2018-02-24 12:57:34</created>
		<closed>2018-04-08 02:23:37</closed>
	</bug>
	<bug>
		<id>74</id>
		<title>最新snapshot导致系统界面不停重启</title>
		<body>状况和上次那个system ui crash差不多 还没抓到异常栈。感觉还是icon的问题。</body>
		<created>2018-02-24 08:28:20</created>
		<closed>2018-04-08 02:25:43</closed>
	</bug>
	<bug>
		<id>66</id>
		<title>状态栏APP图标为空白</title>
		<body>不好看</body>
		<created>2018-02-20 04:34:43</created>
		<closed>2018-04-19 05:48:11</closed>
	</bug>
	<bug>
		<id>56</id>
		<title>记录里文字重叠</title>
		<body>机器: Google Pixel  系统: Android 8.1  ![](https://ws1.sinaimg.cn/large/005GmrUUgy1fof0ndmhtej30u01hc11q.jpg)</body>
		<created>2018-02-13 10:55:47</created>
		<closed>2018-04-08 02:21:06</closed>
	</bug>
	<bug>
		<id>54</id>
		<title>偶发性触发crash</title>
		<body>java.lang.RuntimeException: Unable to start receiver com.xiaomi.xmsf.push.service.receivers.AccountChangedReceiver: java.lang.SecurityException: caller uid 10612 lacks any of android.permission.GET_ACCOUNTS at android.app.ActivityThread.handleReceiver(ActivityThread.java:3059) at android.app.ActivityThread.access$1800(ActivityThread.java:189) at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1681) at android.os.Handler.dispatchMessage(Handler.java:111) at android.os.Looper.loop(Looper.java:194) at android.app.ActivityThread.main(ActivityThread.java:5904) at java.lang.reflect.Method.invoke(Native Method) at java.lang.reflect.Method.invoke(Method.java:372) at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1119) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:885) at de.robv.android.xposed.XposedBridge.main(XposedBridge.java:107) Caused by: java.lang.SecurityException: caller uid 10612 lacks any of android.permission.GET_ACCOUNTS at android.os.Parcel.readException(Parcel.java:1546) at android.os.Parcel.readException(Parcel.java:1499) at android.accounts.IAccountManager$Stub$Proxy.getAccounts(IAccountManager.java:728) at android.accounts.AccountManager.getAccounts(AccountManager.java:407) at com.xiaomi.xmsf.push.service.Utils.getXiaomiUserId(Utils.java:15) at com.xiaomi.xmsf.push.service.XMAccountManager.setAccountAsAlias(XMAccountManager.java:29) at com.xiaomi.xmsf.push.service.receivers.AccountChangedReceiver.onReceive(AccountChangedReceiver.java:13) at android.app.ActivityThread.handleReceiver(ActivityThread.java:3044) ... 10 more </body>
		<created>2018-02-10 06:22:58</created>
		<closed>2018-07-17 12:39:48</closed>
	</bug>
	<bug>
		<id>51</id>
		<title>弹不出通知和通知点击无效</title>
		<body>1. 弹不出通知 原因比较多，其中一个比较多的问题就是 #13  中我说的。extraNotification 是没有的 即使这个可以跳过，同样又可能有其他部分异常没有抛出导致notification 出不来， 我觉得我们可以手动构建 notification    2. 通知点击无效 SDK中的getClickedPendingIntent 其实需要唤醒app，点击事件是一个startService (所以很多人只有打开应用才能跳转) 这个比较麻烦毕竟notification只有一个pendingintent，我在SDK &gt; 24做了 3个Action ，可以打开 跳转，就是比较麻烦，但是看上去感觉应该可以工作。   </body>
		<created>2018-02-08 03:31:18</created>
		<closed>2018-04-26 15:43:26</closed>
	</bug>
	<bug>
		<id>48</id>
		<title>一加5T氧os open beta3 无法启动服务</title>
		<body>卡在允许后台服务这一步，已经关闭电池优化，打开自启动，关闭电池-高级优化，允许后台活动，但还是不行  系统 氧os open beta 3(oreo 8.0.0)  MiPushFramework 0.3.1.Alpha  (试过 0.3.Alpha 版本是正常的)</body>
		<created>2018-02-03 11:37:29</created>
		<closed>2018-06-04 15:47:29</closed>
	</bug>
	<bug>
		<id>47</id>
		<title>读取 Events 权限被拒绝</title>
		<body>为什么要保护为 `dangerous`......</body>
		<created>2018-02-02 02:10:41</created>
		<closed>2018-02-02 02:55:18</closed>
	</bug>
	<bug>
		<id>45</id>
		<title>一些 Oreo ROM 没有 在后台运行 选项</title>
		<body>导致无法完成 “在后台运行限制” 向导页面</body>
		<created>2018-02-02 01:51:32</created>
		<closed>2018-02-02 02:05:46</closed>
	</bug>
	<bug>
		<id>44</id>
		<title>检查 PushService 在运行始终为在运行</title>
		<body>`PushControllerUtils#isServiceRunning`</body>
		<created>2018-02-02 01:50:29</created>
		<closed>2018-07-02 16:01:21</closed>
	</bug>
	<bug>
		<id>43</id>
		<title>检查更新 FC</title>
		<body></body>
		<created>2018-02-02 01:48:26</created>
		<closed>2018-02-07 14:08:04</closed>
	</bug>
	<bug>
		<id>42</id>
		<title>收到推送后 SystemUI 无限 FC</title>
		<body>``` java 02-03 05:49:18.357 611-611/com.android.systemui E/AndroidRuntime: FATAL EXCEPTION: main                                                                   Process: com.android.systemui, PID: 611                                                                   java.lang.IllegalArgumentException: width and height must be &gt; 0                                                                       at android.graphics.Bitmap.createBitmap(Bitmap.java:1001)                                                                       at android.graphics.Bitmap.createBitmap(Bitmap.java:968)                                                                       at android.graphics.Bitmap.createBitmap(Bitmap.java:918)                                                                       at android.graphics.Bitmap.createBitmap(Bitmap.java:879)                                                                       at android.graphics.drawable.AdaptiveIconDrawable.updateMaskBoundsInternal(AdaptiveIconDrawable.java:333)                                                                       at android.graphics.drawable.AdaptiveIconDrawable.updateLayerBounds(AdaptiveIconDrawable.java:295)                                                                       at android.graphics.drawable.AdaptiveIconDrawable.onStateChange(AdaptiveIconDrawable.java:782)                                                                       at android.graphics.drawable.Drawable.setState(Drawable.java:775)                                                                       at android.widget.ImageView.drawableStateChanged(ImageView.java:1305)                                                                       at android.view.View.refreshDrawableState(View.java:20012)                                                                       at android.view.View.dispatchAttachedToWindow(View.java:17409)                                                                       at android.view.ViewGroup.addViewInner(ViewGroup.java:4955)                                                                       at android.view.ViewGroup.addView(ViewGroup.java:4746)                                                                       at com.android.systemui.statusbar.phone.NotificationIconAreaController.updateIconsForLayout(NotificationIconAreaController.java:247)                                                                       at com.android.systemui.statusbar.phone.NotificationIconAreaController.updateNotificationIcons(NotificationIconAreaController.java:155)                                                                       at com.android.systemui.statusbar.phone.StatusBar.updateNotificationShade(StatusBar.java:1958)                                                                       at com.android.systemui.statusbar.phone.StatusBar.updateNotifications(StatusBar.java:2138)                                                                       at com.android.systemui.statusbar.phone.StatusBar.addNotificationViews(StatusBar.java:6689)                                                                       at com.android.systemui.statusbar.phone.StatusBar.addEntry(StatusBar.java:1629)                                                                       at com.android.systemui.statusbar.phone.StatusBar.onAsyncInflationFinished(StatusBar.java:1646)                                                                       at com.android.systemui.statusbar.notification.NotificationInflater$AsyncInflationTask.onAsyncInflationFinished(NotificationInflater.java:641)                                                                       at com.android.systemui.statusbar.notification.NotificationInflater.finishIfDone(NotificationInflater.java:460)                                                                       at com.android.systemui.statusbar.notification.NotificationInflater.-wrap0(Unknown Source:0)                                                                       at com.android.systemui.statusbar.notification.NotificationInflater$6.onViewApplied(NotificationInflater.java:343)                                                                       at android.widget.RemoteViews$AsyncApplyTask.onPostExecute(RemoteViews.java:3421)                                                                       at android.widget.RemoteViews$AsyncApplyTask.onPostExecute(RemoteViews.java:3401)                                                                       at android.os.AsyncTask.finish(AsyncTask.java:695)                                                                       at android.os.AsyncTask.-wrap1(Unknown Source:0)                                                                       at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:712)                                                                       at android.os.Handler.dispatchMessage(Handler.java:105)                                                                       at android.os.Looper.loop(Looper.java:164)                                                                       at android.app.ActivityThread.main(ActivityThread.java:6541)                                                                       at java.lang.reflect.Method.invoke(Native Method)                                                                       at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)                                                                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767) ```</body>
		<created>2018-02-02 01:40:30</created>
		<closed>2018-04-08 08:40:46</closed>
	</bug>
	<bug>
		<id>41</id>
		<title>点击感叹号闪退</title>
		<body>修改权限，应用图标右边的感叹号，点击闪退  #######RuntimeEnvironmentInformation####### crash time= model=MI 5 android version=8.1.0(27) brand=Xiaomi manufacturer=Xiaomi board=msm8996 hardware=qcom device=gemini supported_abis=arm64-v8a &amp; armeabi-v7a &amp; armeabi display=aosp_gemini-userdebug 8.1.0 OPM1.171019.013 c18557063f test-keys #######ForceCloseCrashLog####### FATAL EXCEPTION: main Process: top.trumeet.mipush, PID: 5778 android.util.AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want? at android.app.ContextImpl.startActivity(ContextImpl.java:881) at android.app.ContextImpl.startActivity(ContextImpl.java:855) at android.content.ContextWrapper.startActivity(ContextWrapper.java:372) at com.android.settings.widget.EntityHeaderController$1.onClick(EntityHeaderController.java:271) at android.view.View.performClick(View.java:6294) at android.view.View$PerformClick.run(View.java:24774) at android.os.Handler.handleCallback(Handler.java:790) at android.os.Handler.dispatchMessage(Handler.java:99) at android.os.Looper.loop(Looper.java:164) at android.app.ActivityThread.main(ActivityThread.java:6520) at java.lang.reflect.Method.invoke(Native Method) at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:442) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807) at de.robv.android.xposed.XposedBridge.main(XposedBridge.java:108) </body>
		<created>2018-02-01 15:07:07</created>
		<closed>2018-02-02 02:18:14</closed>
	</bug>
	<bug>
		<id>36</id>
		<title>检查运行状态成功后，点next闪了一下又重新检查运行状态</title>
		<body>如题,在看到修改什么的界面的时候闪了一下，锤子坚果Pro 安卓7.1.1 </body>
		<created>2018-01-31 08:58:52</created>
		<closed>2018-02-08 13:17:43</closed>
	</bug>
	<bug>
		<id>33</id>
		<title>[TODO] 一个可能导致无法收到通知的原因</title>
		<body>根据收到 **通知**（而不是 **透传**）的 logs 看，在发送通知的时候出现了异常： ``` Meet exception when call Method 'setGroup' in android.app.Notification$Builder@e8aa112                                                                         java.lang.NullPointerException: Attempt to invoke virtual method 'boolean java.lang.Class.isInterface()' on a null object reference                                                                             at java.lang.Class.isAssignableFrom(Class.java:545)                                                                             at com.xiaomi.channel.commonutils.reflect.JavaCalls.compareClassLists(Unknown Source)                                                                             at com.xiaomi.channel.commonutils.reflect.JavaCalls.findMethodByName(Unknown Source)                                                                             at com.xiaomi.channel.commonutils.reflect.JavaCalls.getDeclaredMethod(Unknown Source)                                                                             at com.xiaomi.channel.commonutils.reflect.JavaCalls.callMethodOrThrow(Unknown Source)                                                                             at com.xiaomi.channel.commonutils.reflect.JavaCalls.callMethod(Unknown Source)                                                                             at com.xiaomi.push.service.MIPushNotificationHelper.getNotificationForLargeIcons(Unknown Source)                                                                             at com.xiaomi.push.service.MIPushNotificationHelper.notifyPushMessage(Unknown Source)                                                                             at com.xiaomi.push.service.MIPushEventProcessor.postProcessMIPushMessage(Unknown Source)                                                                             at com.xiaomi.push.service.MIPushEventProcessor.processMIPushMessage(Unknown Source)                                                                             at java.lang.reflect.Method.invoke(Native Method)                                                                             at com.xiaomi.push.service.MyClientEventDispatcher$EventProcessor.doProcessMIPushMessage(MyClientEventDispatcher.java:131)                                                                             at com.xiaomi.push.service.MyClientEventDispatcher$EventProcessor.runProcessMIPushMessage(MyClientEventDispatcher.java:119)                                                                             at com.xiaomi.push.service.MyClientEventDispatcher$EventProcessor.processNewPacket(MyClientEventDispatcher.java:140)                                                                             at com.xiaomi.push.service.ClientEventDispatcher.notifyPacketArrival(Unknown Source)                                                                             at com.xiaomi.push.service.MyClientEventDispatcher.notifyPacketArrival(MyClientEventDispatcher.java:76)                                                                             at com.xiaomi.push.service.PacketSync.handleBlob(Unknown Source)                                                                             at com.xiaomi.push.service.PacketSync.onBlobReceive(Unknown Source)                                                                             at com.xiaomi.push.service.XMPushService$BlobReceiveJob.process(Unknown Source)                                                                             at com.xiaomi.push.service.XMPushService$Job.run(Unknown Source)                                                                             at com.xiaomi.push.service.JobScheduler$SchedulerImpl.run(Unknown Source) ``` 小米推送在 API 24 及以上将使用 `Builder#setGroup`。（但是不知道为什么用的反射），然后就崩掉了。  之后通知就会无法 notify，后面没有分析 `MIPushEventProcessor` 的代码，很可能里面 crash 之后就转 broadcast 了。（我这里是这样）  然后应用就会收到 broadcast 而不是通知。</body>
		<created>2018-01-23 11:21:08</created>
		<closed>2018-01-23 12:10:47</closed>
	</bug>
	<bug>
		<id>30</id>
		<title>允许推送后仍反复弹出推送提示</title>
		<body>这次版本更新之后（任何）应用请求推送时选择允许（并非允许一次）仍会反复弹出请求对话框，并且不会出现在推送设置中，只有从最近任务中划掉小米推送服务再打开才会出现。</body>
		<created>2017-12-11 02:18:41</created>
		<closed>2018-06-04 15:44:17</closed>
	</bug>
	<bug>
		<id>28</id>
		<title>移除电池优化无限循环</title>
		<body>    CheckDozeActivity.java    if (!PushServiceAccessibility.isInDozeWhiteList(this) &amp;&amp;                 Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {             Intent intent = new Intent();             String packageName = getPackageName();             intent.setAction(Settings.ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS);             intent.setData(Uri.parse("package:" + packageName));             startActivity(intent);         } else {             nextPage();         }  这里不知道为什么。调试结果显示 Build.VERSION.SDK_INT = Build.VERSION_CODES.M=23，所以导致这里无限循环了</body>
		<created>2017-09-29 17:04:26</created>
		<closed>2018-01-31 04:53:16</closed>
	</bug>
	<bug>
		<id>17</id>
		<title>HTC10 RR ROM, Android7.1.2，显示注册推送、收到推送成功，但是没有浮动通知</title>
		<body>浮动通知功能已经开启。 电池未优化，没有绿色它 记录上显示的 都是各种成功，但是没有通知弹出来</body>
		<created>2017-08-29 01:37:17</created>
		<closed>2018-06-24 11:46:10</closed>
	</bug>
	<bug>
		<id>9</id>
		<title>知乎推送无法支持</title>
		<body># 在0.2版和0.3版的初始向导中，知乎一直显示无法支持，点击修复也无效 ![screenshot_20170827-155429](https://user-images.githubusercontent.com/29968347/29748446-be682442-8b49-11e7-8202-ecd87574cc76.png)    # 手机是一加五，系统为氢3.5第八版，知乎为play版 该问题可以反复重现，以下为复现过程中抓的logcat（fliter=com.xiaomi.xmsf）   08-27 16:49:17.556 D/SystemServicesProxy( 2205): getRecentTasks: com.xiaomi.xmsf, 641 08-27 16:49:17.713 D/SystemServicesProxy( 2205): getRecentTasks: com.xiaomi.xmsf, 641 08-27 16:49:21.023 D/SystemServicesProxy( 2205): getRecentTasks: com.xiaomi.xmsf, 641 08-27 16:49:22.856 I/AppStorageSettings(23970): Clearing user data for package : com.xiaomi.xmsf 08-27 16:49:22.858 I/ActivityManager( 1388): Force stopping com.xiaomi.xmsf appid=10171 user=0: clear data 08-27 16:49:22.858 I/ActivityManager( 1388): Killing 10417:com.xiaomi.xmsf:pushservice/u0a171 (adj 800): stop com.xiaomi.xmsf 08-27 16:49:22.859 W/ActivityManager( 1388): Scheduling restart of crashed service com.xiaomi.xmsf/com.xiaomi.push.service.XMPushService in 1000ms 08-27 16:49:22.859 D/EmbryoManager( 1388): prepare com.xiaomi.xmsf 08-27 16:49:22.860 I/ActivityManager( 1388): Killing 10391:com.xiaomi.xmsf/u0a171 (adj 900): stop com.xiaomi.xmsf 08-27 16:49:22.860 D/EmbryoManager( 1388): prepare com.xiaomi.xmsf 08-27 16:49:22.863 I/ActivityManager( 1388):   Force finishing activity ActivityRecord{921ddec u0 com.xiaomi.xmsf/top.trumeet.mipushframework.settings.MainActivity t641} 08-27 16:49:22.865 I/ActivityManager( 1388):   Force stopping service ServiceRecord{6abddfc u0 com.xiaomi.xmsf/com.xiaomi.push.service.XMPushService} 08-27 16:49:22.889 I/ActivityManager( 1388): Force stopping com.xiaomi.xmsf appid=10171 user=-1: clearApplicationUserData 08-27 16:49:22.916 W/BroadcastQueue( 1388): Background execution not allowed: receiving Intent { act=android.intent.action.PACKAGE_RESTARTED dat=package:com.xiaomi.xmsf flg=0x10 (has extras) } to com.jingdong.app.mall/.broadcastReceiver.AppStateRecevier 08-27 16:49:22.922 I/AppStorageSettings(23970): Cleared user data for package : com.xiaomi.xmsf 08-27 16:49:23.089 D/Wear_Controller( 3556): Received broadcast action=android.intent.action.PACKAGE_DATA_CLEARED and uri=com.xiaomi.xmsf 08-27 16:49:23.092 I/LocationSettingsChecker( 3556): Removing dialog suppression flag for package com.xiaomi.xmsf 08-27 16:49:23.108 I/Fitness ( 3124): Clearing all cached OAuth tokens for: com.xiaomi.xmsf 08-27 16:49:23.116 I/Fitness ( 3124): Removing all subscriptions for: com.xiaomi.xmsf 08-27 16:49:23.132 I/Icing   ( 3556): doRemovePackageData com.xiaomi.xmsf 08-27 16:49:26.702 I/ActivityManager( 1388): START u0 {act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.WelcomeActivity bnds=[16,422][278,781] (has extras)} from uid 10101 pid 3338 on display 0 08-27 16:49:26.712 D/ActivityTrigger( 1388): activityStartTrigger: Activity is Triggerred in full screen ApplicationInfo{116fb88 com.xiaomi.xmsf} 08-27 16:49:26.712 E/ActivityTrigger( 1388): activityStartTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.WelcomeActivity/105 08-27 16:49:26.714 D/ActivityTrigger( 1388): activityResumeTrigger: The activity in ApplicationInfo{116fb88 com.xiaomi.xmsf} is now in focus and seems to be in full-screen mode 08-27 16:49:26.714 E/ActivityTrigger( 1388): activityResumeTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.WelcomeActivity/105 08-27 16:49:26.721 D/ActivityTrigger( 1388): activityResumeTrigger: The activity in ApplicationInfo{116fb88 com.xiaomi.xmsf} is now in focus and seems to be in full-screen mode 08-27 16:49:26.721 E/ActivityTrigger( 1388): activityResumeTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.WelcomeActivity/105 08-27 16:49:26.731 I/ActivityManager( 1388): Start proc 25789:com.xiaomi.xmsf/u0a171 for activity com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.WelcomeActivity 08-27 16:49:26.732 D/BreventServer( 7298): update current to com.xiaomi.xmsf 08-27 16:49:26.751 W/System  (25789): ClassLoader referenced unknown path: /data/app/com.xiaomi.xmsf-1/lib/arm64 08-27 16:49:26.824 I/ActivityManager( 1388): Start proc 25812:com.xiaomi.xmsf:pushservice/u0a171 for service for null to com.xiaomi.xmsf/com.xiaomi.push.service.XMPushService 08-27 16:49:26.836 D/SystemServicesProxy( 2205): getRecentTasks: com.xiaomi.xmsf, 647 08-27 16:49:26.840 W/System  (25812): ClassLoader referenced unknown path: /data/app/com.xiaomi.xmsf-1/lib/arm64 08-27 16:49:26.867 D/Condom::pushservice(25812): IPackageManager.getPackageInfo[com.xiaomi.xmsf, 4096, 0] 08-27 16:49:26.868 D/Condom::pushservice(25812): IPackageManager.getPackageInfo[com.xiaomi.xmsf, 4096, 0] 08-27 16:49:26.879 D/Condom::pushservice(25812): IActivityManager.stopService[android.app.ActivityThread$ApplicationThread@8cc32b5, Intent { cmp=com.xiaomi.xmsf/com.xiaomi.push.service.XMPushService }, null, 0] 08-27 16:49:26.881 D/Condom::pushservice(25812): IPackageManager.setComponentEnabledSetting[ComponentInfo{com.xiaomi.xmsf/com.xiaomi.xmsf.push.service.receivers.BootReceiver}, 1, 1, 0] 08-27 16:49:26.885 D/Condom::pushservice(25812): IPackageManager.getPackageInfo[com.xiaomi.xmsf, 16384, 0] 08-27 16:49:26.894 D/Condom::pushservice(25812): IActivityManager.registerReceiver[android.app.ActivityThread$ApplicationThread@8cc32b5, com.xiaomi.xmsf, android.app.LoadedApk$ReceiverDispatcher$InnerReceiver@7b03325, android.content.IntentFilter@9393cfa, null, 0] 08-27 16:49:26.896 D/Condom::pushservice(25812): IActivityManager.registerReceiver[android.app.ActivityThread$ApplicationThread@8cc32b5, com.xiaomi.xmsf, android.app.LoadedApk$ReceiverDispatcher$InnerReceiver@b55dca1, android.content.IntentFilter@24e2ec6, null, 0] 08-27 16:49:26.982 I/ActivityManager( 1388): Displayed com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.WelcomeActivity: +261ms 08-27 16:49:33.839 I/ActivityManager( 1388): START u0 {cmp=com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.CheckRunningStatusActivity} from uid 10171 pid 25789 on display 0 08-27 16:49:33.841 D/ActivityTrigger( 1388): activityStartTrigger: Activity is Triggerred in full screen ApplicationInfo{116fb88 com.xiaomi.xmsf} 08-27 16:49:33.841 E/ActivityTrigger( 1388): activityStartTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.CheckRunningStatusActivity/105 08-27 16:49:33.845 D/ActivityTrigger( 1388): activityResumeTrigger: The activity in ApplicationInfo{116fb88 com.xiaomi.xmsf} is now in focus and seems to be in full-screen mode 08-27 16:49:33.845 E/ActivityTrigger( 1388): activityResumeTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.CheckRunningStatusActivity/105 08-27 16:49:33.856 D/ActivityTrigger( 1388): activityResumeTrigger: The activity in ApplicationInfo{116fb88 com.xiaomi.xmsf} is now in focus and seems to be in full-screen mode 08-27 16:49:33.856 E/ActivityTrigger( 1388): activityResumeTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.CheckRunningStatusActivity/105 08-27 16:49:33.911 D/Condom::pushservice(25812): IPackageManager.getPackageInfo[com.xiaomi.xmsf, 16384, 0] 08-27 16:49:33.914 D/Condom::pushservice(25812): IActivityManager.registerReceiver[android.app.ActivityThread$ApplicationThread@8cc32b5, com.xiaomi.xmsf, android.app.LoadedApk$ReceiverDispatcher$InnerReceiver@7893838, android.content.IntentFilter@7de3011, null, 0] 08-27 16:49:33.915 D/Condom::pushservice(25812): IActivityManager.registerReceiver[android.app.ActivityThread$ApplicationThread@8cc32b5, com.xiaomi.xmsf, android.app.LoadedApk$ReceiverDispatcher$InnerReceiver@3aa0777, android.content.IntentFilter@ab59fe4, null, 0] 08-27 16:49:33.920 D/Condom::pushservice(25812): IPackageManager.checkPermission[android.permission.READ_PHONE_STATE, com.xiaomi.xmsf, 0] 08-27 16:49:33.922 D/Condom::pushservice(25812): IPackageManager.getPackageUid[com.xiaomi.xmsf, 268435456, 0] 08-27 16:49:33.924 D/Condom::pushservice(25812): IPackageManager.getPackageUid[com.xiaomi.xmsf, 268435456, 0] 08-27 16:49:33.925 D/Condom::pushservice(25812): IPackageManager.getPackageUid[com.xiaomi.xmsf, 268435456, 0] 08-27 16:49:33.926 D/Condom::pushservice(25812): IPackageManager.getPackageUid[com.xiaomi.xmsf, 268435456, 0] 08-27 16:49:33.928 D/Condom::pushservice(25812): IPackageManager.getPackageInfo[com.xiaomi.xmsf, 16384, 0] 08-27 16:49:33.929 D/Condom::pushservice(25812): IPackageManager.getPackageUid[com.xiaomi.xmsf, 268435456, 0] 08-27 16:49:33.930 D/Condom::pushservice(25812): IPackageManager.checkPermission[android.permission.READ_PHONE_STATE, com.xiaomi.xmsf, 0] 08-27 16:49:33.933 D/VoldConnector( 1388): SND -&gt; {8 volume mkdirs /storage/emulated/0/Android/data/com.xiaomi.xmsf/files/} 08-27 16:49:33.934 E/cutils  (  628): Nothing there yet; let's create it: /storage/emulated/0/Android/data/com.xiaomi.xmsf 08-27 16:49:33.934 E/cutils  (  628): Nothing there yet; let's create it: /storage/emulated/0/Android/data/com.xiaomi.xmsf/files 08-27 16:49:33.936 I/ActivityManager( 1388): Displayed com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.CheckRunningStatusActivity: +79ms 08-27 16:49:33.969 D/SystemServicesProxy( 2205): getRecentTasks: com.xiaomi.xmsf, 647 08-27 16:49:34.187 D/Condom::pushservice(25812): IPackageManager.checkPermission[android.permission.GET_ACCOUNTS, com.xiaomi.xmsf, 0] 08-27 16:49:34.187 D/Condom::pushservice(25812): IPackageManager.checkPermission[android.permission.GET_ACCOUNTS, com.xiaomi.xmsf, 0] 08-27 16:49:34.198 D/Condom::pushservice(25812): IActivityManager.getIntentSender[1, com.xiaomi.xmsf, null, null, 0, [Landroid.content.Intent;@9b671c8, null, 0, null, 0] 08-27 16:49:34.262 D/Xiaomi  (25812): [Thread:849] load config failure: /data/user/0/com.xiaomi.xmsf/files/XMCloudCfg (No such file or directory) 08-27 16:49:34.355 D/Xiaomi  (25812): [Thread:849] try send mi push message. packagename:com.xiaomi.xmsf action:Registration 08-27 16:49:34.477 D/Condom::pushservice(25812): IPackageManager.queryIntentReceivers[Intent { act=com.xiaomi.mipush.RECEIVE_MESSAGE pkg=com.xiaomi.xmsf (has extras) }, null, 32, 0] 08-27 16:49:34.489 D/Condom::pushservice(25812): IActivityManager.broadcastIntent[android.app.ActivityThread$ApplicationThread@8cc32b5, Intent { act=com.xiaomi.mipush.RECEIVE_MESSAGE pkg=com.xiaomi.xmsf (has extras) }, null, null, -1, null, null, [Ljava.lang.String;@51ec012, -1, null, false, false, 0] 08-27 16:49:34.550 D/Xiaomi  (25812): [Thread:849] try send mi push message. packagename:com.xiaomi.xmsf action:Notification 08-27 16:49:34.557 D/Xiaomi  (25812): [Thread:849] try send mi push message. packagename:com.xiaomi.xmsf action:Notification 08-27 16:49:34.607 D/Condom::pushservice(25812): IPackageManager.queryIntentReceivers[Intent { act=com.xiaomi.mipush.RECEIVE_MESSAGE pkg=com.xiaomi.xmsf (has extras) }, null, 32, 0] 08-27 16:49:34.609 D/Condom::pushservice(25812): IActivityManager.broadcastIntent[android.app.ActivityThread$ApplicationThread@8cc32b5, Intent { act=com.xiaomi.mipush.RECEIVE_MESSAGE pkg=com.xiaomi.xmsf (has extras) }, null, null, -1, null, null, [Ljava.lang.String;@c8973e3, -1, null, false, false, 0] 08-27 16:49:34.922 D/Xiaomi  (25789): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:49:34.922 D/Xiaomi  (25789): package -&gt; com.xiaomi.xmsf 08-27 16:49:35.961 D/Xiaomi  (25789): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:49:35.961 D/Xiaomi  (25789): package -&gt; com.xiaomi.xmsf 08-27 16:49:36.981 D/Xiaomi  (25789): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:49:36.981 D/Xiaomi  (25789): package -&gt; com.xiaomi.xmsf 08-27 16:49:37.144 I/dex2oat (25929): /system/bin/dex2oat --debuggable --dex-file=/data/user/0/com.xiaomi.xmsf/app_mpcd/mpcd.apk --oat-fd=66 --oat-location=/data/user/0/com.xiaomi.xmsf/app_dex/mpcd.dex --compiler-filter=verify-none 08-27 16:49:37.321 W/System  (25789): ClassLoader referenced unknown path: /data/user/0/com.xiaomi.xmsf/app_mpcd/lib 08-27 16:49:38.019 D/Xiaomi  (25789): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:49:38.019 D/Xiaomi  (25789): package -&gt; com.xiaomi.xmsf 08-27 16:49:39.062 D/Xiaomi  (25789): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:49:39.062 D/Xiaomi  (25789): package -&gt; com.xiaomi.xmsf 08-27 16:49:39.200 V/AlarmManager( 1388): Triggering alarm #0: 0 when =1503823778635 package=com.xiaomi.xmsfoperation =*walarm*:com.xiaomi.push.PING_TIMER 08-27 16:49:39.208 D/Condom::pushservice(25812): IActivityManager.getIntentSender[1, com.xiaomi.xmsf, null, null, 0, [Landroid.content.Intent;@c67b1e0, null, 0, null, 0] 08-27 16:49:39.212 D/Condom::pushservice(25812): IActivityManager.startService[android.app.ActivityThread$ApplicationThread@8cc32b5, Intent { act=com.xiaomi.push.timer cmp=com.xiaomi.xmsf/com.xiaomi.push.service.XMPushService (has extras) }, null, com.xiaomi.xmsf, 0] 08-27 16:49:41.097 D/Xiaomi  (25789): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:49:41.097 D/Xiaomi  (25789): package -&gt; com.xiaomi.xmsf 08-27 16:49:42.141 D/Xiaomi  (25789): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:49:42.141 D/Xiaomi  (25789): package -&gt; com.xiaomi.xmsf 08-27 16:49:43.184 D/Xiaomi  (25789): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:49:43.184 D/Xiaomi  (25789): package -&gt; com.xiaomi.xmsf 08-27 16:49:44.222 D/Xiaomi  (25789): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:49:44.222 D/Xiaomi  (25789): package -&gt; com.xiaomi.xmsf 08-27 16:49:45.249 D/Xiaomi  (25789): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:49:45.249 D/Xiaomi  (25789): package -&gt; com.xiaomi.xmsf 08-27 16:49:46.288 D/Xiaomi  (25789): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:49:46.288 D/Xiaomi  (25789): package -&gt; com.xiaomi.xmsf 08-27 16:49:47.336 D/Xiaomi  (25789): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:49:47.336 D/Xiaomi  (25789): package -&gt; com.xiaomi.xmsf 08-27 16:49:48.362 D/Xiaomi  (25789): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:49:48.362 D/Xiaomi  (25789): package -&gt; com.xiaomi.xmsf 08-27 16:49:49.401 D/Xiaomi  (25789): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:49:49.401 D/Xiaomi  (25789): package -&gt; com.xiaomi.xmsf 08-27 16:49:50.444 D/Xiaomi  (25789): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:49:50.444 D/Xiaomi  (25789): package -&gt; com.xiaomi.xmsf 08-27 16:49:51.479 D/Xiaomi  (25789): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:49:51.479 D/Xiaomi  (25789): package -&gt; com.xiaomi.xmsf 08-27 16:49:52.519 D/Xiaomi  (25789): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:49:52.519 D/Xiaomi  (25789): package -&gt; com.xiaomi.xmsf 08-27 16:49:56.868 I/ActivityManager( 1388): START u0 {cmp=com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.support.CheckAppSupportActivity} from uid 10171 pid 25789 on display 0 08-27 16:49:56.871 D/ActivityTrigger( 1388): activityStartTrigger: Activity is Triggerred in full screen ApplicationInfo{116fb88 com.xiaomi.xmsf} 08-27 16:49:56.871 E/ActivityTrigger( 1388): activityStartTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.support.CheckAppSupportActivity/105 08-27 16:49:56.878 D/ActivityTrigger( 1388): activityResumeTrigger: The activity in ApplicationInfo{116fb88 com.xiaomi.xmsf} is now in focus and seems to be in full-screen mode 08-27 16:49:56.878 E/ActivityTrigger( 1388): activityResumeTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.support.CheckAppSupportActivity/105 08-27 16:49:56.890 D/ActivityTrigger( 1388): activityResumeTrigger: The activity in ApplicationInfo{116fb88 com.xiaomi.xmsf} is now in focus and seems to be in full-screen mode 08-27 16:49:56.890 E/ActivityTrigger( 1388): activityResumeTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.support.CheckAppSupportActivity/105 08-27 16:49:56.971 I/ActivityManager( 1388): Displayed com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.support.CheckAppSupportActivity: +81ms 08-27 16:49:57.014 D/SystemServicesProxy( 2205): getRecentTasks: com.xiaomi.xmsf, 647 08-27 16:49:57.019 I/CheckSupportUtils(25789): Handle receiver: com.xiaomi.xmsf.push.service.receivers.MiuiPushMessageReceiver; enabled: true 08-27 16:49:57.019 D/CheckSupportUtils(25789): Pkg com.xiaomi.xmsf support receiver: true 08-27 16:50:16.907 E/AndroidRuntime(25789): Process: com.xiaomi.xmsf, PID: 25789 08-27 16:50:16.917 W/ActivityManager( 1388):   Force finishing activity com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.support.CheckAppSupportActivity 08-27 16:50:16.948 W/InputDispatcher( 1388): channel '8f4be50 com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.CheckRunningStatusActivity (server)' ~ Consumer closed input channel or an error occurred.  events=0x9 08-27 16:50:16.948 E/InputDispatcher( 1388): channel '8f4be50 com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.CheckRunningStatusActivity (server)' ~ Channel is unrecoverably broken and will be disposed! 08-27 16:50:16.948 W/InputDispatcher( 1388): channel 'f36aa6b com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.support.CheckAppSupportActivity (server)' ~ Consumer closed input channel or an error occurred.  events=0x9 08-27 16:50:16.948 E/InputDispatcher( 1388): channel 'f36aa6b com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.support.CheckAppSupportActivity (server)' ~ Channel is unrecoverably broken and will be disposed! 08-27 16:50:16.987 W/InputDispatcher( 1388): channel '43abdde com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.WelcomeActivity (server)' ~ Consumer closed input channel or an error occurred.  events=0x9 08-27 16:50:16.987 E/InputDispatcher( 1388): channel '43abdde com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.WelcomeActivity (server)' ~ Channel is unrecoverably broken and will be disposed! 08-27 16:50:16.989 I/WindowManager( 1388): WIN DEATH: Window{43abdde u0 com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.WelcomeActivity} 08-27 16:50:16.989 W/InputDispatcher( 1388): Attempted to unregister already unregistered input channel '43abdde com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.WelcomeActivity (server)' 08-27 16:50:16.990 D/EmbryoManager( 1388): prepare com.xiaomi.xmsf 08-27 16:50:16.991 I/ActivityManager( 1388): Process com.xiaomi.xmsf (pid 25789) has died 08-27 16:50:16.991 D/ActivityManager( 1388): get process top duration : com.xiaomi.xmsf:pushservice, duration : 0 08-27 16:50:16.991 D/ActivityManager( 1388): get process top duration : com.xiaomi.xmsf, duration : 111693 08-27 16:50:16.993 I/WindowManager( 1388): WIN DEATH: Window{8f4be50 u0 com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.CheckRunningStatusActivity} 08-27 16:50:16.993 W/InputDispatcher( 1388): Attempted to unregister already unregistered input channel '8f4be50 com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.CheckRunningStatusActivity (server)' 08-27 16:50:16.995 I/WindowManager( 1388): WIN DEATH: Window{f36aa6b u0 com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.support.CheckAppSupportActivity} 08-27 16:50:16.995 W/InputDispatcher( 1388): Attempted to unregister already unregistered input channel 'f36aa6b com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.support.CheckAppSupportActivity (server)' 08-27 16:50:16.999 D/ActivityTrigger( 1388): activityResumeTrigger: The activity in ApplicationInfo{116fb88 com.xiaomi.xmsf} is now in focus and seems to be in full-screen mode 08-27 16:50:16.999 E/ActivityTrigger( 1388): activityResumeTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.CheckRunningStatusActivity/105 08-27 16:50:17.011 I/ActivityManager( 1388): Start proc 25966:com.xiaomi.xmsf/u0a171 for activity com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.CheckRunningStatusActivity 08-27 16:50:17.040 W/System  (25966): ClassLoader referenced unknown path: /data/app/com.xiaomi.xmsf-1/lib/arm64 08-27 16:50:17.080 D/Xiaomi  (25812): [Thread:849] try send mi push message. packagename:com.xiaomi.xmsf action:Notification 08-27 16:50:17.089 D/Xiaomi  (25812): [Thread:849] try send mi push message. packagename:com.xiaomi.xmsf action:Notification 08-27 16:50:17.110 D/Xiaomi  (25966): process -&gt; com.xiaomi.xmsf 08-27 16:50:17.110 D/Xiaomi  (25966): package -&gt; com.xiaomi.xmsf 08-27 16:50:17.173 I/ActivityManager( 1388): Displayed com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.CheckRunningStatusActivity: +173ms 08-27 16:50:17.185 D/Condom::pushservice(25812): IPackageManager.queryIntentReceivers[Intent { act=com.xiaomi.mipush.RECEIVE_MESSAGE pkg=com.xiaomi.xmsf (has extras) }, null, 32, 0] 08-27 16:50:17.186 D/Condom::pushservice(25812): IActivityManager.broadcastIntent[android.app.ActivityThread$ApplicationThread@8cc32b5, Intent { act=com.xiaomi.mipush.RECEIVE_MESSAGE pkg=com.xiaomi.xmsf (has extras) }, null, null, -1, null, null, [Ljava.lang.String;@3992c99, -1, null, false, false, 0] 08-27 16:50:18.159 D/Xiaomi  (25966): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:50:18.159 D/Xiaomi  (25966): package -&gt; com.xiaomi.xmsf 08-27 16:50:18.898 W/NotificationService( 1388): Object died trying to hide notification android.app.ITransientNotification$Stub$Proxy@a9d27c3 in package com.xiaomi.xmsf 08-27 16:50:19.200 D/Xiaomi  (25966): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:50:19.200 D/Xiaomi  (25966): package -&gt; com.xiaomi.xmsf 08-27 16:50:20.241 D/Xiaomi  (25966): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:50:20.242 D/Xiaomi  (25966): package -&gt; com.xiaomi.xmsf 08-27 16:50:21.280 D/Xiaomi  (25966): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:50:21.280 D/Xiaomi  (25966): package -&gt; com.xiaomi.xmsf 08-27 16:50:22.102 D/Xiaomi  (25812): [Thread:849] try send mi push message. packagename:com.xiaomi.xmsf action:Notification 08-27 16:50:22.321 D/Xiaomi  (25966): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:50:22.321 D/Xiaomi  (25966): package -&gt; com.xiaomi.xmsf 08-27 16:50:23.367 D/Xiaomi  (25966): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:50:23.367 D/Xiaomi  (25966): package -&gt; com.xiaomi.xmsf 08-27 16:50:24.403 D/Xiaomi  (25966): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:50:24.403 D/Xiaomi  (25966): package -&gt; com.xiaomi.xmsf 08-27 16:50:25.427 D/Xiaomi  (25966): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:50:25.427 D/Xiaomi  (25966): package -&gt; com.xiaomi.xmsf 08-27 16:50:26.476 D/Xiaomi  (25966): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:50:26.476 D/Xiaomi  (25966): package -&gt; com.xiaomi.xmsf 08-27 16:50:27.136 W/System  (25966): ClassLoader referenced unknown path: /data/user/0/com.xiaomi.xmsf/app_mpcd/lib 08-27 16:50:27.519 D/Xiaomi  (25966): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:50:27.519 D/Xiaomi  (25966): package -&gt; com.xiaomi.xmsf 08-27 16:50:28.535 D/Xiaomi  (25966): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:50:28.535 D/Xiaomi  (25966): package -&gt; com.xiaomi.xmsf 08-27 16:50:30.601 D/Xiaomi  (25966): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:50:30.601 D/Xiaomi  (25966): package -&gt; com.xiaomi.xmsf 08-27 16:50:31.650 D/Xiaomi  (25966): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:50:31.650 D/Xiaomi  (25966): package -&gt; com.xiaomi.xmsf 08-27 16:50:32.683 D/Xiaomi  (25966): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:50:32.683 D/Xiaomi  (25966): package -&gt; com.xiaomi.xmsf 08-27 16:50:33.713 D/Xiaomi  (25966): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:50:33.713 D/Xiaomi  (25966): package -&gt; com.xiaomi.xmsf 08-27 16:50:34.743 D/Xiaomi  (25966): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:50:34.743 D/Xiaomi  (25966): package -&gt; com.xiaomi.xmsf 08-27 16:50:35.801 D/Xiaomi  (25966): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:50:35.801 D/Xiaomi  (25966): package -&gt; com.xiaomi.xmsf 08-27 16:50:36.860 D/Xiaomi  (25966): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:50:36.860 D/Xiaomi  (25966): package -&gt; com.xiaomi.xmsf 08-27 16:50:37.886 D/Xiaomi  (25966): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:50:37.886 D/Xiaomi  (25966): package -&gt; com.xiaomi.xmsf 08-27 16:50:41.093 I/ActivityManager( 1388): START u0 {cmp=com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.support.CheckAppSupportActivity} from uid 10171 pid 25966 on display 0 08-27 16:50:41.097 D/ActivityTrigger( 1388): activityStartTrigger: Activity is Triggerred in full screen ApplicationInfo{116fb88 com.xiaomi.xmsf} 08-27 16:50:41.097 E/ActivityTrigger( 1388): activityStartTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.support.CheckAppSupportActivity/105 08-27 16:50:41.102 D/ActivityTrigger( 1388): activityResumeTrigger: The activity in ApplicationInfo{116fb88 com.xiaomi.xmsf} is now in focus and seems to be in full-screen mode 08-27 16:50:41.102 E/ActivityTrigger( 1388): activityResumeTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.support.CheckAppSupportActivity/105 08-27 16:50:41.118 D/ActivityTrigger( 1388): activityResumeTrigger: The activity in ApplicationInfo{116fb88 com.xiaomi.xmsf} is now in focus and seems to be in full-screen mode 08-27 16:50:41.118 E/ActivityTrigger( 1388): activityResumeTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.support.CheckAppSupportActivity/105 08-27 16:50:41.185 I/ActivityManager( 1388): Displayed com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.support.CheckAppSupportActivity: +67ms 08-27 16:50:41.229 D/SystemServicesProxy( 2205): getRecentTasks: com.xiaomi.xmsf, 647 08-27 16:50:41.233 I/CheckSupportUtils(25966): Handle receiver: com.xiaomi.xmsf.push.service.receivers.MiuiPushMessageReceiver; enabled: true 08-27 16:50:41.233 D/CheckSupportUtils(25966): Pkg com.xiaomi.xmsf support receiver: true 08-27 16:50:45.064 I/ActivityManager( 1388): START u0 {cmp=com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.CheckDozeActivity} from uid 10171 pid 25966 on display 0 08-27 16:50:45.066 D/ActivityTrigger( 1388): activityStartTrigger: Activity is Triggerred in full screen ApplicationInfo{116fb88 com.xiaomi.xmsf} 08-27 16:50:45.067 E/ActivityTrigger( 1388): activityStartTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.CheckDozeActivity/105 08-27 16:50:45.072 D/ActivityTrigger( 1388): activityResumeTrigger: The activity in ApplicationInfo{116fb88 com.xiaomi.xmsf} is now in focus and seems to be in full-screen mode 08-27 16:50:45.072 E/ActivityTrigger( 1388): activityResumeTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.CheckDozeActivity/105 08-27 16:50:45.084 D/ActivityTrigger( 1388): activityResumeTrigger: The activity in ApplicationInfo{116fb88 com.xiaomi.xmsf} is now in focus and seems to be in full-screen mode 08-27 16:50:45.084 E/ActivityTrigger( 1388): activityResumeTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.CheckDozeActivity/105 08-27 16:50:45.100 I/ActivityManager( 1388): START u0 {cmp=com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.CheckRunInBackgroundActivity} from uid 10171 pid 25966 on display 0 08-27 16:50:45.101 D/ActivityTrigger( 1388): activityStartTrigger: Activity is Triggerred in full screen ApplicationInfo{116fb88 com.xiaomi.xmsf} 08-27 16:50:45.101 E/ActivityTrigger( 1388): activityStartTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.CheckRunInBackgroundActivity/105 08-27 16:50:45.102 D/ActivityTrigger( 1388): activityResumeTrigger: The activity in ApplicationInfo{116fb88 com.xiaomi.xmsf} is now in focus and seems to be in full-screen mode 08-27 16:50:45.102 E/ActivityTrigger( 1388): activityResumeTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.CheckRunInBackgroundActivity/105 08-27 16:50:45.107 D/ActivityTrigger( 1388): activityResumeTrigger: The activity in ApplicationInfo{116fb88 com.xiaomi.xmsf} is now in focus and seems to be in full-screen mode 08-27 16:50:45.107 E/ActivityTrigger( 1388): activityResumeTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.CheckRunInBackgroundActivity/105 08-27 16:50:45.113 I/ActivityManager( 1388): START u0 {cmp=com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.fake.FakeBuildActivity} from uid 10171 pid 25966 on display 0 08-27 16:50:45.114 D/ActivityTrigger( 1388): activityStartTrigger: Activity is Triggerred in full screen ApplicationInfo{116fb88 com.xiaomi.xmsf} 08-27 16:50:45.114 E/ActivityTrigger( 1388): activityStartTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.fake.FakeBuildActivity/105 08-27 16:50:45.115 D/ActivityTrigger( 1388): activityResumeTrigger: The activity in ApplicationInfo{116fb88 com.xiaomi.xmsf} is now in focus and seems to be in full-screen mode 08-27 16:50:45.115 E/ActivityTrigger( 1388): activityResumeTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.fake.FakeBuildActivity/105 08-27 16:50:45.120 D/ActivityTrigger( 1388): activityResumeTrigger: The activity in ApplicationInfo{116fb88 com.xiaomi.xmsf} is now in focus and seems to be in full-screen mode 08-27 16:50:45.120 E/ActivityTrigger( 1388): activityResumeTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.fake.FakeBuildActivity/105 08-27 16:50:45.205 I/ActivityManager( 1388): Displayed com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.fake.FakeBuildActivity: +85ms (total +120ms) 08-27 16:50:45.228 D/SystemServicesProxy( 2205): getRecentTasks: com.xiaomi.xmsf, 647 08-27 16:50:46.970 I/ActivityManager( 1388): START u0 {cmp=com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.FinishWizardActivity} from uid 10171 pid 25966 on display 0 08-27 16:50:46.973 D/ActivityTrigger( 1388): activityStartTrigger: Activity is Triggerred in full screen ApplicationInfo{116fb88 com.xiaomi.xmsf} 08-27 16:50:46.974 E/ActivityTrigger( 1388): activityStartTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.FinishWizardActivity/105 08-27 16:50:46.981 D/ActivityTrigger( 1388): activityResumeTrigger: The activity in ApplicationInfo{116fb88 com.xiaomi.xmsf} is now in focus and seems to be in full-screen mode 08-27 16:50:46.981 E/ActivityTrigger( 1388): activityResumeTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.FinishWizardActivity/105 08-27 16:50:47.001 D/ActivityTrigger( 1388): activityResumeTrigger: The activity in ApplicationInfo{116fb88 com.xiaomi.xmsf} is now in focus and seems to be in full-screen mode 08-27 16:50:47.001 E/ActivityTrigger( 1388): activityResumeTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.wizard.FinishWizardActivity/105 08-27 16:50:47.065 I/ActivityManager( 1388): Displayed com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.FinishWizardActivity: +63ms 08-27 16:50:47.126 D/SystemServicesProxy( 2205): getRecentTasks: com.xiaomi.xmsf, 647 08-27 16:50:49.242 I/ActivityManager( 1388): START u0 {cmp=com.xiaomi.xmsf/top.trumeet.mipushframework.settings.MainActivity} from uid 10171 pid 25966 on display 0 08-27 16:50:49.242 W/ActivityManager( 1388): startActivity called from finishing ActivityRecord{51c93c9 u0 com.xiaomi.xmsf/top.trumeet.mipushframework.wizard.FinishWizardActivity t647 f}; forcing Intent.FLAG_ACTIVITY_NEW_TASK for: Intent { cmp=com.xiaomi.xmsf/top.trumeet.mipushframework.settings.MainActivity } 08-27 16:50:49.245 D/ActivityTrigger( 1388): activityStartTrigger: Activity is Triggerred in full screen ApplicationInfo{116fb88 com.xiaomi.xmsf} 08-27 16:50:49.245 E/ActivityTrigger( 1388): activityStartTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.settings.MainActivity/105 08-27 16:50:49.247 D/ActivityTrigger( 1388): activityResumeTrigger: The activity in ApplicationInfo{116fb88 com.xiaomi.xmsf} is now in focus and seems to be in full-screen mode 08-27 16:50:49.247 E/ActivityTrigger( 1388): activityResumeTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.settings.MainActivity/105 08-27 16:50:49.254 D/ActivityTrigger( 1388): activityResumeTrigger: The activity in ApplicationInfo{116fb88 com.xiaomi.xmsf} is now in focus and seems to be in full-screen mode 08-27 16:50:49.254 E/ActivityTrigger( 1388): activityResumeTrigger: not whiteListedcom.xiaomi.xmsf/top.trumeet.mipushframework.settings.MainActivity/105 08-27 16:50:49.351 D/Xiaomi  (25966): process -&gt; com.xiaomi.xmsf:pushservice 08-27 16:50:49.351 D/Xiaomi  (25966): package -&gt; com.xiaomi.xmsf 08-27 16:50:49.370 I/ActivityManager( 1388): Displayed com.xiaomi.xmsf/top.trumeet.mipushframework.settings.MainActivity: +115ms 08-27 16:50:49.376 D/SystemServicesProxy( 2205): getRecentTasks: com.xiaomi.xmsf, 648  [logcat.txt](https://github.com/Trumeet/MiPushFramework/files/1254241/logcat.txt) </body>
		<created>2017-08-27 09:09:43</created>
		<closed>2017-08-28 05:04:19</closed>
	</bug>
	<bug>
		<id>7</id>
		<title>新版修改build的时候失败</title>
		<body>机型：oneplus 3t 不知道是不是个例，先提交issue吧</body>
		<created>2017-08-25 15:35:23</created>
		<closed>2017-08-28 04:25:51</closed>
	</bug>
	<bug>
		<id>6</id>
		<title>锤子到关闭省电的那一步点下一步就跳回上一页。</title>
		<body>锤子到关闭省电的那一步点下一步就跳回上一页。</body>
		<created>2017-08-25 10:13:18</created>
		<closed>2018-01-25 07:49:38</closed>
	</bug>
</bugs>
