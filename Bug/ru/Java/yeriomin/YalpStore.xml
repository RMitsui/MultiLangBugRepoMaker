<?xml version="1.0" encoding="ISO-8859-1"?>

<bugs>
	<bug>
		<id>541</id>
		<title>Update fails due to wrong signature</title>
		<body>First of all thank you very much for your great app.  It is a must have if one does not want to use google apps directly!  **Before creating an issue** 1. Make sure you are running the latest version of Yalp Store. Check [here](https://github.com/yeriomin/YalpStore/releases/latest). 2. Search for similar issues [here](https://github.com/yeriomin/YalpStore/issues?q=is%3Aissue). 3. Send developer a bug report using Yalp's built-in crash tool. Please identify yourself - the reports are anonymous by default. 4. Number 3 is important. Please do it. It helps a lot. 5. Use the following template to write the text of your issue.  **Expected behavior** update should work without problem  **Actual behavior** error message: (roughly translated from german: the new version has a different signing key. you have to remove the old version to install the new one.)  **Steps to reproduce** 1. have booking.com installed in 16.0. 2. see update to 16.1.1 3. click on install an see above error  So I did  - download the currently installed booking.com app from phone /data/app/com.booking[…]/base.apk - downloaded 16.0 version from apkmirror - downloaded 16.1.1 from apkmirror - ran a apksigner verifiy --print-certs on all three ```  base.apk Signer #1 certificate DN: O=Booking Signer #1 certificate SHA-256 digest: 6ac8c8a9e6f36e14e52a0a0515a36b7066e720a1b0c8a1b059e0781750a87199 Signer #1 certificate SHA-1 digest: 9c9fbe258a146be83a4a0f1cb64be96a13790324 Signer #1 certificate MD5 digest: e3641de5ae76e3c7a97efcecefe2fe01 com.booking_16.0-8666_minAPI19(arm64-v8a,armeabi,armeabi-v7a,mips,mips64,x86,x86_64)(nodpi)_apkmirror.com.apk Signer #1 certificate DN: O=Booking Signer #1 certificate SHA-256 digest: 6ac8c8a9e6f36e14e52a0a0515a36b7066e720a1b0c8a1b059e0781750a87199 Signer #1 certificate SHA-1 digest: 9c9fbe258a146be83a4a0f1cb64be96a13790324 Signer #1 certificate MD5 digest: e3641de5ae76e3c7a97efcecefe2fe01 com.booking_16.1.1-8952_minAPI19(arm64-v8a,armeabi,armeabi-v7a,mips,mips64,x86,x86_64)(nodpi)_apkmirror.com.apk Signer #1 certificate DN: O=Booking Signer #1 certificate SHA-256 digest: 6ac8c8a9e6f36e14e52a0a0515a36b7066e720a1b0c8a1b059e0781750a87199 Signer #1 certificate SHA-1 digest: 9c9fbe258a146be83a4a0f1cb64be96a13790324 Signer #1 certificate MD5 digest: e3641de5ae76e3c7a97efcecefe2fe01 ```  As you can see, all three have the same signature.  On logcat, I do get this ``` 2018-10-12 08:12:22.849 28989-29236/com.github.yeriomin.yalpstore W/PackageParser: Failed to parse /storage/emulated/0/Download/com.booking.8952.apk     java.io.FileNotFoundException: AndroidManifest.xml         at android.content.res.AssetManager.openXmlAssetNative(Native Method)         at android.content.res.AssetManager.openXmlBlockAsset(AssetManager.java:560)         at android.content.res.AssetManager.openXmlResourceParser(AssetManager.java:528)         at android.content.pm.PackageParser.parseApkLite(PackageParser.java:1773)         at android.content.pm.PackageParser.parseMonolithicPackageLite(PackageParser.java:906)         at android.content.pm.PackageParser.parseMonolithicPackage(PackageParser.java:1294)         at android.content.pm.PackageManager.getPackageArchiveInfo(PackageManager.java:4693)         at com.github.yeriomin.yalpstore.InstallerAbstract.verify(InstallerAbstract.java:7061)         at com.github.yeriomin.yalpstore.InstallerBackground.verify(InstallerBackground.java:38)         at com.github.yeriomin.yalpstore.InstallerPrivileged.verify(InstallerPrivileged.java:93)         at com.github.yeriomin.yalpstore.InstallerAbstract.verifyAndInstall(InstallerAbstract.java:91)         at com.github.yeriomin.yalpstore.task.InstallTask.doInBackground(InstallTask.java:1045)         at android.os.AsyncTask$2.call(AsyncTask.java:333)         at java.util.concurrent.FutureTask.run(FutureTask.java:266)         at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:245)         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)         at java.lang.Thread.run(Thread.java:764) 2018-10-12 08:12:22.852 28989-29236/com.github.yeriomin.yalpstore W/InstallerPrivilegedSession: Signature mismatch for com.booking 2018-10-12 08:12:22.871 28989-28989/com.github.yeriomin.yalpstore I/GlobalInstallReceiver: Finished installation (ACTION_PACKAGE_INSTALLATION_FAILED) of com.booking ```  Please let me know, if I can help you debugging this.  **Your setup** Oneplus 3, lineagoOs, 0.43  </body>
		<created>2018-10-12 06:15:45</created>
		<closed>2018-10-14 23:54:54</closed>
	</bug>
	<bug>
		<id>532</id>
		<title>Corrupted Duolingo APK?</title>
		<body>**Expected behavior** When installing Duolingo (`com.duolingo`) from Yalp, it should work correctly.  **Actual behavior** The installed app seems corrupted. It is displayed with the default Android icon in the launcher and when I launch it, it crashes immediately: ``` 09-30 16:46:13.053 10570 10570 D AndroidRuntime: Shutting down VM 09-30 16:46:13.054 10570 10570 E AndroidRuntime: FATAL EXCEPTION: main 09-30 16:46:13.054 10570 10570 E AndroidRuntime: Process: com.duolingo, PID: 10570 09-30 16:46:13.054 10570 10570 E AndroidRuntime: java.lang.RuntimeException: Unable to get provider com.crashlytics.android.CrashlyticsInitProvider: android.content.res.Resources$NotFoundException: Unable to find resource ID #0x7f08015a 09-30 16:46:13.054 10570 10570 E AndroidRuntime: at android.app.ActivityThread.installProvider(ActivityThread.java:5865) 09-30 16:46:13.054 10570 10570 E AndroidRuntime: at android.app.ActivityThread.installContentProviders(ActivityThread.java:5454) 09-30 16:46:13.054 10570 10570 E AndroidRuntime: at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5393) 09-30 16:46:13.054 10570 10570 E AndroidRuntime: at android.app.ActivityThread.-wrap2(ActivityThread.java) 09-30 16:46:13.054 10570 10570 E AndroidRuntime: at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1546) 09-30 16:46:13.054 10570 10570 E AndroidRuntime: at android.os.Handler.dispatchMessage(Handler.java:102) 09-30 16:46:13.054 10570 10570 E AndroidRuntime: at android.os.Looper.loop(Looper.java:154) 09-30 16:46:13.054 10570 10570 E AndroidRuntime: at android.app.ActivityThread.main(ActivityThread.java:6128) 09-30 16:46:13.054 10570 10570 E AndroidRuntime: at java.lang.reflect.Method.invoke(Native Method) 09-30 16:46:13.054 10570 10570 E AndroidRuntime: at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889) 09-30 16:46:13.054 10570 10570 E AndroidRuntime: at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779) 09-30 16:46:13.054 10570 10570 E AndroidRuntime: Caused by: android.content.res.Resources$NotFoundException: Unable to find resource ID #0x7f08015a 09-30 16:46:13.054 10570 10570 E AndroidRuntime: at android.content.res.ResourcesImpl.getResourcePackageName(ResourcesImpl.java:236) 09-30 16:46:13.054 10570 10570 E AndroidRuntime: at android.content.res.Resources.getResourcePackageName(Resources.java:1916) 09-30 16:46:13.054 10570 10570 E AndroidRuntime: at io.fabric.sdk.android.services.common.CommonUtils.n(CommonUtils.java:767) 09-30 16:46:13.054 10570 10570 E AndroidRuntime: at io.fabric.sdk.android.services.common.CommonUtils.a(CommonUtils.java:517) 09-30 16:46:13.054 10570 10570 E AndroidRuntime: at io.fabric.sdk.android.services.common.CommonUtils.a(CommonUtils.java:498) 09-30 16:46:13.054 10570 10570 E AndroidRuntime: at io.fabric.sdk.android.services.common.m.a(FirebaseInfo.java:52) 09-30 16:46:13.054 10570 10570 E AndroidRuntime: at com.crashlytics.android.CrashlyticsInitProvider.onCreate(CrashlyticsInitProvider.java:1073) 09-30 16:46:13.054 10570 10570 E AndroidRuntime: at android.content.ContentProvider.attachInfo(ContentProvider.java:1751) 09-30 16:46:13.054 10570 10570 E AndroidRuntime: at android.content.ContentProvider.attachInfo(ContentProvider.java:1726) 09-30 16:46:13.054 10570 10570 E AndroidRuntime: at android.app.ActivityThread.installProvider(ActivityThread.java:5862) 09-30 16:46:13.054 10570 10570 E AndroidRuntime: ... 10 more 09-30 16:46:13.057  2718  4294 W ActivityManager:   Force finishing activity com.duolingo/.app.LoginActivity 09-30 16:46:13.061  2718  4294 D ActivityTrigger: ActivityTrigger activityPauseTrigger  09-30 16:46:13.065  2718  4294 W ActivityManager:   Force finishing activity com.duolingo/.app.LoginActivity ```  It used to work correctly a few weeks/months ago. I tried to install it on another device with Play Store and it worked correctly.  **Steps to reproduce** 1. Install `com.duolingo` with Yalp. 2. Launch it.  **Your setup** Yalp Store 0.43 on a Fairphone 2 with Android 7.1.2. Delta updates are disabled.</body>
		<created>2018-09-30 14:50:01</created>
		<closed>2018-10-07 01:04:49</closed>
	</bug>
	<bug>
		<id>530</id>
		<title>Delta updates create corrupted apk(zip archive) </title>
		<body>Doing an update of Android system webview. Everything works, I get the notification touch to update - and the well known signature mismatch.  Examining the zipfile (apk) reveals broken zipfile - can not find zipfile directory.  Apk length is 33859120  Logcat shows no errors, BSDiff says patching successfully completed, deleting delta.unpacked  zip -FF on the damaged archive works and indicates some errors:  copying: res/layout/text_edit_suggestion_list_footer.xml (355 bytes) copying: res/layout/tooltip.xml (497 bytes) copying: res/menu/select_action_menu.xml (563 bytes) copying: META-INF/CERT.SF (19781 bytes) copying: META-INF/CERT.RSA (1148 bytes) copying: META-INF/MANIFEST.MF (19448 bytes) zip warning: unexpected signature 50 4b 00 00 on disk 0 at 33816455  zip warning: skipping this signature... Central Directory found... no local entry: assets/stored-locales/am.pak no local entry: res/drawable-xxhdpi-v4/abc_textfield_searchK%fuivated_mtrl_alpha no local entry: 6ht/drawable-xxhdpi-v4/abc_textfield_search_default_mtrl_alpha.9 no local entry: res/drawable-xxhdpi-v4/ic_menu_share_holo_light.webp no local entry: g�/drawable-xxhdpi-v4/icL7hbrch.webp no local entry: res/drawable-xxhdpi-v4/iconL;hcview.webp no local entry: res/drawable-xxxhdpi-v4/abc_btn_switchL8r`on_mtrl_00001.9.png no local entry: re�fXawable-xxxhdpi-v4/abc_O8q`switch_to_on_mtrl_00012.9.png no local entry: res(ubwable-xxxhdpi-v4/abc_spinner_mtrl_am_alpha.9.png zip warning: error reading entry: Success zip warning: skipping this entry...  Wondering, perhaps packing the archive resulted in an unexpected length of the archive? Compression quality may slightly differ across different library versions.  Or some junk got attached or inserted?  Anyway, have the faulty archive and logs here for closer inspection. </body>
		<created>2018-09-25 21:24:26</created>
		<closed>2018-10-06 19:54:44</closed>
	</bug>
	<bug>
		<id>528</id>
		<title>Downloaded APKs with signature missmatch cannot be ignored.</title>
		<body>Okay, this is an annoying bug. When you install an app with e.g. f-droid and then yalp finds an update to this app on playstore it naturally downloads the new apk, tries to apply it and fails due to signature mismatch. This is what "ignore updates" is for, of course.  But if you fail to ignore updates beforehand and actually download and fail to install the app the "ignore updates" option is gone from the app menu. Instead yalp notifies every hour that there is an update ready to install since it has an apk ready in its internal download folder. There is also no way to remove the downloaded apk.  EDIT: I also noticed that the app is disappearing from the installed apps list (only in yalp) after a failed install due to signature mismatch. Still yalp produces an update notification every hour. When I open the notification yalp opens the update tab but fails to find any app to update.   So what should be done is ~~two~~ three things:  1. Allow ignoring updates even after the apk was downloaded.  2. Give a GUI option within yalp to delete downloaded apks.   3. Don't remove apps from the installed apps list after a failed update attempt. </body>
		<created>2018-09-23 08:46:04</created>
		<closed>2018-10-09 23:07:42</closed>
	</bug>
	<bug>
		<id>493</id>
		<title>Old FroYo device cannot sign in to google store with builtin account</title>
		<body>I left a post at https://forum.f-droid.org/t/yalp-store-not-able-to-get-apps-from-play-store/2906/10 and user Licaon_Kter suggested I report this here  Copying the other post here:  &gt; On 9 Jun I installed 0.41 (downloaded from f-droid web page, I can’t use the f-droid app because my device is too old) and have this issue(s). Tonight I installed 0.42 (also downloaded from f-droid - is there any difference from the one on github aside from the signature?) and it has the same issue. &gt;  &gt; When I try to start it I immediately get the notice that it has crashed and it tries to gather the error report, asks me to describe the problem and brings up the keyboard to type in my comments, but keeps cycling between that and the message that " you can help by describing…" which is again replaced by the keyboard in a loop that runs a dozen or more times. It does not allow me to type anything before repeating the cycle which goes by too quickly to even see all of the error message. &gt;  &gt; I did get some progress - I uninstalled, rebooted, reinstalled, then this time did NOT open the app immediately but instead rebooted one more time. Now when I open the app it shows me a list of installed apps and lets me adjust settings. Now when I try to update anything I am asked whether to use my google account or the built-in account. Either way I am immediately told “No network connection” even before I have time to select a choice, I have tried both choices but it is still always the same result. This too is the same for both versions 0.41 and 0.42. &gt;  &gt; My device is quite old, so much so that play store cannot run nor can its old browser even visit that page to manually download anything, that is why I wanted to use this app. Huawei Ideos U8150, it runs 2.2 FroYo in case that matters, I was hoping this app would work since so many others are not compatible. Wuijbfek’s solution of using APKUpdater won’t work for me as that needs at least 2.3 Gingerbread but my device is older. &gt;  &gt; Any suggestions? &gt;   **Steps to reproduce** 1. DL and install Yalp Store 2. Do not open app immediately, instead reboot device first 3. Open Yalp Store, try to check for updates 4. When asked, select to use builtin account  **Expected behavior** App should open properly at step 3 and after step 4 should complete google signin as needed **Actual behavior** If reboot from step 2 is skipped, trying to open app at step 3 gets repeating loop between error message and trying to get keyboard input describing what happened.  Step 4 got error message about no network connection despite working wifi (but no cellular service - is this the problem? What about non-phone tablet type devices?)  **Your setup** Device model = Huawei Ideos aka U8150-B, 2.2 FroYo, Yalp Store version(s) 0.41, 0.42  (I will try to get in-app report tomorrow, it is getting late right now)</body>
		<created>2018-06-27 05:09:11</created>
		<closed>2018-06-29 23:34:53</closed>
	</bug>
	<bug>
		<id>492</id>
		<title>Can't Search the store on Android TV - Bug?</title>
		<body>I'm running YalpStore on the Nvidia Shield TV, running Android TV Oreo.  I can access the "..." button at the top right and find apps via Categories. When the "..." button is selected, I can use the Shield's remote (or controller) d-pad to move left to the next button, but if I move left again the highlight disappears instead of selecting the search icon.  Am I doing something wrong, or is there a UI bug?</body>
		<created>2018-06-26 16:24:48</created>
		<closed>2018-11-07 01:24:50</closed>
	</bug>
	<bug>
		<id>472</id>
		<title>yalp store ota ver. 41 no longer "survives" updates of android</title>
		<body>Hello, I installed yalp store ota zip ver 41, but after updating Android it disappeared. Maybe it is caused by the fact that this yalp version has no script in addon.d folder?</body>
		<created>2018-06-06 07:48:58</created>
		<closed>2018-06-06 19:48:49</closed>
	</bug>
	<bug>
		<id>462</id>
		<title>Unable to install paid apps</title>
		<body>Just bought a new app and I can't seem to install it. Also tried uninstalling another previously installed purchased app and I can't install it again. Seems that Yalp Store can't detect I have bought it.  Anyone else come across this issue?  _I can provide Logcat later if requested_   ---   - **Yalp Store version:** 0.41  - **OS:** LineageOS for microG 15.1-20180521 Android 8.1.0 - **Device:** OnePlus 3T    </body>
		<created>2018-05-23 15:02:35</created>
		<closed>2018-05-26 23:30:10</closed>
	</bug>
	<bug>
		<id>448</id>
		<title>Network Not working on fdroid version</title>
		<body>It always says "no network" when using the latest fdroid version. With latest github release, everything works fine.</body>
		<created>2018-05-18 13:51:01</created>
		<closed>2018-05-18 13:57:25</closed>
	</bug>
	<bug>
		<id>447</id>
		<title>Yalp &gt; 0.35 not working anymore: no network</title>
		<body>If I start Yalp and tap on "search for updates" it tells me "no network connection"  This behaviour happens with version 0.39 and 0.40 (could not download 0.36 - 0.38) and with Lollipop and Nougat, but Yalp 0.40 works with Jelly Bean.  I deinstalled Yalp and reinstalled the version 0.35 and everything is OK.  My devices are rootet, every app named "Google-xxx" or similar are disabled, AF-Wall is installed (and Yalp has permission), AdAway is working, Xprivacy is disabled for Yalp. So: nothing changed between versions 0.35 and 0.40 but Yalp itself.  Spielmops </body>
		<created>2018-05-17 08:37:55</created>
		<closed>2018-05-18 12:51:31</closed>
	</bug>
	<bug>
		<id>425</id>
		<title>Categories fail to load</title>
		<body>Since v0.39, categories fail to load on clean install.  ### Expected behaviour Categories load normally as they do on every other build.  ### Actual behaviour Since categories are saved in preferences, they are only fetched once which is why categories still work on dirty install but on clean install, it is unable to fetch them and hence results into a blank page. It is possibly caused by the following commit in API which solved the updates issue :  https://github.com/yeriomin/play-store-api/commit/686268d25913402d2761ba3e5778b028f3ed5606  ### Steps to reproduce 1. Dirty Install v0.39 2. Go to categories ( they show up ) 3. Uninstall Yalp 4. Clean install v0.39 5. Again go to categories ( they don't show up )  ### Info about your device Honor 8 running stock emui 5.0 based of Android 7.0 with January 2018 security patch. I have talked to few others, with different devices and android versions, who faced the same issue. </body>
		<created>2018-04-22 15:22:36</created>
		<closed>2018-05-02 00:02:25</closed>
	</bug>
	<bug>
		<id>417</id>
		<title>Cannot install an app downloaded to internal storage</title>
		<body>### Expected behaviour After enabling download of apps to internal storage, it should be installable.  ### Actual behaviour A toast come out and say could not be installed, with the following error logs  ``` 04-13 00:35:32.334  2280  6451 I DictionaryProvider:UpdateHandler: downloadFinished() : DownloadId = -696006506 04-13 00:35:32.348  3199  5458 E DatabaseUtils: Writing exception to parcel 04-13 00:35:32.348  3199  5458 E DatabaseUtils: java.lang.SecurityException: Permission Denial: reading com.android.providers.downloads.DownloadProvider uri content://downloads/my_downloads from pid=2280, uid=10069 requires android.permission.INTERNET, or grantUriPermission() 04-13 00:35:32.348  3199  5458 E DatabaseUtils: at android.content.ContentProvider.enforceReadPermissionInner(ContentProvider.java:608) 04-13 00:35:32.348  3199  5458 E DatabaseUtils: at android.content.ContentProvider$Transport.enforceReadPermission(ContentProvider.java:483) 04-13 00:35:32.348  3199  5458 E DatabaseUtils: at android.content.ContentProvider$Transport.query(ContentProvider.java:212) 04-13 00:35:32.348  3199  5458 E DatabaseUtils: at android.content.ContentProviderNative.onTransact(ContentProviderNative.java:112) 04-13 00:35:32.348  3199  5458 E DatabaseUtils: at android.os.Binder.execTransact(Binder.java:565) ```  ### Steps to reproduce 1. Enable internal storage download for apps 2. Try to install an app  ### Info about your device kiwi (Huawei Honor 5x), Lineage 4 Microg 14.1 </body>
		<created>2018-04-13 04:38:52</created>
		<closed>2018-07-03 14:44:28</closed>
	</bug>
	<bug>
		<id>412</id>
		<title>App crashes on login</title>
		<body>Running 0.35 on LineageOS 14.1.  ### Expected behaviour Search for name or updates. Login and search.  ### Actual behaviour Searching for a name or updates will pop up the "log in" dialog. Then the app crashs.  ### Steps to reproduce Install yalp with f-droid. Search for anything in yalp.  ### Info about your device Newly installed LineageOS 14.1 on Redmi5.</body>
		<created>2018-04-01 09:45:48</created>
		<closed>2018-04-23 19:41:57</closed>
	</bug>
	<bug>
		<id>392</id>
		<title>Entering preferences screen causes a crash on Amazon devices</title>
		<body>### Expected behaviour Settings opens  ### Actual behaviour Bug report opens  ### Steps to reproduce 1.　Press the menu button 2.　Select settings 3.　Bug report opens  ### Info about your device firetv stick 1 </body>
		<created>2018-02-09 03:18:18</created>
		<closed>2018-05-05 21:03:17</closed>
	</bug>
</bugs>
