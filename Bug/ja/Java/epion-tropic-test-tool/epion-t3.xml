<?xml version="1.0" encoding="ISO-8859-1"?>

<bugs>
	<bug>
		<id>34</id>
		<title>ExecuteRestApiで、レスポンスボディが空のときに発生するTemplateエラーの解決</title>
		<body>現状の下記のソースコードだと、レスポンスボディが空(nullではない)場合にもresultにセットされてしまうため、`&lt;th:block th:if="${response.body}"&gt;` の判定はtrueとなり、   `&lt;code th:utext="${stringUtils.prettyHtml(jsonUtils.rePretty(response.body))}"&gt;` でtemplate作成エラーが発生する。  ExecuteRestApiRunner - 121行目 ```         if (response.body() != null) {             result.setBody(response.body().string());         } ```  例として、以下のように修正することで解決が可能である。  ```         if (response.body() != null) {         String body = response.body().string();         if (!body.isEmpty()) {         result.setBody(body);         }         } ```</body>
		<created>2019-04-03 06:13:48</created>
		<closed>2019-06-14 02:40:29</closed>
	</bug>
	<bug>
		<id>26</id>
		<title>ExecuteRestApiにてボディのエンコードが指定可能とする</title>
		<body>#### Feature Kind（機能種別） Choice Feature Kind（機能の種別を選んでください） - Command（単純な処理機能）  #### Feature Description （機能詳細） UTF-8固定でと言いたいところだが、要望があるため機能追加を行う。 デフォルト値はUTF-8とする。 ContentTypeから導き出してもいいが、charsetを指定しない場合もあるので別で実装する。 </body>
		<created>2019-03-23 10:24:46</created>
		<closed>2019-03-31 22:48:28</closed>
	</bug>
	<bug>
		<id>25</id>
		<title>ExecuteRestApiコマンドのHTML出力時にエラーが発生する</title>
		<body>1次解析を試みたが、時間がかかりそうなので断念。 コマンド自体は成功するので、アプリ自体が落ちるわけではない。  自分のタスクに影響度は低いと思うので、優先していただかなくて大丈夫です。 とりあえずスタックトレースだけ載せておきます ``` 2019-03-19 19:17:00,818 INFO  ProcessLog                     - StatusCode:200  2019-03-19 19:17:00,818 INFO  ProcessLog                     - Headers:  2019-03-19 19:17:00,818 INFO  ProcessLog                     - content-type:[application/json;charset=UTF-8]  2019-03-19 19:17:00,818 INFO  ProcessLog                     - date:[Tue, 19 Mar 2019 10:17:00 GMT]  2019-03-19 19:17:00,818 INFO  ProcessLog                     - transfer-encoding:[chunked]  2019-03-19 19:17:00,818 INFO  ProcessLog                     - Body:{"result":{"message":null,"code":"success"}}  2019-03-19 19:17:00,827 ERROR org.thymeleaf.TemplateEngine   - [THYMELEAF][main] Exception processing template "execute-rest-api-report": Exception evaluating OGNL expression: "stringUtils.prettyHtml(jsonUtils.rePretty(request.body))" (template: "execute-rest-api-report" - line 52, col 31)  org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating OGNL expression: "stringUtils.prettyHtml(jsonUtils.rePretty(request.body))" (template: "execute-rest-api-report" - line 52, col 31) at org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.evaluate(OGNLVariableExpressionEvaluator.java:191) at org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.evaluate(OGNLVariableExpressionEvaluator.java:95) at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:165) at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) at org.thymeleaf.standard.processor.StandardUtextTagProcessor.doProcess(StandardUtextTagProcessor.java:87) at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) at org.thymeleaf.engine.TemplateModel.process(TemplateModel.java:136) at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:661) at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1059) at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1048) at com.zomu.t.epion.tropic.test.tool.core.command.reporter.impl.AbstractThymeleafCommandReporter.report(AbstractThymeleafCommandReporter.java:95) at com.zomu.t.epion.tropic.test.tool.core.command.runner.impl.AbstractCommandRunner.execute(AbstractCommandRunner.java:139) at com.zomu.t.epion.tropic.test.tool.core.command.runner.impl.AbstractCommandRunner.execute(AbstractCommandRunner.java:1) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at com.zomu.t.epion.tropic.test.tool.core.command.handler.CommandRunnerInvocationHandler.invoke(CommandRunnerInvocationHandler.java:88) at com.sun.proxy.$Proxy19.execute(Unknown Source) at com.zomu.t.epion.tropic.test.tool.core.flow.runner.impl.CommandExecuteFlowRunner.execute(CommandExecuteFlowRunner.java:119) at com.zomu.t.epion.tropic.test.tool.core.flow.runner.impl.CommandExecuteFlowRunner.execute(CommandExecuteFlowRunner.java:1) at com.zomu.t.epion.tropic.test.tool.core.flow.runner.impl.AbstractFlowRunner.execute(AbstractFlowRunner.java:98) at com.zomu.t.epion.tropic.test.tool.core.flow.runner.impl.AbstractFlowRunner.execute(AbstractFlowRunner.java:1) at com.zomu.t.epion.tropic.test.tool.core.scenario.runner.impl.ScenarioRunnerImpl.executeScenario(ScenarioRunnerImpl.java:188) at com.zomu.t.epion.tropic.test.tool.core.scenario.runner.impl.ScenarioRunnerImpl.execute(ScenarioRunnerImpl.java:68) at com.zomu.t.epion.tropic.test.tool.core.scenario.runner.impl.ScenarioRunnerImpl.execute(ScenarioRunnerImpl.java:1) at com.zomu.t.epion.tropic.test.tool.core.application.runner.impl.ApplicationRunnerImpl.execute(ApplicationRunnerImpl.java:95) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at com.zomu.t.epion.tropic.test.tool.application.Application.main(Application.java:100) at com.zomu.t.epion.tropic.test.tool.application.ApplicationTest.main(ApplicationTest.java:18) Caused by: ognl.MethodFailedException: Method "rePretty" failed for object com.zomu.t.epion.tropic.test.tool.core.util.JsonUtils@15d42ccb at ognl.OgnlRuntime.callAppropriateMethod(OgnlRuntime.java:1551) at ognl.ObjectMethodAccessor.callMethod(ObjectMethodAccessor.java:68) at ognl.OgnlRuntime.callMethod(OgnlRuntime.java:1615) at ognl.ASTMethod.getValueBody(ASTMethod.java:91) at ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212) at ognl.SimpleNode.getValue(SimpleNode.java:258) at ognl.ASTChain.getValueBody(ASTChain.java:141) at ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212) at ognl.SimpleNode.getValue(SimpleNode.java:258) at ognl.ASTMethod.getValueBody(ASTMethod.java:88) at ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212) at ognl.SimpleNode.getValue(SimpleNode.java:258) at ognl.ASTChain.getValueBody(ASTChain.java:141) at ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212) at ognl.SimpleNode.getValue(SimpleNode.java:258) at ognl.Ognl.getValue(Ognl.java:467) at ognl.Ognl.getValue(Ognl.java:431) at org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.executeExpression(OGNLVariableExpressionEvaluator.java:316) at org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.evaluate(OGNLVariableExpressionEvaluator.java:170) ... 39 common frames omitted Caused by: java.lang.NullPointerException: null at com.fasterxml.jackson.core.JsonFactory.createParser(JsonFactory.java:889) at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3004) at com.zomu.t.epion.tropic.test.tool.core.util.JsonUtils.rePretty(JsonUtils.java:46) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at ognl.OgnlRuntime.invokeMethod(OgnlRuntime.java:894) at ognl.OgnlRuntime.callAppropriateMethod(OgnlRuntime.java:1539) ... 57 common frames omitted 2019-03-19 19:17:00,828 ERROR stractThymeleafCommandReporter - ee  org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating OGNL expression: "stringUtils.prettyHtml(jsonUtils.rePretty(request.body))" (template: "execute-rest-api-report" - line 52, col 31) at org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.evaluate(OGNLVariableExpressionEvaluator.java:191) at org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.evaluate(OGNLVariableExpressionEvaluator.java:95) at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:165) at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) at org.thymeleaf.standard.processor.StandardUtextTagProcessor.doProcess(StandardUtextTagProcessor.java:87) at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) at org.thymeleaf.engine.TemplateModel.process(TemplateModel.java:136) at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:661) at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1059) at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1048) at com.zomu.t.epion.tropic.test.tool.core.command.reporter.impl.AbstractThymeleafCommandReporter.report(AbstractThymeleafCommandReporter.java:95) at com.zomu.t.epion.tropic.test.tool.core.command.runner.impl.AbstractCommandRunner.execute(AbstractCommandRunner.java:139) at com.zomu.t.epion.tropic.test.tool.core.command.runner.impl.AbstractCommandRunner.execute(AbstractCommandRunner.java:1) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at com.zomu.t.epion.tropic.test.tool.core.command.handler.CommandRunnerInvocationHandler.invoke(CommandRunnerInvocationHandler.java:88) at com.sun.proxy.$Proxy19.execute(Unknown Source) at com.zomu.t.epion.tropic.test.tool.core.flow.runner.impl.CommandExecuteFlowRunner.execute(CommandExecuteFlowRunner.java:119) at com.zomu.t.epion.tropic.test.tool.core.flow.runner.impl.CommandExecuteFlowRunner.execute(CommandExecuteFlowRunner.java:1) at com.zomu.t.epion.tropic.test.tool.core.flow.runner.impl.AbstractFlowRunner.execute(AbstractFlowRunner.java:98) at com.zomu.t.epion.tropic.test.tool.core.flow.runner.impl.AbstractFlowRunner.execute(AbstractFlowRunner.java:1) at com.zomu.t.epion.tropic.test.tool.core.scenario.runner.impl.ScenarioRunnerImpl.executeScenario(ScenarioRunnerImpl.java:188) at com.zomu.t.epion.tropic.test.tool.core.scenario.runner.impl.ScenarioRunnerImpl.execute(ScenarioRunnerImpl.java:68) at com.zomu.t.epion.tropic.test.tool.core.scenario.runner.impl.ScenarioRunnerImpl.execute(ScenarioRunnerImpl.java:1) at com.zomu.t.epion.tropic.test.tool.core.application.runner.impl.ApplicationRunnerImpl.execute(ApplicationRunnerImpl.java:95) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at com.zomu.t.epion.tropic.test.tool.application.Application.main(Application.java:100) at com.zomu.t.epion.tropic.test.tool.application.ApplicationTest.main(ApplicationTest.java:18) Caused by: ognl.MethodFailedException: Method "rePretty" failed for object com.zomu.t.epion.tropic.test.tool.core.util.JsonUtils@15d42ccb at ognl.OgnlRuntime.callAppropriateMethod(OgnlRuntime.java:1551) at ognl.ObjectMethodAccessor.callMethod(ObjectMethodAccessor.java:68) at ognl.OgnlRuntime.callMethod(OgnlRuntime.java:1615) at ognl.ASTMethod.getValueBody(ASTMethod.java:91) at ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212) at ognl.SimpleNode.getValue(SimpleNode.java:258) at ognl.ASTChain.getValueBody(ASTChain.java:141) at ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212) at ognl.SimpleNode.getValue(SimpleNode.java:258) at ognl.ASTMethod.getValueBody(ASTMethod.java:88) at ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212) at ognl.SimpleNode.getValue(SimpleNode.java:258) at ognl.ASTChain.getValueBody(ASTChain.java:141) at ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212) at ognl.SimpleNode.getValue(SimpleNode.java:258) at ognl.Ognl.getValue(Ognl.java:467) at ognl.Ognl.getValue(Ognl.java:431) at org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.executeExpression(OGNLVariableExpressionEvaluator.java:316) at org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.evaluate(OGNLVariableExpressionEvaluator.java:170) ... 39 common frames omitted Caused by: java.lang.NullPointerException: null at com.fasterxml.jackson.core.JsonFactory.createParser(JsonFactory.java:889) at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3004) at com.zomu.t.epion.tropic.test.tool.core.util.JsonUtils.rePretty(JsonUtils.java:46) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at ognl.OgnlRuntime.invokeMethod(OgnlRuntime.java:894) at ognl.OgnlRuntime.callAppropriateMethod(OgnlRuntime.java:1539) ... 57 common frames omitted 2019-03-19 19:17:00,828 INFO  f.r.i.CommandExecuteFlowRunner - ■ End Command   ■ Scenario ID : scenario-IF_R0005, Command ID : rest-002, Execute Command ID : 7409f136-3528-4c80-a716-44a33cf3580c, Process Status : SUCCESS  ```</body>
		<created>2019-03-19 10:27:38</created>
		<closed>2019-03-26 02:13:25</closed>
	</bug>
	<bug>
		<id>24</id>
		<title>DBUnitでDataSetができない問題の解決（ImportRdbDataRunnerクラス）</title>
		<body>ImportRdbDataコマンドを用いてDBへのデータ投入を試みたところ、以下のようなエラーが発生しデータ投入ができませんでした。後述の解決策で一応データ投入はできているのでExcelやYamlに問題はありません。  コンソール出力エラー ``` 2019-03-18 18:05:31,910 WARN  o.d.d.AbstractTableMetaData    - Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'MySQL' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.  2019-03-18 18:05:31,911 WARN  o.d.d.DatabaseTableMetaData    - No columns found for table 'table_a' that are supported by dbunit. Will return an empty column list  2019-03-18 18:05:31,914 ERROR f.r.i.CommandExecuteFlowRunner - ■ End Command   ■ Scenario ID : scenario-db-sample, Command ID : db-dataset-001, Execute Command ID : 7550ffde-0173-4493-a516-b768d4f55e04, Process Status : ERROR  ``` レポート出力エラー ``` Caused by: org.dbunit.dataset.NoSuchColumnException: table_a.column -  (Non-uppercase input column: character_id) in ColumnNameToIndexes cache map. Note that the map's column names are NOT case sensitive. at org.dbunit.dataset.AbstractTableMetaData.getColumnIndex(AbstractTableMetaData.java:117) at org.dbunit.operation.AbstractOperation.getOperationMetaData(AbstractOperation.java:89) at org.dbunit.operation.AbstractBatchOperation.execute(AbstractBatchOperation.java:151) at com.zomu.t.epion.tropic.test.tool.rdb.command.runner.ImportRdbDataRunner.execute(ImportRdbDataRunner.java:154) ... 23 more ```  https://stackoverflow.com/questions/4877034/dbunit-nosuchcolumnexception-and-case-sensitivity 上記のサイトを参考にし、com.zomu.t.epion.tropic.test.tool.rdb.command.runner.ImportRdbDataRunnerクラス (154行目付近) を以下のように修正したところMySQLへのデータ投入が可能になりました。    ```                     // オペレーション実行                     conn.getConfig().setProperty(DatabaseConfig.PROPERTY_DATATYPE_FACTORY, new MySqlDataTypeFactory());                     conn.getConfig().setProperty(DatabaseConfig.PROPERTY_METADATA_HANDLER, new MySqlMetadataHandler());                     operationType.getOperation().execute(conn, iDataSet); ``` IDatabaseConnectionの派生クラスであるMySqlConnectionにも同様の記述がされているので、必要なのではと思いissueを作成しました。   【おまけ】 RDBガイドの「ImportRdbDataRunner」のコマンド名が「ImportRdbDataRunner」となっていますが、コマンドIDは「ImportRdbData」なので修正しておいた方がいいと思います。 https://ettt.t-zomu.com/#/pages/specification/command/rdb</body>
		<created>2019-03-18 09:48:24</created>
		<closed>2019-03-26 02:14:03</closed>
	</bug>
	<bug>
		<id>22</id>
		<title>SSHの接続定義が参照できない</title>
		<body></body>
		<created>2019-03-15 08:03:54</created>
		<closed>2019-03-15 08:56:09</closed>
	</bug>
	<bug>
		<id>20</id>
		<title>ExecuteRestApiのカスタムレポートのレスポンスボディが表示されない</title>
		<body>バグ。</body>
		<created>2019-03-12 08:39:39</created>
		<closed>2019-03-12 08:40:55</closed>
	</bug>
	<bug>
		<id>17</id>
		<title>Profileの値が重複して上書きされているような挙動が確認できる</title>
		<body>現状、バグの断定までたどり着いてはいないが、 Profileの登録値が上書きされているような挙動をしている。</body>
		<created>2019-03-12 07:36:06</created>
		<closed>2019-03-16 08:24:16</closed>
	</bug>
	<bug>
		<id>16</id>
		<title>結果ディレクトリにもう一階層設ける</title>
		<body>現状は、結果ディレクトリの直下にreport.htmlが出力されているが、 複数回起動した場合に、上書きされていくため使いずらい。 そのため、もう1段階ネストして毎回結果が残るようにしたい。</body>
		<created>2019-03-12 07:33:44</created>
		<closed>2019-03-21 03:05:24</closed>
	</bug>
	<bug>
		<id>9</id>
		<title>Bindが1つの文字列に複数個含まれる場合に、1か所しか置換されない</title>
		<body>普通に、バインド処理のバグだと思われる。</body>
		<created>2019-03-04 09:36:40</created>
		<closed>2019-03-16 08:34:13</closed>
	</bug>
</bugs>
