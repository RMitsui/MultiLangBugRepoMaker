<?xml version="1.0" encoding="ISO-8859-1"?>

<bugrepository name="halo">
	<bug id="1022" opendate="2020-08-09 08:15:42" fixdate="2020-08-10 15:04:58">
		<buginformation>
			<summary>上传文件报错</summary>
			<description>## 我的环境  ``` 版本：1.4.0-beta.2 数据库：H2 1.4.196 (2017-06-10) 运行模式：production User Agent：Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.105 Safari/537.36 ```  ## 错误日志  ``` 2020-08-09 16:13:14.706  INFO 21603 --- [qtp807328355-2169] r.h.app.handler.file.LocalFileHandler    : Uploading file: [favicon.ico]to directory: [/root/.halo/upload/2020/08/favicon-5254603f45974d90a20ef7fa22fa7614.ico] 2020-08-09 16:13:14.723 ERROR 21603 --- [qtp807328355-2169] r.h.app.core.ControllerExceptionHandler  : Captured an exception: [null] 2020-08-09 16:13:18.589  INFO 21603 --- [qtp807328355-1984] r.h.app.handler.file.LocalFileHandler    : Uploading file: [favicon.ico]to directory: [/root/.halo/upload/2020/08/favicon-835b6f9f052b494abd328aa6203d79a5.ico] 2020-08-09 16:13:18.590 ERROR 21603 --- [qtp807328355-1984] r.h.app.core.ControllerExceptionHandler  : Captured an exception: [null] ```  ## 期望行为  正常上传图片  ## 当前行为  上传图片报错，似乎是后缀为 ico 的问题，将 ico 改成别的即可上传成功  ![image](https://user-images.githubusercontent.com/25138766/89727913-87983600-da5b-11ea-92a1-9a6d73d7d6d8.png)  </description>
		</buginformation>
		<fixedfiles>
			<file>src/main/java/run/halo/app/utils/ImageUtils.java</file>
			<file>src/main/java/run/halo/app/exception/ImageFormatException.java</file>
		</fixedfiles>
	</bug>
	<bug id="950" opendate="2020-07-07 14:31:43" fixdate="2020-07-07 15:30:00">
		<buginformation>
			<summary>当文件不存在时，删除附件会报错</summary>
			<description>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境 版本：1.3.2 数据库：H2 1.4.196 (2017-06-10) 运行模式：production 启动时间：2020-07-07 21:12 &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  ---  ## 错误日志 ``` Caused by: java.nio.file.NoSuchFileException: /root/.halo/upload/2020/07/docker-463320b8a3be4a5d87329966537c3aed.jpg at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86) ~[na:1.8.0_252] at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102) ~[na:1.8.0_252] at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107) ~[na:1.8.0_252] at sun.nio.fs.UnixFileSystemProvider.implDelete(UnixFileSystemProvider.java:244) ~[na:1.8.0_252] at sun.nio.fs.AbstractFileSystemProvider.delete(AbstractFileSystemProvider.java:103) ~[na:1.8.0_252] at java.nio.file.Files.delete(Files.java:1126) ~[na:1.8.0_252] at run.halo.app.handler.file.LocalFileHandler.delete(LocalFileHandler.java:190) ~[classes!/:na] ... 100 common frames omitted ```  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  ---  ## 期望行为 我的服务器由于某些原因重置了。在这之前我备份了halo（数据备份）。 当我重新安装halo并且导入备份之后，发现我的图片数据还存在，但图片为空。 我想删除这些空的图片并重新上传新的图片  &lt;!--   你期望会发生什么？ --&gt;  ## 当前行为 删除图片就会出现 [错误日志](#错误日志) 这样的错误信息。导致我无法删除旧的图片。 这可能是由于读取文件目录为空导致的BUG。 &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt;</description>
		</buginformation>
		<fixedfiles>
			<file>src/main/java/run/halo/app/handler/file/LocalFileHandler.java</file>
		</fixedfiles>
	</bug>
	<bug id="897" opendate="2020-06-06 13:48:49" fixdate="2020-09-14 05:15:00">
		<buginformation>
			<summary>文件上传未考虑到后缀中存在半角点号的情况</summary>
			<description>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境  &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  ---  版本：1.3.2 数据库：H2 1.4.196 (2017-06-10) 运行模式：production User Agent：Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.61 Safari/537.36  ## 错误日志  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  ---  无  ## 期望行为  &lt;!--   你期望会发生什么？ --&gt;  不会分割  ## 当前行为  &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt;  详情请查看 https://bbs.halo.run/d/861-targz</description>
		</buginformation>
		<fixedfiles>
			<file>src/main/java/run/halo/app/controller/core/CommonController.java</file>
			<file>src/test/java/run/halo/app/utils/FilenameUtilsTest.java</file>
			<file>src/main/java/run/halo/app/utils/FilenameUtils.java</file>
		</fixedfiles>
	</bug>
	<bug id="853" opendate="2020-05-15 15:11:48" fixdate="2020-07-19 14:04:45">
		<buginformation>
			<summary>整站数据备份和数据库数据导出失败。</summary>
			<description>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境  &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  版本：1.3.2 数据库：H2 1.4.196 (2017-06-10) 运行模式：production User Agent：Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36  ---  ## 错误日志  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  ``` 2020-05-15 23:08:50.769 ERROR 616 --- [XNIO-1 task-6] r.h.app.core.ControllerExceptionHandler  : Captured an exception  run.halo.app.exception.ServiceException: 导出数据失败 at run.halo.app.service.impl.BackupServiceImpl.exportData(BackupServiceImpl.java:304) ~[classes!/:na] at run.halo.app.controller.admin.api.BackupController.exportData(BackupController.java:97) ~[classes!/:na] at run.halo.app.controller.admin.api.BackupController$$FastClassBySpringCGLIB$$810ea7c7.invoke(&lt;generated&gt;) ~[classes!/:na] at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at run.halo.app.core.ControllerLogAop.controller(ControllerLogAop.java:48) ~[classes!/:na] at jdk.internal.reflect.GeneratedMethodAccessor303.invoke(Unknown Source) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at run.halo.app.handler.aspect.DisableOnConditionAspect.around(DisableOnConditionAspect.java:43) ~[classes!/:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at run.halo.app.controller.admin.api.BackupController$$EnhancerBySpringCGLIB$$ca126f0f.exportData(&lt;generated&gt;) ~[classes!/:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:523) ~[jakarta.servlet-api-4.0.3.jar!/:4.0.3] at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[jakarta.servlet-api-4.0.3.jar!/:4.0.3] at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at run.halo.app.security.filter.AdminAuthenticationFilter.doAuthenticate(AdminAuthenticationFilter.java:116) ~[classes!/:na] at run.halo.app.security.filter.AbstractAuthenticationFilter.doFilterInternal(AbstractAuthenticationFilter.java:191) ~[classes!/:na] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at run.halo.app.filter.CorsFilter.doFilter(CorsFilter.java:49) ~[classes!/:na] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at run.halo.app.filter.LogFilter.doFilterInternal(LogFilter.java:38) ~[classes!/:na] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:109) ~[spring-boot-actuator-2.2.5.RELEASE.jar!/:2.2.5.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na] at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na] at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na] Caused by: java.nio.file.NoSuchFileException: /tmp/halo-data-export/halo-data-export-2020-05-15-23-08-50-2145104111.json at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92) ~[na:na] at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111) ~[na:na] at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116) ~[na:na] at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219) ~[na:na] at java.base/java.nio.file.Files.newByteChannel(Files.java:370) ~[na:na] at java.base/java.nio.file.Files.createFile(Files.java:647) ~[na:na] at run.halo.app.service.impl.BackupServiceImpl.exportData(BackupServiceImpl.java:297) ~[classes!/:na] ... 106 common frames omitted  2020-05-15 23:08:59.501  WARN 616 --- [Timer-0] run.halo.app.cache.AbstractCacheStore    : Cache key: [cache_lock_public run.halo.app.security.token.AuthToken run.halo.app.controller.admin.api.AdminController.refresh(java.lang.String)] has been expired 2020-05-15 23:09:21.143 ERROR 616 --- [XNIO-1 task-2] r.h.app.core.ControllerExceptionHandler  : Captured an exception  run.halo.app.exception.ServiceException: 导出数据失败 at run.halo.app.service.impl.BackupServiceImpl.exportData(BackupServiceImpl.java:304) ~[classes!/:na] at run.halo.app.controller.admin.api.BackupController.exportData(BackupController.java:97) ~[classes!/:na] at run.halo.app.controller.admin.api.BackupController$$FastClassBySpringCGLIB$$810ea7c7.invoke(&lt;generated&gt;) ~[classes!/:na] at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at run.halo.app.core.ControllerLogAop.controller(ControllerLogAop.java:48) ~[classes!/:na] at jdk.internal.reflect.GeneratedMethodAccessor303.invoke(Unknown Source) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at run.halo.app.handler.aspect.DisableOnConditionAspect.around(DisableOnConditionAspect.java:43) ~[classes!/:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at run.halo.app.controller.admin.api.BackupController$$EnhancerBySpringCGLIB$$ca126f0f.exportData(&lt;generated&gt;) ~[classes!/:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:523) ~[jakarta.servlet-api-4.0.3.jar!/:4.0.3] at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[jakarta.servlet-api-4.0.3.jar!/:4.0.3] at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at run.halo.app.security.filter.AdminAuthenticationFilter.doAuthenticate(AdminAuthenticationFilter.java:116) ~[classes!/:na] at run.halo.app.security.filter.AbstractAuthenticationFilter.doFilterInternal(AbstractAuthenticationFilter.java:191) ~[classes!/:na] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at run.halo.app.filter.CorsFilter.doFilter(CorsFilter.java:49) ~[classes!/:na] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at run.halo.app.filter.LogFilter.doFilterInternal(LogFilter.java:38) ~[classes!/:na] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:109) ~[spring-boot-actuator-2.2.5.RELEASE.jar!/:2.2.5.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na] at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na] at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na] Caused by: java.nio.file.NoSuchFileException: /tmp/halo-data-export/halo-data-export-2020-05-15-23-09-21-464891705.json at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92) ~[na:na] at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111) ~[na:na] at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116) ~[na:na] at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219) ~[na:na] at java.base/java.nio.file.Files.newByteChannel(Files.java:370) ~[na:na] at java.base/java.nio.file.Files.createFile(Files.java:647) ~[na:na] at run.halo.app.service.impl.BackupServiceImpl.exportData(BackupServiceImpl.java:297) ~[classes!/:na] ... 106 common frames omitted  2020-05-15 23:09:24.280 ERROR 616 --- [XNIO-1 task-13] r.h.app.core.ControllerExceptionHandler  : Captured an exception  run.halo.app.exception.ServiceException: Failed to backup halo at run.halo.app.service.impl.BackupServiceImpl.backupWorkDirectory(BackupServiceImpl.java:178) ~[classes!/:na] at run.halo.app.controller.admin.api.BackupController.backupHalo(BackupController.java:47) ~[classes!/:na] at run.halo.app.controller.admin.api.BackupController$$FastClassBySpringCGLIB$$810ea7c7.invoke(&lt;generated&gt;) ~[classes!/:na] at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at run.halo.app.core.ControllerLogAop.controller(ControllerLogAop.java:48) ~[classes!/:na] at jdk.internal.reflect.GeneratedMethodAccessor303.invoke(Unknown Source) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at run.halo.app.handler.aspect.DisableOnConditionAspect.around(DisableOnConditionAspect.java:43) ~[classes!/:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at run.halo.app.controller.admin.api.BackupController$$EnhancerBySpringCGLIB$$ca126f0f.backupHalo(&lt;generated&gt;) ~[classes!/:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:523) ~[jakarta.servlet-api-4.0.3.jar!/:4.0.3] at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[jakarta.servlet-api-4.0.3.jar!/:4.0.3] at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at run.halo.app.security.filter.AdminAuthenticationFilter.doAuthenticate(AdminAuthenticationFilter.java:116) ~[classes!/:na] at run.halo.app.security.filter.AbstractAuthenticationFilter.doFilterInternal(AbstractAuthenticationFilter.java:191) ~[classes!/:na] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at run.halo.app.filter.CorsFilter.doFilter(CorsFilter.java:49) ~[classes!/:na] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at run.halo.app.filter.LogFilter.doFilterInternal(LogFilter.java:38) ~[classes!/:na] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:109) ~[spring-boot-actuator-2.2.5.RELEASE.jar!/:2.2.5.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar!/:5.2.4.RELEASE] at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99) ~[undertow-servlet-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830) ~[undertow-core-2.0.29.Final.jar!/:2.0.29.Final] at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na] at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na] at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na] Caused by: java.nio.file.NoSuchFileException: /tmp/halo-backup/halo-backup-2020-05-15-23-09-24--834581693.zip at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92) ~[na:na] at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111) ~[na:na] at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116) ~[na:na] at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219) ~[na:na] at java.base/java.nio.file.Files.newByteChannel(Files.java:370) ~[na:na] at java.base/java.nio.file.Files.createFile(Files.java:647) ~[na:na] at run.halo.app.service.impl.BackupServiceImpl.backupWorkDirectory(BackupServiceImpl.java:170) ~[classes!/:na] ... 106 common frames omitted ```  --- </description>
		</buginformation>
		<fixedfiles>
			<file>src/main/java/run/halo/app/handler/file/QiniuOssFileHandler.java</file>
			<file>src/main/java/run/halo/app/config/HaloConfiguration.java</file>
			<file>src/main/java/run/halo/app/model/support/HaloConst.java</file>
		</fixedfiles>
	</bug>
	<bug id="785" opendate="2020-04-26 03:24:35" fixdate="2020-05-16 11:21:43">
		<buginformation>
			<summary>在博客设置中设置取消全局绝对路径导致无法访问需要密码的文章</summary>
			<description>取消全局绝对路径会影响到需要密码访问的文章，输入密码后跳转的网址只有archives/...，archives前面的域名不见了 </description>
		</buginformation>
		<fixedfiles>
			<file>src/main/java/run/halo/app/listener/freemarker/FreemarkerConfigAwareListener.java</file>
		</fixedfiles>
	</bug>
	<bug id="748" opendate="2020-04-03 08:00:33" fixdate="2020-04-05 06:51:08">
		<buginformation>
			<summary>留言邮件中链接地址不完整 - 缺少博客地址</summary>
			<description>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;    &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境  &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  版本：1.3.1 数据库：H2 1.4.196 (2017-06-10) 运行模式：production User Agent：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.149 Safari/537.36  ---  ## 错误日志  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  ---  ## 期望行为  &lt;!--   你期望会发生什么？ --&gt; 正确定位 `https://blog.buckbit.top/s/assignment`  ## 当前行为  &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt; ![image](https://user-images.githubusercontent.com/44362358/78337779-1e437a80-75c4-11ea-8e6b-de86a23e5260.png)  </description>
		</buginformation>
		<fixedfiles>
			<file>src/main/java/run/halo/app/listener/comment/CommentEventListener.java</file>
		</fixedfiles>
	</bug>
	<bug id="713" opendate="2020-03-25 15:02:25" fixdate="2020-03-28 06:33:26">
		<buginformation>
			<summary>开发环境在线安装和zip安装主题失败</summary>
			<description>## 我的环境  ``` 版本： 数据库：H2 1.4.196 (2017-06-10) 运行模式：production 启动时间：2020-03-25 22:51 ```  ---  ## 错误日志  ``` java.lang.NullPointerException: null at java.util.StringTokenizer.&lt;init&gt;(StringTokenizer.java:199) ~[na:1.8.0_242] at java.util.StringTokenizer.&lt;init&gt;(StringTokenizer.java:221) ~[na:1.8.0_242] at run.halo.app.utils.VersionUtil.getCanonicalVersion(VersionUtil.java:19) ~[main/:na] at run.halo.app.utils.VersionUtil.compare(VersionUtil.java:50) ~[main/:na] at run.halo.app.utils.VersionUtil.compareVersion(VersionUtil.java:79) ~[main/:na] at run.halo.app.service.impl.ThemeServiceImpl.add(ThemeServiceImpl.java:483) ~[main/:na] at run.halo.app.service.impl.ThemeServiceImpl.upload(ThemeServiceImpl.java:449) ~[main/:na] at run.halo.app.controller.admin.api.ThemeController.uploadTheme(ThemeController.java:163) ~[main/:na] at run.halo.app.controller.admin.api.ThemeController$$FastClassBySpringCGLIB$$e8e9d45c.invoke(&lt;generated&gt;) ~[main/:na] at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.4.RELEASE.jar:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE] at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE] at run.halo.app.core.ControllerLogAop.controller(ControllerLogAop.java:48) ~[main/:na] at sun.reflect.GeneratedMethodAccessor219.invoke(Unknown Source) ~[na:na] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_242] at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_242] ```  在线安装和zip安装主题均失败， 似乎 ```         if (StringUtils.isNotEmpty(tmpThemeProperty.getRequire()) &amp;&amp; !VersionUtil.compareVersion(HaloConst.HALO_VERSION, tmpThemeProperty.getRequire())) {             throw new ThemeNotSupportException("当前主题仅支持 Halo " + tmpThemeProperty.getRequire() + " 以上的版本");         } ``` 中 HaloConst.HALO_VERSION 为空？</description>
		</buginformation>
		<fixedfiles>
			<file>src/main/java/run/halo/app/config/HaloConfiguration.java</file>
			<file>src/main/java/run/halo/app/model/support/HaloConst.java</file>
		</fixedfiles>
	</bug>
	<bug id="703" opendate="2020-03-22 05:55:16" fixdate="2020-03-22 14:15:53">
		<buginformation>
			<summary>最新开发版admin首页仪表盘文章数量显示错误</summary>
			<description>![image](https://user-images.githubusercontent.com/51355342/77243383-75506380-6c44-11ea-8da6-03916b84cdde.png) ![image](https://user-images.githubusercontent.com/51355342/77243388-80a38f00-6c44-11ea-927b-98451c7baa3f.png) ![image](https://user-images.githubusercontent.com/51355342/77243399-9a44d680-6c44-11ea-9983-377c4d8d2975.png) ![image](https://user-images.githubusercontent.com/51355342/77243404-a2047b00-6c44-11ea-95b0-0759d98023da.png) 首页仪表盘显示的文章数量会比真实文章数量+1。该bug在最新开发版本上发现</description>
		</buginformation>
		<fixedfiles>
			<file>src/main/java/run/halo/app/service/impl/StatisticServiceImpl.java</file>
		</fixedfiles>
	</bug>
	<bug id="553" opendate="2020-02-10 08:02:08" fixdate="2020-02-10 10:24:37">
		<buginformation>
			<summary>更新主题操作不会刷新主题相关的缓存</summary>
			<description>&lt;!--   你好！感谢你正在考虑为 Halo 提交一个 bug。请花一点点时间尽量详细地回答以下基础问题。    谢谢！ --&gt;  &lt;!--    请确认你已经做了下面这些事情，若 bug 还是未解决，那么请尽可详细地描述你的问题。    - 我已经安装了最新版的 Halo   - 我已经搜索了已有的 Issues 列表中有关的信息   - 我已经搜索了论坛中有关的信息：https://bbs.halo.run   - 我已经阅读了 Halo 的 FAQ：https://halo.run/archives/other-faq --&gt;  ## 我的环境  &lt;!--    请登录到博客后台，进入菜单 `系统-&gt;关于` 点击 `环境信息` 旁边的按钮即可复制环境信息。 --&gt;  Server 版本：1.2.0 Admin 版本：1.2.0 数据库：H2 运行模式：production UA 信息：Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36  ---  ## 错误日志  &lt;!--    请登录到博客后台，点击菜单栏中的 `Halo Dashboard` 10 次即可开启 `开发者选项`。进入开发者选项中的 `实时日志`。   你可以选择查找具体的错误日志，或者直接下载日志文件复制到下面即可。（注意：日志堆栈信息请用 Markdown 的代码块语法，以方便查看。） --&gt;  ---  ## 期望行为  &lt;!--   你期望会发生什么？ --&gt;  更新主题之后触发刷新主题信息的事件  ## 当前行为  &lt;!--   描述 bug 细节，确认出现此问题的复现步骤，例如点击了哪里，发生了什么情况？    你可以粘贴截图或附件。 --&gt;  不会触发。</description>
		</buginformation>
		<fixedfiles>
			<file>src/main/java/run/halo/app/listener/freemarker/FreemarkerConfigAwareListener.java</file>
			<file>src/main/java/run/halo/app/service/impl/ThemeServiceImpl.java</file>
		</fixedfiles>
	</bug>
	<bug id="529" opendate="2020-01-31 03:10:18" fixdate="2020-03-14 03:14:16">
		<buginformation>
			<summary>文件上传至本地功能可能存在内存泄漏</summary>
			<description># 复现  将附件位置设置为本地，然后多次上传大图片，观察内存占用。</description>
		</buginformation>
		<fixedfiles>
			<file>src/main/java/run/halo/app/handler/file/AliOssFileHandler.java</file>
			<file>src/main/java/run/halo/app/handler/file/TencentCosFileHandler.java</file>
			<file>src/main/java/run/halo/app/exception/RepeatTypeException.java</file>
			<file>src/main/java/run/halo/app/handler/file/FileHandler.java</file>
			<file>src/main/java/run/halo/app/handler/file/FileHandlers.java</file>
			<file>src/main/java/run/halo/app/utils/ImageUtils.java</file>
			<file>src/main/java/run/halo/app/handler/file/BaiduBosFileHandler.java</file>
			<file>src/main/java/run/halo/app/handler/file/LocalFileHandler.java</file>
			<file>src/main/java/run/halo/app/service/impl/ThemeServiceImpl.java</file>
			<file>src/main/java/run/halo/app/handler/file/QiniuOssFileHandler.java</file>
			<file>src/main/java/run/halo/app/handler/file/UpOssFileHandler.java</file>
			<file>src/main/java/run/halo/app/handler/file/SmmsFileHandler.java</file>
		</fixedfiles>
	</bug>
	<bug id="416" opendate="2019-12-10 02:38:08" fixdate="2019-12-10 03:07:19">
		<buginformation>
			<summary>ico 图片上传到云存储失败</summary>
			<description>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [x] [Halo 使用文档](https://halo.run/docs) - [x] [Halo 论坛](https://bbs.halo.run) - [x] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [x] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持 </description>
		</buginformation>
		<fixedfiles>
			<file>src/main/java/run/halo/app/handler/file/AliOssFileHandler.java</file>
			<file>src/main/java/run/halo/app/handler/file/TencentCosFileHandler.java</file>
			<file>src/main/java/run/halo/app/utils/ImageUtils.java</file>
			<file>src/main/java/run/halo/app/handler/file/LocalFileHandler.java</file>
			<file>src/main/java/run/halo/app/handler/file/BaiduBosFileHandler.java</file>
			<file>src/main/java/run/halo/app/handler/file/QiniuOssFileHandler.java</file>
			<file>src/main/java/run/halo/app/handler/file/UpOssFileHandler.java</file>
			<file>src/main/java/run/halo/app/handler/file/SmmsFileHandler.java</file>
		</fixedfiles>
	</bug>
	<bug id="280" opendate="2019-08-19 09:38:39" fixdate="2019-09-03 02:12:13">
		<buginformation>
			<summary>文章标题不能带有英文句号.</summary>
			<description>文章标题不能带有英文句号.,如果有一个或者多个,会报错404,估计原因是数据库用了.作为层级分割,来自http://www.lt8.top      的博客</description>
		</buginformation>
		<fixedfiles>
			<file>src/main/java/run/halo/app/model/params/PostParam.java</file>
			<file>src/main/java/run/halo/app/service/impl/AdminServiceImpl.java</file>
			<file>src/main/java/run/halo/app/model/params/SheetParam.java</file>
		</fixedfiles>
	</bug>
	<bug id="264" opendate="2019-07-29 02:51:38" fixdate="2019-07-29 12:20:13">
		<buginformation>
			<summary>文章路径中包含 &amp; 字符会导致站点地图出现错误</summary>
			<description>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [ ] [Halo 使用文档](https://halo.run/docs) - [ ] [Halo 论坛](https://bbs.halo.run) - [ ] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [ ] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [ ] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持 </description>
		</buginformation>
		<fixedfiles>
			<file>src/main/java/run/halo/app/controller/content/ContentFeedController.java</file>
		</fixedfiles>
	</bug>
	<bug id="164" opendate="2019-05-21 07:21:39" fixdate="2019-05-21 10:29:30">
		<buginformation>
			<summary>站点地图报错</summary>
			<description>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [ ] [Halo 使用文档](https://docs.halo.run/) - [ ] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [ ] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持  pageable参数不能为null</description>
		</buginformation>
		<fixedfiles>
			<file>src/main/java/run/halo/app/controller/content/ContentFeedController.java</file>
		</fixedfiles>
	</bug>
	<bug id="160" opendate="2019-05-16 08:35:19" fixdate="2019-05-16 15:14:28">
		<buginformation>
			<summary>主题编辑二级目录的文件保存会失败</summary>
			<description>&lt;!-- 如果你不认真勾选下面的内容，我可能会直接关闭你的 Issue。 提问之前，建议先阅读 https://github.com/ruby-china/How-To-Ask-Questions-The-Smart-Way --&gt;  **我确定我已经查看了** (标注`[ ]`为`[x]`)  - [ ] [Halo 使用文档](https://docs.halo.run/) - [ ] [Github Wiki 常见问题](https://github.com/halo-dev/halo/wiki/4.-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) - [ ] [其他 Issues](https://github.com/halo-dev/halo/issues)  ----  **我要申请**  (标注`[ ]`为`[x]`)  - [x] BUG 反馈 - [ ] 添加新的特性或者功能 - [ ] 请求技术支持 RT</description>
		</buginformation>
		<fixedfiles>
			<file>src/main/java/run/halo/app/controller/admin/api/ThemeController.java</file>
		</fixedfiles>
	</bug>
	<bug id="110" opendate="2019-03-04 15:28:02" fixdate="2019-03-05 10:57:31">
		<buginformation>
			<summary>七牛云上传附件失败</summary>
			<description>报错信息 `{"error":"incorrect region, please use up-z1.qiniup.com"}` 我查了一下大概是这个原因，我在对象存储里面设置的分区是华北，但如果你没有在UploadManager里面特别设置zone的话，它默认往zong1传，zong1是华东。 所以在需要额外暴露一个设置空间区域的设定，或者放yaml里配，合理的应该是在做一个选项在附件设置里面，选择分区。  ```java         //————http上传,指定zone的具体区域——         //Zone.zone0:华东         //Zone.zone1:华北         //Zone.zone2:华南         //Zone.zoneNa0:北美         //———http上传，自动识别上传区域——         //Zone.httpAutoZone         //———https上传，自动识别上传区域——         //Zone.httpsAutoZone          Configuration config = new Configuration.Builder()                 .chunkSize(256 * 1024)  //分片上传时，每片的大小。 默认256K                 .putThreshhold(512 * 1024)  // 启用分片上传阀值。默认512K                 .connectTimeout(10) // 链接超时。默认10秒                 .responseTimeout(60) // 服务器响应超时。默认60秒                 .recorder(null)  // recorder分片上传时，已上传片记录器。默认null                 .recorder(null, null)  // keyGen 分片上传时，生成标识符，用于片记录器区分是那个文件的上传记录                 .zone(Zone.zone2) // 设置区域，指定不同区域的上传域名、备用域名、备用IP。                 .build();         this.uploadManager = new UploadManager(config);</description>
		</buginformation>
		<fixedfiles>
			<file>src/main/java/cc/ryanc/halo/service/impl/AttachmentServiceImpl.java</file>
			<file>src/test/java/cc/ryanc/halo/utils/HaloUtilsTest.java</file>
			<file>src/main/java/cc/ryanc/halo/web/controller/api/ApiJournalController.java</file>
			<file>src/main/java/cc/ryanc/halo/utils/HaloUtils.java</file>
		</fixedfiles>
	</bug>
<bugrepository>
